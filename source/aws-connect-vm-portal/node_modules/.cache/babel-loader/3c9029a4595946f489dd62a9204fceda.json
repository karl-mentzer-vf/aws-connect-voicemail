{"ast":null,"code":"/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/import ContactFlowService from\"../../service/contact-flow.service\";import{ApiService}from\"../../service/api.service\";import FileSaverService from\"../../service/file-saver.service\";const fileSaverService=new FileSaverService();const contactFlowService=new ContactFlowService(new ApiService(),fileSaverService);const ContactFlowActionKey={SHOW_CONTACT_FLOW_MODAL:\"SHOW_CONTACT_FLOW_MODAL\",DOWNLOADING:\"DOWNLOADING\",DOWNLOAD:\"DOWNLOAD\",DOWNLOAD_ERROR:\"DOWNLOAD_ERROR\"};const downloadErrorResults=error=>{return{type:ContactFlowActionKey.DOWNLOAD_ERROR,value:error};};const downloadingResults=downloading=>{return{type:ContactFlowActionKey.DOWNLOADING,value:downloading};};const downloadResult=contactFlow=>{return{type:ContactFlowActionKey.DOWNLOAD,value:{contactFlow}};};const showModalResults=show=>{return{type:ContactFlowActionKey.SHOW_CONTACT_FLOW_MODAL,value:show};};const ContactFlowAction={download:contactFloDto=>{return dispatch=>{// console.log(\"The document\", document);\ndispatch(downloadErrorResults(null));dispatch(downloadingResults(true));contactFlowService.downloadContactFlow(contactFloDto).then(contactFlow=>{dispatch(downloadResult(contactFlow));}).catch(err=>{// console.log(\"The error\", err);\ndispatch(downloadErrorResults(err));}).finally(()=>{dispatch(downloadingResults(false));});};},showModal:show=>{return dispatch=>{dispatch(showModalResults(show));};}};export{ContactFlowAction,ContactFlowActionKey};","map":{"version":3,"names":["ContactFlowService","ApiService","FileSaverService","fileSaverService","contactFlowService","ContactFlowActionKey","SHOW_CONTACT_FLOW_MODAL","DOWNLOADING","DOWNLOAD","DOWNLOAD_ERROR","downloadErrorResults","error","type","value","downloadingResults","downloading","downloadResult","contactFlow","showModalResults","show","ContactFlowAction","download","contactFloDto","dispatch","downloadContactFlow","then","catch","err","finally","showModal"],"sources":["/home/ec2-user/environment/aws-connect-voicemail/source/aws-connect-vm-portal/src/store/actions/contact-flow.actions.ts"],"sourcesContent":["/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport ContactFlowService from \"../../service/contact-flow.service\";\nimport { ApiService } from \"../../service/api.service\";\nimport { Dispatch } from \"redux\";\nimport ContactFlowDto from \"../../dto/contact-flow.dto\";\nimport FileSaverService from \"../../service/file-saver.service\";\n\nconst fileSaverService = new FileSaverService();\nconst contactFlowService = new ContactFlowService(new ApiService(), fileSaverService);\n\nconst ContactFlowActionKey = {\n  SHOW_CONTACT_FLOW_MODAL: \"SHOW_CONTACT_FLOW_MODAL\",\n  DOWNLOADING: \"DOWNLOADING\",\n  DOWNLOAD: \"DOWNLOAD\",\n  DOWNLOAD_ERROR: \"DOWNLOAD_ERROR\"\n};\n\nconst downloadErrorResults = (error: Error | null) => {\n  return {\n    type: ContactFlowActionKey.DOWNLOAD_ERROR,\n    value: error\n  }\n};\n\nconst downloadingResults = (downloading: Boolean) => {\n  return {\n    type: ContactFlowActionKey.DOWNLOADING,\n    value: downloading\n  }\n};\n\nconst downloadResult = (contactFlow: any) => {\n  return {\n    type: ContactFlowActionKey.DOWNLOAD,\n    value: { contactFlow }\n  }\n};\n\nconst showModalResults = (show: Boolean) => {\n  return {\n    type: ContactFlowActionKey.SHOW_CONTACT_FLOW_MODAL,\n    value: show\n  }\n};\n\nconst ContactFlowAction = {\n  download: (contactFloDto: ContactFlowDto) => {\n    return (dispatch: Dispatch) => {\n      // console.log(\"The document\", document);\n      dispatch(downloadErrorResults(null));\n      dispatch(downloadingResults(true));\n      contactFlowService.downloadContactFlow(contactFloDto)\n        .then(contactFlow => {\n          dispatch(downloadResult(contactFlow));\n        })\n        .catch(err => {\n          // console.log(\"The error\", err);\n          dispatch(downloadErrorResults(err))\n        })\n        .finally(() => {\n          dispatch(downloadingResults(false));\n        })\n    }\n  },\n  showModal: (show: Boolean) => {\n    return (dispatch: Dispatch) => {\n      dispatch(showModalResults(show));\n    }\n  }\n};\n\nexport { ContactFlowAction, ContactFlowActionKey }\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAEA,MAAO,CAAAA,kBAAkB,KAAM,oCAAoC,CACnE,OAASC,UAAU,KAAQ,2BAA2B,CAGtD,MAAO,CAAAC,gBAAgB,KAAM,kCAAkC,CAE/D,KAAM,CAAAC,gBAAgB,CAAG,GAAI,CAAAD,gBAAgB,CAAC,CAAC,CAC/C,KAAM,CAAAE,kBAAkB,CAAG,GAAI,CAAAJ,kBAAkB,CAAC,GAAI,CAAAC,UAAU,CAAC,CAAC,CAAEE,gBAAgB,CAAC,CAErF,KAAM,CAAAE,oBAAoB,CAAG,CAC3BC,uBAAuB,CAAE,yBAAyB,CAClDC,WAAW,CAAE,aAAa,CAC1BC,QAAQ,CAAE,UAAU,CACpBC,cAAc,CAAE,gBAClB,CAAC,CAED,KAAM,CAAAC,oBAAoB,CAAIC,KAAmB,EAAK,CACpD,MAAO,CACLC,IAAI,CAAEP,oBAAoB,CAACI,cAAc,CACzCI,KAAK,CAAEF,KACT,CAAC,CACH,CAAC,CAED,KAAM,CAAAG,kBAAkB,CAAIC,WAAoB,EAAK,CACnD,MAAO,CACLH,IAAI,CAAEP,oBAAoB,CAACE,WAAW,CACtCM,KAAK,CAAEE,WACT,CAAC,CACH,CAAC,CAED,KAAM,CAAAC,cAAc,CAAIC,WAAgB,EAAK,CAC3C,MAAO,CACLL,IAAI,CAAEP,oBAAoB,CAACG,QAAQ,CACnCK,KAAK,CAAE,CAAEI,WAAY,CACvB,CAAC,CACH,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAIC,IAAa,EAAK,CAC1C,MAAO,CACLP,IAAI,CAAEP,oBAAoB,CAACC,uBAAuB,CAClDO,KAAK,CAAEM,IACT,CAAC,CACH,CAAC,CAED,KAAM,CAAAC,iBAAiB,CAAG,CACxBC,QAAQ,CAAGC,aAA6B,EAAK,CAC3C,MAAQ,CAAAC,QAAkB,EAAK,CAC7B;AACAA,QAAQ,CAACb,oBAAoB,CAAC,IAAI,CAAC,CAAC,CACpCa,QAAQ,CAACT,kBAAkB,CAAC,IAAI,CAAC,CAAC,CAClCV,kBAAkB,CAACoB,mBAAmB,CAACF,aAAa,CAAC,CAClDG,IAAI,CAACR,WAAW,EAAI,CACnBM,QAAQ,CAACP,cAAc,CAACC,WAAW,CAAC,CAAC,CACvC,CAAC,CAAC,CACDS,KAAK,CAACC,GAAG,EAAI,CACZ;AACAJ,QAAQ,CAACb,oBAAoB,CAACiB,GAAG,CAAC,CAAC,CACrC,CAAC,CAAC,CACDC,OAAO,CAAC,IAAM,CACbL,QAAQ,CAACT,kBAAkB,CAAC,KAAK,CAAC,CAAC,CACrC,CAAC,CAAC,CACN,CAAC,CACH,CAAC,CACDe,SAAS,CAAGV,IAAa,EAAK,CAC5B,MAAQ,CAAAI,QAAkB,EAAK,CAC7BA,QAAQ,CAACL,gBAAgB,CAACC,IAAI,CAAC,CAAC,CAClC,CAAC,CACH,CACF,CAAC,CAED,OAASC,iBAAiB,CAAEf,oBAAoB"},"metadata":{},"sourceType":"module"}