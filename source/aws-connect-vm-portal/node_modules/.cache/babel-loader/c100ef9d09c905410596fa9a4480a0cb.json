{"ast":null,"code":"import _objectSpread from\"/home/ec2-user/environment/aws-connect-voicemail/source/aws-connect-vm-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/import{GlobalSettingsService}from\"../../service/global-settings.service\";import{ApiService}from\"../../service/api.service\";var globalSettingsService=new GlobalSettingsService(new ApiService());var GlobalSettingsActionKey={SHOW_GLOBAL_SETTINGS_MODAL:\"SHOW_MODAL\",SETTINGS_LOADING:\"LOADING\",SAVE_IN_PROGRESS:\"SAVE_IN_PROGRESS\",SAVE_SETTINGS:\"SAVE_SETTINGS\",FETCH_SETTINGS:\"FETCH_SETTINGS\"};var showModalResults=function showModalResults(agent){return{type:GlobalSettingsActionKey.SHOW_GLOBAL_SETTINGS_MODAL,value:agent};};var loadingResults=function loadingResults(loading){return{type:GlobalSettingsActionKey.SETTINGS_LOADING,value:loading};};var savingResults=function savingResults(saving){console.log(\"Saving\",saving);return{type:GlobalSettingsActionKey.SAVE_IN_PROGRESS,value:saving};};var fetchSettingsResult=function fetchSettingsResult(settings){return{type:GlobalSettingsActionKey.FETCH_SETTINGS,value:_objectSpread({},settings)};};var saveSettingsResult=function saveSettingsResult(settings){return{type:GlobalSettingsActionKey.SAVE_SETTINGS,value:_objectSpread({},settings)};};var GlobalSettingsAction={showModal:function showModal(agent){return function(dispatch){dispatch(showModalResults(agent));};},fetchSettings:function fetchSettings(){return function(dispatch){dispatch(loadingResults(true));globalSettingsService.getSettings().then(function(settings){dispatch(fetchSettingsResult(settings));}).catch(function(err){// TODO: Handle Error\nconsole.log(err);}).finally(function(){dispatch(loadingResults(false));});};},saveSettings:function saveSettings(settings){return function(dispatch){dispatch(savingResults(true));globalSettingsService.saveSettings(settings).then(function(settings){dispatch(saveSettingsResult(settings));}).catch(function(err){// TODO: Handle Error\nconsole.log(err);}).finally(function(){dispatch(savingResults(false));});};}};export{GlobalSettingsActionKey,GlobalSettingsAction};","map":{"version":3,"names":["GlobalSettingsService","ApiService","globalSettingsService","GlobalSettingsActionKey","SHOW_GLOBAL_SETTINGS_MODAL","SETTINGS_LOADING","SAVE_IN_PROGRESS","SAVE_SETTINGS","FETCH_SETTINGS","showModalResults","agent","type","value","loadingResults","loading","savingResults","saving","console","log","fetchSettingsResult","settings","_objectSpread","saveSettingsResult","GlobalSettingsAction","showModal","dispatch","fetchSettings","getSettings","then","catch","err","finally","saveSettings"],"sources":["/home/ec2-user/environment/aws-connect-voicemail/source/aws-connect-vm-portal/src/store/actions/global-settings.actions.ts"],"sourcesContent":["/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport {GlobalSettingsService} from \"../../service/global-settings.service\";\nimport {ApiService} from \"../../service/api.service\";\nimport {Dispatch} from \"redux\";\nimport {GlobalSettingsInterface} from \"../../interface/global-settings.interface\";\nimport {AgentInterface} from \"../../interface/agent.interface\";\n\nconst globalSettingsService = new GlobalSettingsService(new ApiService());\n\nconst GlobalSettingsActionKey = {\n    SHOW_GLOBAL_SETTINGS_MODAL: \"SHOW_MODAL\",\n    SETTINGS_LOADING: \"LOADING\",\n    SAVE_IN_PROGRESS: \"SAVE_IN_PROGRESS\",\n    SAVE_SETTINGS: \"SAVE_SETTINGS\",\n    FETCH_SETTINGS: \"FETCH_SETTINGS\"\n};\n\nconst showModalResults = (agent: AgentInterface) => {\n    return {\n        type: GlobalSettingsActionKey.SHOW_GLOBAL_SETTINGS_MODAL,\n        value: agent\n    }\n};\n\nconst loadingResults = (loading: boolean) => {\n    return {\n        type: GlobalSettingsActionKey.SETTINGS_LOADING,\n        value: loading\n    }\n};\n\nconst savingResults = (saving: boolean) => {\n    console.log(\"Saving\", saving);\n    return {\n        type: GlobalSettingsActionKey.SAVE_IN_PROGRESS,\n        value: saving\n    }\n};\n\nconst fetchSettingsResult = (settings: GlobalSettingsInterface) => {\n    return {\n        type: GlobalSettingsActionKey.FETCH_SETTINGS,\n        value: {\n            ...settings\n        }\n    }\n};\n\nconst saveSettingsResult = (settings: GlobalSettingsInterface) => {\n    return {\n        type: GlobalSettingsActionKey.SAVE_SETTINGS,\n        value: {\n            ...settings\n        }\n    }\n};\n\nconst GlobalSettingsAction = {\n    showModal: (agent: AgentInterface) => {\n        return (dispatch: Dispatch) => {\n            dispatch(showModalResults(agent))\n        }\n    },\n    fetchSettings: () => {\n        return (dispatch: Dispatch) => {\n            dispatch(loadingResults(true));\n            globalSettingsService.getSettings()\n                .then(settings => {\n                    dispatch(fetchSettingsResult(settings));\n                })\n                .catch(err => {\n                    // TODO: Handle Error\n                    console.log(err);\n                })\n                .finally(() => {\n                    dispatch(loadingResults(false));\n                })\n        }\n    },\n    saveSettings: (settings: GlobalSettingsInterface) => {\n        return (dispatch: Dispatch) => {\n            dispatch(savingResults(true));\n            globalSettingsService.saveSettings(settings)\n                .then(settings => {\n                    dispatch(saveSettingsResult(settings));\n                })\n                .catch(err => {\n                    // TODO: Handle Error\n                    console.log(err);\n                })\n                .finally(() => {\n                    dispatch(savingResults(false));\n                })\n        }\n    }\n};\n\nexport {GlobalSettingsActionKey, GlobalSettingsAction}"],"mappings":"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"},"metadata":{},"sourceType":"module"}