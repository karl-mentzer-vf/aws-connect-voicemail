{"ast":null,"code":"/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/import{FileSaverType}from\"./file-saver.service\";class ContactFlowService{constructor(apiService,fileSaver){this.apiService=void 0;this.fileSaver=void 0;this.apiService=apiService;this.fileSaver=fileSaver;}downloadContactFlow(contactFlowDto){return this.apiService.getContactFlow(contactFlowDto).then(contactFlow=>{return this.handleMultipleFlows(contactFlow);});}handleMultipleFlows(flowArr){this.saveAsJson(flowArr[0].metadata.name,flowArr[0]);this.saveAsJson(flowArr[1].metadata.name,flowArr[1]);return;}saveAsJson(fileName,contactFlow){return this.fileSaver.save(FileSaverType.JSON,'utf-8',encodeURI(JSON.stringify(contactFlow)),fileName);}}export default ContactFlowService;","map":{"version":3,"names":["FileSaverType","ContactFlowService","constructor","apiService","fileSaver","downloadContactFlow","contactFlowDto","getContactFlow","then","contactFlow","handleMultipleFlows","flowArr","saveAsJson","metadata","name","fileName","save","JSON","encodeURI","stringify"],"sources":["/home/ec2-user/environment/aws-connect-voicemail/source/aws-connect-vm-portal/src/service/contact-flow.service.ts"],"sourcesContent":["/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport ContactFlowDto from \"../dto/contact-flow.dto\";\nimport { ApiService } from \"./api.service\";\nimport FileSaverService, { FileSaverType } from \"./file-saver.service\";\n\nclass ContactFlowService {\n\n  private apiService: ApiService;\n  private fileSaver: FileSaverService;\n\n  constructor(apiService: ApiService, fileSaver: FileSaverService) {\n    this.apiService = apiService;\n    this.fileSaver = fileSaver;\n  }\n\n  downloadContactFlow(contactFlowDto: ContactFlowDto) {\n    return this.apiService.getContactFlow(contactFlowDto)\n      .then(contactFlow => {\n        return this.handleMultipleFlows(contactFlow);\n      })\n  }\n\n  handleMultipleFlows(flowArr: Array<any>) {\n    this.saveAsJson(flowArr[0].metadata.name, flowArr[0]);\n    this.saveAsJson(flowArr[1].metadata.name, flowArr[1]);\n    return;\n  }\n\n  saveAsJson(fileName: string, contactFlow: object) {\n    return this.fileSaver.save(FileSaverType.JSON, 'utf-8', encodeURI(JSON.stringify(contactFlow)), fileName);\n  }\n}\n\nexport default ContactFlowService;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAIA,OAA2BA,aAAa,KAAQ,sBAAsB,CAEtE,KAAM,CAAAC,kBAAmB,CAKvBC,WAAWA,CAACC,UAAsB,CAAEC,SAA2B,CAAE,MAHzDD,UAAU,aACVC,SAAS,QAGf,IAAI,CAACD,UAAU,CAAGA,UAAU,CAC5B,IAAI,CAACC,SAAS,CAAGA,SAAS,CAC5B,CAEAC,mBAAmBA,CAACC,cAA8B,CAAE,CAClD,MAAO,KAAI,CAACH,UAAU,CAACI,cAAc,CAACD,cAAc,CAAC,CAClDE,IAAI,CAACC,WAAW,EAAI,CACnB,MAAO,KAAI,CAACC,mBAAmB,CAACD,WAAW,CAAC,CAC9C,CAAC,CAAC,CACN,CAEAC,mBAAmBA,CAACC,OAAmB,CAAE,CACvC,IAAI,CAACC,UAAU,CAACD,OAAO,CAAC,CAAC,CAAC,CAACE,QAAQ,CAACC,IAAI,CAAEH,OAAO,CAAC,CAAC,CAAC,CAAC,CACrD,IAAI,CAACC,UAAU,CAACD,OAAO,CAAC,CAAC,CAAC,CAACE,QAAQ,CAACC,IAAI,CAAEH,OAAO,CAAC,CAAC,CAAC,CAAC,CACrD,OACF,CAEAC,UAAUA,CAACG,QAAgB,CAAEN,WAAmB,CAAE,CAChD,MAAO,KAAI,CAACL,SAAS,CAACY,IAAI,CAAChB,aAAa,CAACiB,IAAI,CAAE,OAAO,CAAEC,SAAS,CAACD,IAAI,CAACE,SAAS,CAACV,WAAW,CAAC,CAAC,CAAEM,QAAQ,CAAC,CAC3G,CACF,CAEA,cAAe,CAAAd,kBAAkB"},"metadata":{},"sourceType":"module"}