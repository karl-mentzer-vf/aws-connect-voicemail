{"ast":null,"code":"import _classCallCheck from\"/home/ec2-user/environment/aws-connect-voicemail/source/aws-connect-vm-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ec2-user/environment/aws-connect-voicemail/source/aws-connect-vm-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/import{FileSaverType}from\"./file-saver.service\";var ContactFlowService=/*#__PURE__*/function(){function ContactFlowService(apiService,fileSaver){_classCallCheck(this,ContactFlowService);this.apiService=void 0;this.fileSaver=void 0;this.apiService=apiService;this.fileSaver=fileSaver;}_createClass(ContactFlowService,[{key:\"downloadContactFlow\",value:function downloadContactFlow(contactFlowDto){var _this=this;return this.apiService.getContactFlow(contactFlowDto).then(function(contactFlow){return _this.handleMultipleFlows(contactFlow);});}},{key:\"handleMultipleFlows\",value:function handleMultipleFlows(flowArr){this.saveAsJson(flowArr[0].metadata.name,flowArr[0]);this.saveAsJson(flowArr[1].metadata.name,flowArr[1]);return;}},{key:\"saveAsJson\",value:function saveAsJson(fileName,contactFlow){return this.fileSaver.save(FileSaverType.JSON,'utf-8',encodeURI(JSON.stringify(contactFlow)),fileName);}}]);return ContactFlowService;}();export default ContactFlowService;","map":{"version":3,"names":["FileSaverType","ContactFlowService","apiService","fileSaver","_classCallCheck","_createClass","key","value","downloadContactFlow","contactFlowDto","_this","getContactFlow","then","contactFlow","handleMultipleFlows","flowArr","saveAsJson","metadata","name","fileName","save","JSON","encodeURI","stringify"],"sources":["/home/ec2-user/environment/aws-connect-voicemail/source/aws-connect-vm-portal/src/service/contact-flow.service.ts"],"sourcesContent":["/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport ContactFlowDto from \"../dto/contact-flow.dto\";\nimport { ApiService } from \"./api.service\";\nimport FileSaverService, { FileSaverType } from \"./file-saver.service\";\n\nclass ContactFlowService {\n\n  private apiService: ApiService;\n  private fileSaver: FileSaverService;\n\n  constructor(apiService: ApiService, fileSaver: FileSaverService) {\n    this.apiService = apiService;\n    this.fileSaver = fileSaver;\n  }\n\n  downloadContactFlow(contactFlowDto: ContactFlowDto) {\n    return this.apiService.getContactFlow(contactFlowDto)\n      .then(contactFlow => {\n        return this.handleMultipleFlows(contactFlow);\n      })\n  }\n\n  handleMultipleFlows(flowArr: Array<any>) {\n    this.saveAsJson(flowArr[0].metadata.name, flowArr[0]);\n    this.saveAsJson(flowArr[1].metadata.name, flowArr[1]);\n    return;\n  }\n\n  saveAsJson(fileName: string, contactFlow: object) {\n    return this.fileSaver.save(FileSaverType.JSON, 'utf-8', encodeURI(JSON.stringify(contactFlow)), fileName);\n  }\n}\n\nexport default ContactFlowService;\n"],"mappings":"sYAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAIA,OAA2BA,aAAa,KAAQ,sBAAsB,CAAC,GAEjE,CAAAC,kBAAkB,yBAKtB,SAAAA,mBAAYC,UAAsB,CAAEC,SAA2B,CAAE,CAAAC,eAAA,MAAAH,kBAAA,OAHzDC,UAAU,aACVC,SAAS,QAGf,IAAI,CAACD,UAAU,CAAGA,UAAU,CAC5B,IAAI,CAACC,SAAS,CAAGA,SAAS,CAC5B,CAACE,YAAA,CAAAJ,kBAAA,GAAAK,GAAA,uBAAAC,KAAA,CAED,SAAAC,oBAAoBC,cAA8B,CAAE,KAAAC,KAAA,MAClD,MAAO,KAAI,CAACR,UAAU,CAACS,cAAc,CAACF,cAAc,CAAC,CAClDG,IAAI,CAAC,SAAAC,WAAW,CAAI,CACnB,MAAO,CAAAH,KAAI,CAACI,mBAAmB,CAACD,WAAW,CAAC,CAC9C,CAAC,CAAC,CACN,CAAC,GAAAP,GAAA,uBAAAC,KAAA,CAED,SAAAO,oBAAoBC,OAAmB,CAAE,CACvC,IAAI,CAACC,UAAU,CAACD,OAAO,CAAC,CAAC,CAAC,CAACE,QAAQ,CAACC,IAAI,CAAEH,OAAO,CAAC,CAAC,CAAC,CAAC,CACrD,IAAI,CAACC,UAAU,CAACD,OAAO,CAAC,CAAC,CAAC,CAACE,QAAQ,CAACC,IAAI,CAAEH,OAAO,CAAC,CAAC,CAAC,CAAC,CACrD,OACF,CAAC,GAAAT,GAAA,cAAAC,KAAA,CAED,SAAAS,WAAWG,QAAgB,CAAEN,WAAmB,CAAE,CAChD,MAAO,KAAI,CAACV,SAAS,CAACiB,IAAI,CAACpB,aAAa,CAACqB,IAAI,CAAE,OAAO,CAAEC,SAAS,CAACD,IAAI,CAACE,SAAS,CAACV,WAAW,CAAC,CAAC,CAAEM,QAAQ,CAAC,CAC3G,CAAC,WAAAlB,kBAAA,KAGH,cAAe,CAAAA,kBAAkB"},"metadata":{},"sourceType":"module"}