{"ast":null,"code":"/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/import AgentDto from\"../dto/agent.dto\";import AgentRequestDto from\"../dto/agent-request.dto\";import{PaginationDto}from\"../dto/pagination.dto\";class AgentsService{constructor(apiService){this.apiService=void 0;this.apiService=apiService;}getAgents(next){return this.apiService.getAgents(next).then(agents=>new PaginationDto(agents.data.map(agent=>AgentDto.fromBasicAgent(agent)),agents.next,next));}/**\n     *\n     * @param agentId\n     * @param extensionNumber\n     * @param deliverSMSPhoneNumber\n     * @param deliverSMS\n     * @param deliverEmail\n     * @param encryptVoicemail\n     * @param transcribeVoicemail\n     * @returns {Promise<AgentDto>}\n     */updateAgent(agentId,extensionNumber,deliverSMSPhoneNumber,deliverSMS,deliverEmail,encryptVoicemail,transcribeVoicemail){let agentRequest=new AgentRequestDto(extensionNumber,deliverSMSPhoneNumber,deliverSMS,deliverEmail,encryptVoicemail,transcribeVoicemail);return this.apiService.updateAgentSettings(agentId,agentRequest).then(agent=>AgentDto.fromAgent(agent));}getAgent(agentId){return this.apiService.getAgent(agentId).then(agent=>AgentDto.fromAgent(agent));}async syncAgent(){return this.apiService.syncAgent();}}export default AgentsService;","map":{"version":3,"names":["AgentDto","AgentRequestDto","PaginationDto","AgentsService","constructor","apiService","getAgents","next","then","agents","data","map","agent","fromBasicAgent","updateAgent","agentId","extensionNumber","deliverSMSPhoneNumber","deliverSMS","deliverEmail","encryptVoicemail","transcribeVoicemail","agentRequest","updateAgentSettings","fromAgent","getAgent","syncAgent"],"sources":["/home/ec2-user/environment/aws-connect-voicemail/source/aws-connect-vm-portal/src/service/agents.service.ts"],"sourcesContent":["/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport {ApiService} from \"./api.service\";\nimport AgentDto from \"../dto/agent.dto\";\nimport AgentRequestDto from \"../dto/agent-request.dto\";\nimport {PaginationDto} from \"../dto/pagination.dto\";\n\nclass AgentsService {\n\n    apiService: ApiService;\n\n    constructor(apiService: ApiService) {\n        this.apiService = apiService;\n    }\n\n    getAgents(next : string | null): Promise<PaginationDto<AgentDto>> {\n        return this.apiService.getAgents(next)\n            .then(agents => new PaginationDto<AgentDto>(\n                agents.data.map(agent => AgentDto.fromBasicAgent(agent)),\n                agents.next,\n                next));\n    }\n\n    /**\n     *\n     * @param agentId\n     * @param extensionNumber\n     * @param deliverSMSPhoneNumber\n     * @param deliverSMS\n     * @param deliverEmail\n     * @param encryptVoicemail\n     * @param transcribeVoicemail\n     * @returns {Promise<AgentDto>}\n     */\n    updateAgent(\n        agentId: string,\n        extensionNumber: string,\n        deliverSMSPhoneNumber: string,\n        deliverSMS: boolean,\n        deliverEmail: boolean,\n        encryptVoicemail: boolean,\n        transcribeVoicemail: boolean\n    ): Promise<AgentDto> {\n        let agentRequest = new AgentRequestDto(\n            extensionNumber,\n            deliverSMSPhoneNumber,\n            deliverSMS,\n            deliverEmail,\n            encryptVoicemail,\n            transcribeVoicemail\n        );\n        return this.apiService.updateAgentSettings(agentId, agentRequest)\n            .then(agent => AgentDto.fromAgent(agent))\n    }\n\n    getAgent(agentId: string): Promise<AgentDto> {\n        return this.apiService.getAgent(agentId)\n            .then(agent => AgentDto.fromAgent(agent))\n    }\n\n    async syncAgent() {\n        return this.apiService.syncAgent();\n    }\n}\n\nexport default AgentsService;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAGA,MAAO,CAAAA,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,eAAe,KAAM,0BAA0B,CACtD,OAAQC,aAAa,KAAO,uBAAuB,CAEnD,KAAM,CAAAC,aAAc,CAIhBC,WAAWA,CAACC,UAAsB,CAAE,MAFpCA,UAAU,QAGN,IAAI,CAACA,UAAU,CAAGA,UAAU,CAChC,CAEAC,SAASA,CAACC,IAAoB,CAAoC,CAC9D,MAAO,KAAI,CAACF,UAAU,CAACC,SAAS,CAACC,IAAI,CAAC,CACjCC,IAAI,CAACC,MAAM,EAAI,GAAI,CAAAP,aAAa,CAC7BO,MAAM,CAACC,IAAI,CAACC,GAAG,CAACC,KAAK,EAAIZ,QAAQ,CAACa,cAAc,CAACD,KAAK,CAAC,CAAC,CACxDH,MAAM,CAACF,IAAI,CACXA,IAAI,CAAC,CAAC,CAClB,CAEA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OACIO,WAAWA,CACPC,OAAe,CACfC,eAAuB,CACvBC,qBAA6B,CAC7BC,UAAmB,CACnBC,YAAqB,CACrBC,gBAAyB,CACzBC,mBAA4B,CACX,CACjB,GAAI,CAAAC,YAAY,CAAG,GAAI,CAAArB,eAAe,CAClCe,eAAe,CACfC,qBAAqB,CACrBC,UAAU,CACVC,YAAY,CACZC,gBAAgB,CAChBC,mBACJ,CAAC,CACD,MAAO,KAAI,CAAChB,UAAU,CAACkB,mBAAmB,CAACR,OAAO,CAAEO,YAAY,CAAC,CAC5Dd,IAAI,CAACI,KAAK,EAAIZ,QAAQ,CAACwB,SAAS,CAACZ,KAAK,CAAC,CAAC,CACjD,CAEAa,QAAQA,CAACV,OAAe,CAAqB,CACzC,MAAO,KAAI,CAACV,UAAU,CAACoB,QAAQ,CAACV,OAAO,CAAC,CACnCP,IAAI,CAACI,KAAK,EAAIZ,QAAQ,CAACwB,SAAS,CAACZ,KAAK,CAAC,CAAC,CACjD,CAEA,KAAM,CAAAc,SAASA,CAAA,CAAG,CACd,MAAO,KAAI,CAACrB,UAAU,CAACqB,SAAS,CAAC,CAAC,CACtC,CACJ,CAEA,cAAe,CAAAvB,aAAa"},"metadata":{},"sourceType":"module"}