{"version":3,"sources":["dto/auth.dto.ts","service/api.service.ts","store/actions/auth.actions.ts","service/auth.service.ts","store/reducers/auth.reducer.ts","dto/agent.dto.ts","dto/agent-request.dto.ts","dto/pagination.dto.ts","service/agents.service.ts","store/actions/agents.actions.ts","store/reducers/agents.reducer.ts","store/actions/global-settings.actions.ts","service/global-settings.service.ts","store/reducers/global-settings.reducer.ts","service/file-saver.service.ts","service/contact-flow.service.ts","store/actions/contact-flow.actions.ts","store/reducers/contact-flow.reducer.ts","store/reducer.ts","theme/colors.js","theme/material.theme.js","history.js","auth/CognitoAuth.js","global-settings/GlobalSettingsButton.js","auth/AuthRoles.js","navigation/NavigationBar.js","common/components/AsyncButton.js","common/SearchTextField.js","agents/AgentsTable.js","contact-flow/ContactFlow.js","global-settings/GlobalSettings.js","agents/AgentSettings.js","agents/AgentsNoAuth.js","agents/Agents.js","common/requiresAuth.js","theme/global.styles.js","App.tsx","serviceWorker.js","index.tsx"],"names":["AuthDto","_createClass","auth","_classCallCheck","idToken","accessToken","refreshToken","this","HttpMethod","ApiService","baseUrl","process","apiKey","key","value","next","request","concat","getAuth","then","result","settings","contactFlowDto","contactFlow","agentId","agentRequest","agent","header","Auth","currentSession","session","getIdToken","getJwtToken","getAccessToken","getRefreshToken","getToken","method","uri","body","_this","arguments","length","undefined","Promise","resolve","_post","_get","_patch","options","headers","_getHeader","json","rp","qs","authService","AuthService","apiService","signOut","AuthActionKey","AuthAction","user","dispatch","payload","getSignInUserSession","decodePayload","authenticated","type","isAuthenticated","loginResults","email","roles","logout","initialState","loading","loginError","changePassword","reducer","state","action","_objectSpread","error","_error","name","AgentDto","userId","username","firstName","lastName","phoneType","phoneNumber","extension","encryptVoicemail","transcribeVoicemail","deliverSMS","deliverSMSPhoneNumber","deliverEmail","connectUser","phoneTypeToDisplayString","deskPhoneNumber","deliveryOptions","sms","enabled","AgentRequestDto","extensionNumber","PaginationDto","data","current","_regeneratorRuntime","exports","Op","Object","prototype","hasOwn","hasOwnProperty","defineProperty","obj","desc","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","_invoke","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","reject","invoke","record","__await","unwrapped","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","return","TypeError","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","i","displayName","isGeneratorFunction","genFun","ctor","constructor","mark","setPrototypeOf","__proto__","awrap","async","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","agentsService","AgentsService","getAgents","agents","map","fromBasicAgent","updateAgentSettings","fromAgent","getAgent","_syncAgent","_asyncToGenerator","_callee","_context","syncAgent","apply","AgentsActionKey","AgentsSortKey","AgentsSortOrder","loadingResults","getAgentsResults","showAgentResults","showAgentSettings","updatingInProgressResults","updating","updateAgentErrorResults","_getAgents","_ref","t0","_x","_x2","_ref2","_callee2","_context2","_x3","AgentsAction","_ref3","_callee3","_context3","_x4","updateAgent","updateAgentResults","finally","sortKey","sortOrder","sortAgentsResults","filter","filterAgentsResults","show","_ref4","_callee4","_context4","_x5","agentList","updateInProgress","updateError","page","sortAgents","toLowerCase","includes","sort","a","b","_toConsumableArray","shift","unshift","assign","index","findIndex","errorMessage","message","globalSettingsService","GlobalSettingsService","getGlobalSettings","saveGlobalSettings","GlobalSettingsActionKey","savingResults","saving","console","log","GlobalSettingsAction","showModalResults","getSettings","fetchSettingsResult","saveSettings","saveSettingsResult","showModal","deliveryEmail","availableSMSCountries","FileSaverType","FileSaverService","charset","fileName","document","createElement","href","download","click","ContactFlowService","fileSaver","getContactFlow","handleMultipleFlows","flowArr","saveAsJson","metadata","save","encodeURI","JSON","stringify","fileSaverService","contactFlowService","ContactFlowActionKey","downloadErrorResults","downloadingResults","downloading","ContactFlowAction","contactFloDto","downloadContactFlow","downloadResult","downloadError","rootReducer","combineReducers","authReducer","agentsReducer","globalSettings","globalSettingsReducer","contactFlowReducer","themeColors","mediumGray","primary","turquoise","navBar","materialTheme","createMuiTheme","spacing","typography","fontFamily","join","colors","palette","main","secondary","boxShadow","high","medium","low","overrides","MuiTableCell","stickyHeader","backgroundColor","head","color","MuiTableSortLabel","active","icon","infoCaption","fontSize","modal","root","padding","title","margin","paper","width","inputsContainer","marginTop","padTop","createBrowserHistory","CognitoAuth","_Component","_inherits","_super","_createSuper","props","Hub","listen","event","history","setState","authState","authData","location","search","startsWith","currentAuthenticatedUser","e","federatedSignIn","React","className","Component","GlobalSettingsButton","_len","args","Array","_key","handleButtonClick","showGlobalSettingsModal","showSettingsModal","IconButton","onClick","Settings","connect","AuthRoles","ADMIN","MANAGER","theme","NavigationBar","handleOnLogout","classes","MuiThemeProvider","AppBar","position","Toolbar","Grid","container","direction","justify","alignContent","alignItems","item","alt","logo","src","Typography","variant","userInfo","role","userRole","userEmail","ExitToApp","withStyles","flexGrow","height","grow","marginRight","textAlign","fontWeight","paddingTop","AsyncButton","_this$props","disabled","Button","span","children","CircularProgress","progress","size","marginLeft","verticalAlign","SearchTextField","handleSearchChange","updateSearch","target","searchValue","searchText","_this2","searchChangeFunc","_this3","Search","TextField","textField","placeholder","onChange","showClearButton","Cancel","clearSearch","marginBottom","cursor","zIndex","headerCells","id","numeric","disablePadding","label","sortable","AgentsTable","sortBy","filterAgents","showAgent","showAgentModal","handleSync","syncOpen","syncAgents","searchTextField","fetchGlobalSettings","Paper","topBar","searchBox","ref","c","searchFilter","syncButton","Dialog","open","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","Table","table","aria-label","TableHead","TableRow","headerCell","TableCell","tableCell","align","TableSortLabel","hideSortIcon","IconComponent","ArrowDropDown","TableBody","hover","Check","checkDisable","delivery","navigationBar","KeyboardArrowLeft","navButton","KeyboardArrowRight","overflowX","minWidth","borderRight","float","ContactFlow","handleDownload","welcomeMessage","defaultErrorMessage","maxVoicemailDuration","durationType","fallbackQueueName","errorLoopCount","handleInputChange","preventDefault","_defineProperty","FormControl","InputLabel","htmlFor","Input","disableUnderline","readOnly","inputProps","min","max","step","GlobalSettings","handleEventInputChange","checked","handleSave","transcribeEnabled","encryptionEnabled","fetch","transcribe","encrypt","checkBox","FormControlLabel","control","Checkbox","fullWidth","spacer","borderBottom","FormControlCheckBox","AgentSettings","handleCheckBoxChange","handleExtensionNumberChange","test","phoneNumberInputChange","countryData","_this$state","phone","PhoneNumber","isValid","validationError","getNumber","defaultValue","formValueForKey","maxlength","MuiPhoneInput","defaultCountry","disableAreaCodes","onlyCountries","countryCodeEditable","autoFormat","agentUpdateError","agentUpdateInProgress","AgentsNoAuth","Agents","agentsTable","scroll","disableAutoFocus","closeAfterTransition","BackdropComponent","Backdrop","showSettings","Fade","in","showContactFlowModal","showContactFlow","agentsSortKey","agentsSortOrder","contactFlowDownloading","display","justifyContent","border","noFocus","outlineWidth","outlineStyle","ComposedComponent","UnauthedComponent","Authenticate","_React$Component","_checkAndRedirect","redirect","requiresAuth","styles","body1","h6","Amplify","configure","region","REACT_APP_REGION","userPoolId","userPoolWebClientId","oauth","domain","scope","redirectSignIn","redirectSignOut","responseType","App","Router","Switch","Route","exact","path","component","Contacts","Redirect","from","to","globalStyles","Boolean","window","hostname","match","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","Provider","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"8OA6BeA,EAdFC,aAMT,SAAAD,EAAYE,GAAqBC,YAAA,KAAAH,GAAA,KAJjCI,aAAO,OACPC,iBAAW,OACXC,kBAAY,EAGRC,KAAKH,QAAUF,EAAKE,QACpBG,KAAKF,YAAcH,EAAKG,YACxBE,KAAKD,aAAeJ,EAAKI,gBCD3BE,EACE,OADFA,EAEC,MAFDA,EAGG,QAGHC,EAAU,oBAAAA,IAAAN,YAAA,KAAAM,GAAA,KAEdC,QAAUC,eAA+B,KACzCC,OAASD,cAkFR,OAlFqCV,YAAAQ,EAAA,EAAAI,IAAA,YAAAC,MAEtC,SAAUC,GACR,OAAOR,KAAKS,QAAQR,EAAe,GAADS,OAAKV,KAAKG,QAAO,WAAW,CAC5DK,QACCR,KAAKW,aACT,CAAAL,IAAA,oBAAAC,MAED,WACE,OAAOP,KAAKS,QAAQR,EAAe,GAADS,OAAKV,KAAKG,QAAO,oBAAoB,KAAMH,KAAKW,WAC/EC,MAAK,SAAAC,GAAM,OAAIA,EAAOC,cAC1B,CAAAR,IAAA,iBAAAC,MAED,SAAeQ,GACb,OAAOf,KAAKS,QAAQR,EAAgB,GAADS,OAAKV,KAAKG,QAAO,iBAAiBY,EAAgBf,KAAKW,WACvFC,MAAK,SAAAC,GAAM,OAAIA,EAAOG,iBAC1B,CAAAV,IAAA,YAAAC,MAED,WACE,OAAOP,KAAKS,QAAQR,EAAgB,GAADS,OAAKV,KAAKG,QAAO,gBAAgB,KAAMH,KAAKW,aAChF,CAAAL,IAAA,sBAAAC,MAED,SAAoBU,EAAiBC,GACnC,OAAOlB,KAAKS,QAAQR,EAAgB,GAADS,OAAKV,KAAKG,QAAO,YAAAO,OAAWO,GAAWC,EAAclB,KAAKW,WAC1FC,MAAK,SAAAC,GAAM,OAAIA,EAAOM,WAC1B,CAAAb,IAAA,WAAAC,MAED,SAASU,GACP,OAAOjB,KAAKS,QAAQR,EAAe,GAADS,OAAKV,KAAKG,QAAO,YAAAO,OAAWO,GAAW,KAAMjB,KAAKW,aACrF,CAAAL,IAAA,qBAAAC,MAED,SAAmBO,GACjB,OAAOd,KAAKS,QAAQR,EAAgB,GAADS,OAAKV,KAAKG,QAAO,oBAAoBW,EAAUd,KAAKW,WACpFC,MAAK,SAAAC,GAAM,OAAIA,EAAOC,cAC1B,CAAAR,IAAA,aAAAC,MAED,SAAWZ,GACT,IAAIyB,EAAc,CAChB,YAAapB,KAAKK,QAMpB,OAJIV,IACFyB,EAAsB,cAAC,UAAAV,OAAaf,EAAKE,UAGpCuB,IACR,CAAAd,IAAA,UAAAC,MAED,WACE,OAAOc,IAAKC,iBACTV,MAAK,SAAAW,GAAO,OAAI,IAAI9B,EAAQ,CAC3BI,QAAS0B,EAAQC,aAAaC,cAC9B3B,YAAayB,EAAQG,iBAAiBD,cACtC1B,aAAcwB,EAAQI,kBAAkBC,kBAE7C,CAAAtB,IAAA,UAAAC,MAED,SAAQsB,EAAgBC,EAAaC,GAAiG,IAADC,EAAA,KAA3ErC,EAAmCsC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAGG,QAAQC,QAAQ,MAE9G,OAAIR,IAAW5B,EACNN,EAAKiB,MAAK,SAAAjB,GAAI,OAAIqC,EAAKM,MAAMR,EAAKC,EAAMpC,MACtCkC,IAAW5B,EACbN,EAAKiB,MAAK,SAAAjB,GAAI,OAAIqC,EAAKO,KAAKT,EAAKC,EAAMpC,MACrCkC,IAAW5B,EACbN,EAAKiB,MAAK,SAAAjB,GAAI,OAAIqC,EAAKQ,OAAOV,EAAKC,EAAMpC,MAEzCyC,QAAQC,YAElB,CAAA/B,IAAA,QAAAC,MAED,SAAMuB,GAA2E,IAA9DC,EAAmBE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAAItC,EAA0BsC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KACpEQ,EAAU,CAAEZ,OAAQ5B,EAAiB6B,MAAKC,OAAMW,QAAS1C,KAAK2C,WAAWhD,GAAOiD,MAAM,GAC1F,OAAOC,IAAGJ,KACX,CAAAnC,IAAA,OAAAC,MAED,SAAKuB,EAAagB,GAAuD,IAApCnD,EAA0BsC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAC5DQ,EAAU,CAAEZ,OAAQ5B,EAAgB6B,MAAKgB,KAAIJ,QAAS1C,KAAK2C,WAAWhD,GAAOiD,MAAM,GACvF,OAAOC,IAAGJ,KACX,CAAAnC,IAAA,SAAAC,MAED,SAAOuB,GAA2E,IAA9DC,EAAmBE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAAItC,EAA0BsC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KACrEQ,EAAU,CAAEZ,OAAQ5B,EAAkB6B,MAAKC,OAAMW,QAAS1C,KAAK2C,WAAWhD,GAAOiD,MAAM,GAC3F,OAAOC,IAAGJ,OACXvC,EArFa,GCRV6C,EAAc,ICJH,WAIb,SAAAC,EAAYC,GAAwBrD,YAAA,KAAAoD,GAAA,KAF5BC,gBAAU,EAGdjD,KAAKiD,WAAaA,EAKrB,OAJAvD,YAAAsD,EAAA,EAAA1C,IAAA,SAAAC,MAED,WACIc,IAAK6B,cACRF,EAVY,GDIG,CADD,IAAI9C,GAGjBiD,EACa,gBADbA,EAEK,QAFLA,EAGM,SAHNA,EAIW,cA4BXC,EACI,SAACC,GACH,OAAO,SAACC,GACJ,IAAIC,EAAUF,EAAKG,uBAAwBhC,aAAaiC,gBACxDH,EA7BS,SAACI,EAAwBL,GAC1C,MAAO,CACHM,KAAMR,EACN5C,MAAO,CACHqD,gBAAiBF,EACjBL,SAwBSQ,EAAa,EAAM,CACxBC,MAAOP,EAAe,MACtBQ,MAAOR,EAAQ,uBANzBH,EAUM,WACJ,OAAO,SAACE,GACJP,EAAYiB,WEnDlBC,EAAe,CACjBC,SAAS,EACTC,WAAY,KACZP,iBAAiB,EAGjBQ,gBAAgB,EAChBf,KAAM,CACFS,MAAO,GACPC,MAAO,KA6CAM,EAzCU,WAAgD,IAA/CC,EAAKrC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAGgC,EAAcM,EAAWtC,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACvD,OAAQoC,EAAOZ,MACX,KAAKR,EACD,OAAAqB,wBAAA,GACOF,GAAK,IACRJ,QAASK,EAAOhE,QAExB,KAAK4C,EACD,IAAIiB,EAAiBE,EAAMF,iBAAkB,EACzCvD,EAAS0D,EAAOhE,MAAMkE,MAO1B,OAJKL,GAAkBvD,IACnBuD,EAA8C,wBAA7BvD,EAAO4D,MAAMC,OAAOC,MAGzCH,wBAAA,GACOF,GAAK,IACRF,eAAgBA,EAChBD,WAAYtD,IAEpB,KAAKsC,EACD,OAAAqB,wBAAA,GACOF,GAAK,IACRV,iBAAiB,EACjBQ,gBAAgB,EAChBf,KAAMkB,EAAOhE,MAAM8C,OAE3B,KAAKF,EACD,OAAAqB,wBAAA,GACOF,GAAK,IACRF,gBAAgB,EAChBR,iBAAiB,EACjBP,KAAM,OAEd,QACI,OAAOiB,I,iBCqBJM,EAvED,WACV,SAAAA,EACWC,EACAC,EACAC,EACAC,EACAlB,EACAmB,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GACT5F,YAAA,KAAAgF,GAAA,KAbSC,SAAc,KACdC,WAAgB,KAChBC,YAAiB,KACjBC,WAAgB,KAChBlB,QAAa,KACbmB,YAAiB,KACjBC,cAAmB,KACnBC,YAAiB,KACjBC,mBAAyB,KACzBC,sBAA4B,KAC5BC,aAAmB,KACnBC,wBAA8B,KAC9BC,eAqDV,OAnDA9F,YAAAkF,EAAA,OAAAtE,IAAA,YAAAC,MAED,SAAiBY,GACb,OAAO,IAAInB,KACPmB,EAAM0D,OACN1D,EAAMsE,YAAYX,SAClB3D,EAAMsE,YAAYV,UAClB5D,EAAMsE,YAAYT,SAClB7D,EAAMsE,YAAY3B,MAClBc,EAASc,yBAAyBvE,EAAMsE,YAAYR,WACpD9D,EAAMsE,YAAYE,gBAClBxE,EAAMA,MAAMgE,UACZhE,EAAMA,MAAMiE,mBAAoB,EAChCjE,EAAMA,MAAMkE,sBAAuB,EACnClE,EAAMA,MAAMyE,gBAAgBC,IAAIC,UAAW,EAC3C3E,EAAMA,MAAMyE,gBAAgBC,IAAIX,YAChC/D,EAAMA,MAAMyE,gBAAgB9B,QAAS,KAE5C,CAAAxD,IAAA,iBAAAC,MAED,SAAsBY,GAClB,IAAM0E,GAAO1E,EAAMyE,iBAAmB,IAAIC,KAAO,GAC3CD,EAAkBzE,EAAMyE,iBAAmB,GAEjD,OAAO,IAAI5F,KACPmB,EAAM0D,OACN1D,EAAM2D,SACN,GACA,GACA,GACA,GACA,GACA3D,EAAMgE,UACNhE,EAAMiE,mBAAoB,EAC1BjE,EAAMkE,sBAAuB,EAC7BQ,EAAIC,UAAW,EACfD,EAAIX,YACJU,EAAgB9B,QAAS,KAGhC,CAAAxD,IAAA,2BAAAC,MAED,SAAgCoD,GAC5B,OAAQA,GACJ,IAAK,aACD,MAAO,aACX,IAAK,aACD,MAAO,aACX,QACI,MAAO,QAElBiB,EAnES,GCyBCmB,EA3BMrG,aASjB,SAAAqG,EACIC,EACAT,EACAD,EACAE,EACAJ,EACAC,GACFzF,YAAA,KAAAmG,GAAA,KAdFZ,eAAS,OACTI,2BAAqB,OACrBD,gBAAU,OACVE,kBAAY,OACZJ,sBAAgB,OAChBC,yBAAmB,EAUfrF,KAAKmF,UAAYa,GAAmB,GACpChG,KAAKuF,sBAAwBA,GAAyB,GACtDvF,KAAKsF,WAAaA,IAAc,EAChCtF,KAAKwF,aAAeA,IAAgB,EACpCxF,KAAKoF,iBAAmBA,IAAoB,EAC5CpF,KAAKqF,oBAAsBA,IAAuB,KCtB7CY,EAAavG,aACtB,SAAAuG,EACWC,EACA1F,EACA2F,GACTvG,YAAA,KAAAqG,GAAA,KAHSC,OAAS,KACT1F,OAAmB,KACnB2F,a,aChBfC,EAAA,kBAAAC,GAAA,IAAAA,EAAA,GAAAC,EAAAC,OAAAC,UAAAC,EAAAH,EAAAI,eAAAC,EAAAJ,OAAAI,gBAAA,SAAAC,EAAAtG,EAAAuG,GAAAD,EAAAtG,GAAAuG,EAAAtG,OAAAuG,EAAA,mBAAAC,cAAA,GAAAC,EAAAF,EAAAG,UAAA,aAAAC,EAAAJ,EAAAK,eAAA,kBAAAC,EAAAN,EAAAO,aAAA,yBAAAC,EAAAV,EAAAtG,EAAAC,GAAA,OAAAgG,OAAAI,eAAAC,EAAAtG,EAAA,CAAAC,QAAAgH,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAAb,EAAAtG,GAAA,IAAAgH,EAAA,aAAAI,GAAAJ,EAAA,SAAAV,EAAAtG,EAAAC,GAAA,OAAAqG,EAAAtG,GAAAC,GAAA,SAAAoH,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,IAAAC,EAAAH,KAAArB,qBAAAyB,EAAAJ,EAAAI,EAAAC,EAAA3B,OAAA4B,OAAAH,EAAAxB,WAAA4B,EAAA,IAAAC,EAAAN,GAAA,WAAApB,EAAAuB,EAAA,WAAA3H,MAAA+H,EAAAV,EAAAE,EAAAM,KAAAF,EAAA,SAAAK,EAAAC,EAAA5B,EAAA6B,GAAA,WAAA9E,KAAA,SAAA8E,IAAAD,EAAAE,KAAA9B,EAAA6B,IAAA,MAAAf,GAAA,OAAA/D,KAAA,QAAA8E,IAAAf,IAAArB,EAAAsB,OAAA,IAAAgB,EAAA,YAAAV,KAAA,SAAAW,KAAA,SAAAC,KAAA,IAAAC,EAAA,GAAAxB,EAAAwB,EAAA9B,GAAA,8BAAA+B,EAAAxC,OAAAyC,eAAAC,EAAAF,OAAAG,EAAA,MAAAD,OAAA3C,GAAAG,EAAAiC,KAAAO,EAAAjC,KAAA8B,EAAAG,GAAA,IAAAE,EAAAN,EAAArC,UAAAyB,EAAAzB,UAAAD,OAAA4B,OAAAW,GAAA,SAAAM,EAAA5C,GAAA,0BAAA6C,SAAA,SAAAxH,GAAAyF,EAAAd,EAAA3E,GAAA,SAAA4G,GAAA,YAAAa,QAAAzH,EAAA4G,SAAA,SAAAc,EAAArB,EAAAsB,GAAA,IAAAC,EAAA9C,EAAA,gBAAApG,MAAA,SAAAsB,EAAA4G,GAAA,SAAAiB,IAAA,WAAAF,GAAA,SAAAnH,EAAAsH,IAAA,SAAAC,EAAA/H,EAAA4G,EAAApG,EAAAsH,GAAA,IAAAE,EAAAtB,EAAAL,EAAArG,GAAAqG,EAAAO,GAAA,aAAAoB,EAAAlG,KAAA,KAAA9C,EAAAgJ,EAAApB,IAAAlI,EAAAM,EAAAN,MAAA,OAAAA,GAAA,iBAAAA,GAAAkG,EAAAiC,KAAAnI,EAAA,WAAAiJ,EAAAnH,QAAA9B,EAAAuJ,SAAAlJ,MAAA,SAAAL,GAAAqJ,EAAA,OAAArJ,EAAA8B,EAAAsH,MAAA,SAAAjC,GAAAkC,EAAA,QAAAlC,EAAArF,EAAAsH,MAAAH,EAAAnH,QAAA9B,GAAAK,MAAA,SAAAmJ,GAAAlJ,EAAAN,MAAAwJ,EAAA1H,EAAAxB,MAAA,SAAA4D,GAAA,OAAAmF,EAAA,QAAAnF,EAAApC,EAAAsH,QAAAE,EAAApB,KAAAmB,CAAA/H,EAAA4G,EAAApG,EAAAsH,MAAA,OAAAF,MAAA7I,KAAA8I,YAAA,SAAApB,EAAAV,EAAAE,EAAAM,GAAA,IAAA9D,EAAA,iCAAAzC,EAAA4G,GAAA,iBAAAnE,EAAA,UAAA0F,MAAA,iDAAA1F,EAAA,cAAAzC,EAAA,MAAA4G,EAAA,OAAAwB,IAAA,IAAA7B,EAAAvG,SAAAuG,EAAAK,QAAA,KAAAyB,EAAA9B,EAAA8B,SAAA,GAAAA,EAAA,KAAAC,EAAAC,EAAAF,EAAA9B,GAAA,GAAA+B,EAAA,IAAAA,IAAAxB,EAAA,gBAAAwB,GAAA,YAAA/B,EAAAvG,OAAAuG,EAAAiC,KAAAjC,EAAAkC,MAAAlC,EAAAK,SAAA,aAAAL,EAAAvG,OAAA,uBAAAyC,EAAA,MAAAA,EAAA,YAAA8D,EAAAK,IAAAL,EAAAmC,kBAAAnC,EAAAK,SAAA,WAAAL,EAAAvG,QAAAuG,EAAAoC,OAAA,SAAApC,EAAAK,KAAAnE,EAAA,gBAAAuF,EAAAtB,EAAAX,EAAAE,EAAAM,GAAA,cAAAyB,EAAAlG,KAAA,IAAAW,EAAA8D,EAAAqC,KAAA,6BAAAZ,EAAApB,MAAAE,EAAA,gBAAApI,MAAAsJ,EAAApB,IAAAgC,KAAArC,EAAAqC,MAAA,UAAAZ,EAAAlG,OAAAW,EAAA,YAAA8D,EAAAvG,OAAA,QAAAuG,EAAAK,IAAAoB,EAAApB,OAAA,SAAA2B,EAAAF,EAAA9B,GAAA,IAAAsC,EAAAtC,EAAAvG,SAAAqI,EAAAjD,SAAAyD,GAAA,QAAAvI,IAAAN,EAAA,OAAAuG,EAAA8B,SAAA,eAAAQ,GAAAR,EAAAjD,SAAA0D,SAAAvC,EAAAvG,OAAA,SAAAuG,EAAAK,SAAAtG,EAAAiI,EAAAF,EAAA9B,GAAA,UAAAA,EAAAvG,SAAA,WAAA6I,IAAAtC,EAAAvG,OAAA,QAAAuG,EAAAK,IAAA,IAAAmC,UAAA,oCAAAF,EAAA,aAAA/B,EAAA,IAAAkB,EAAAtB,EAAA1G,EAAAqI,EAAAjD,SAAAmB,EAAAK,KAAA,aAAAoB,EAAAlG,KAAA,OAAAyE,EAAAvG,OAAA,QAAAuG,EAAAK,IAAAoB,EAAApB,IAAAL,EAAA8B,SAAA,KAAAvB,EAAA,IAAAkC,EAAAhB,EAAApB,IAAA,OAAAoC,IAAAJ,MAAArC,EAAA8B,EAAAY,YAAAD,EAAAtK,MAAA6H,EAAA5H,KAAA0J,EAAAa,QAAA,WAAA3C,EAAAvG,SAAAuG,EAAAvG,OAAA,OAAAuG,EAAAK,SAAAtG,GAAAiG,EAAA8B,SAAA,KAAAvB,GAAAkC,GAAAzC,EAAAvG,OAAA,QAAAuG,EAAAK,IAAA,IAAAmC,UAAA,oCAAAxC,EAAA8B,SAAA,KAAAvB,GAAA,SAAAqC,EAAAC,GAAA,IAAAC,EAAA,CAAAC,OAAAF,EAAA,SAAAA,IAAAC,EAAAE,SAAAH,EAAA,SAAAA,IAAAC,EAAAG,WAAAJ,EAAA,GAAAC,EAAAI,SAAAL,EAAA,SAAAM,WAAAC,KAAAN,GAAA,SAAAO,EAAAP,GAAA,IAAArB,EAAAqB,EAAAQ,YAAA,GAAA7B,EAAAlG,KAAA,gBAAAkG,EAAApB,IAAAyC,EAAAQ,WAAA7B,EAAA,SAAAxB,EAAAN,GAAA,KAAAwD,WAAA,EAAAJ,OAAA,SAAApD,EAAAsB,QAAA2B,EAAA,WAAAW,OAAA,YAAAzC,EAAA0C,GAAA,GAAAA,EAAA,KAAAC,EAAAD,EAAA5E,GAAA,GAAA6E,EAAA,OAAAA,EAAAnD,KAAAkD,GAAA,sBAAAA,EAAApL,KAAA,OAAAoL,EAAA,IAAAE,MAAAF,EAAA1J,QAAA,KAAA6J,GAAA,EAAAvL,EAAA,SAAAA,IAAA,OAAAuL,EAAAH,EAAA1J,QAAA,GAAAuE,EAAAiC,KAAAkD,EAAAG,GAAA,OAAAvL,EAAAD,MAAAqL,EAAAG,GAAAvL,EAAAiK,MAAA,EAAAjK,EAAA,OAAAA,EAAAD,WAAA4B,EAAA3B,EAAAiK,MAAA,EAAAjK,GAAA,OAAAA,UAAA,OAAAA,KAAAyJ,GAAA,SAAAA,IAAA,OAAA1J,WAAA4B,EAAAsI,MAAA,UAAA7B,EAAApC,UAAAqC,EAAAlC,EAAAwC,EAAA,eAAA5I,MAAAsI,EAAArB,cAAA,IAAAb,EAAAkC,EAAA,eAAAtI,MAAAqI,EAAApB,cAAA,IAAAoB,EAAAoD,YAAA1E,EAAAuB,EAAAzB,EAAA,qBAAAf,EAAA4F,oBAAA,SAAAC,GAAA,IAAAC,EAAA,mBAAAD,KAAAE,YAAA,QAAAD,QAAAvD,GAAA,uBAAAuD,EAAAH,aAAAG,EAAAxH,QAAA0B,EAAAgG,KAAA,SAAAH,GAAA,OAAA3F,OAAA+F,eAAA/F,OAAA+F,eAAAJ,EAAArD,IAAAqD,EAAAK,UAAA1D,EAAAvB,EAAA4E,EAAA9E,EAAA,sBAAA8E,EAAA1F,UAAAD,OAAA4B,OAAAgB,GAAA+C,GAAA7F,EAAAmG,MAAA,SAAA/D,GAAA,OAAAqB,QAAArB,IAAAW,EAAAG,EAAA/C,WAAAc,EAAAiC,EAAA/C,UAAAU,GAAA,0BAAAb,EAAAkD,gBAAAlD,EAAAoG,MAAA,SAAA7E,EAAAC,EAAAC,EAAAC,EAAAyB,QAAA,IAAAA,MAAApH,SAAA,IAAAsK,EAAA,IAAAnD,EAAA5B,EAAAC,EAAAC,EAAAC,EAAAC,GAAAyB,GAAA,OAAAnD,EAAA4F,oBAAApE,GAAA6E,IAAAlM,OAAAI,MAAA,SAAAC,GAAA,OAAAA,EAAA4J,KAAA5J,EAAAN,MAAAmM,EAAAlM,WAAA4I,EAAAD,GAAA7B,EAAA6B,EAAA/B,EAAA,aAAAE,EAAA6B,EAAAnC,GAAA,0BAAAM,EAAA6B,EAAA,qDAAA9C,EAAAsG,KAAA,SAAAC,GAAA,IAAAC,EAAAtG,OAAAqG,GAAAD,EAAA,WAAArM,KAAAuM,EAAAF,EAAAnB,KAAAlL,GAAA,OAAAqM,EAAAG,UAAA,SAAAtM,IAAA,KAAAmM,EAAAzK,QAAA,KAAA5B,EAAAqM,EAAAI,MAAA,GAAAzM,KAAAuM,EAAA,OAAArM,EAAAD,MAAAD,EAAAE,EAAAiK,MAAA,EAAAjK,EAAA,OAAAA,EAAAiK,MAAA,EAAAjK,IAAA6F,EAAA6C,SAAAb,EAAA7B,UAAA,CAAA4F,YAAA/D,EAAAsD,MAAA,SAAAqB,GAAA,QAAAC,KAAA,OAAAzM,KAAA,OAAA6J,KAAA,KAAAC,WAAAnI,EAAA,KAAAsI,MAAA,OAAAP,SAAA,UAAArI,OAAA,YAAA4G,SAAAtG,EAAA,KAAAoJ,WAAAlC,QAAAoC,IAAAuB,EAAA,QAAArI,KAAA,WAAAA,EAAAuI,OAAA,IAAAzG,EAAAiC,KAAA,KAAA/D,KAAAmH,OAAAnH,EAAAwI,MAAA,WAAAxI,QAAAxC,IAAAiL,KAAA,gBAAA3C,MAAA,MAAA4C,EAAA,KAAA9B,WAAA,GAAAG,WAAA,aAAA2B,EAAA1J,KAAA,MAAA0J,EAAA5E,IAAA,YAAA6E,MAAA/C,kBAAA,SAAAgD,GAAA,QAAA9C,KAAA,MAAA8C,EAAA,IAAAnF,EAAA,cAAAoF,EAAAC,EAAAC,GAAA,OAAA7D,EAAAlG,KAAA,QAAAkG,EAAApB,IAAA8E,EAAAnF,EAAA5H,KAAAiN,EAAAC,IAAAtF,EAAAvG,OAAA,OAAAuG,EAAAK,SAAAtG,KAAAuL,EAAA,QAAA3B,EAAA,KAAAR,WAAArJ,OAAA,EAAA6J,GAAA,IAAAA,EAAA,KAAAb,EAAA,KAAAK,WAAAQ,GAAAlC,EAAAqB,EAAAQ,WAAA,YAAAR,EAAAC,OAAA,OAAAqC,EAAA,UAAAtC,EAAAC,QAAA,KAAA8B,KAAA,KAAAU,EAAAlH,EAAAiC,KAAAwC,EAAA,YAAA0C,EAAAnH,EAAAiC,KAAAwC,EAAA,iBAAAyC,GAAAC,EAAA,SAAAX,KAAA/B,EAAAE,SAAA,OAAAoC,EAAAtC,EAAAE,UAAA,WAAA6B,KAAA/B,EAAAG,WAAA,OAAAmC,EAAAtC,EAAAG,iBAAA,GAAAsC,GAAA,QAAAV,KAAA/B,EAAAE,SAAA,OAAAoC,EAAAtC,EAAAE,UAAA,YAAAwC,EAAA,UAAA5D,MAAA,kDAAAiD,KAAA/B,EAAAG,WAAA,OAAAmC,EAAAtC,EAAAG,gBAAAb,OAAA,SAAA7G,EAAA8E,GAAA,QAAAsD,EAAA,KAAAR,WAAArJ,OAAA,EAAA6J,GAAA,IAAAA,EAAA,KAAAb,EAAA,KAAAK,WAAAQ,GAAA,GAAAb,EAAAC,QAAA,KAAA8B,MAAAxG,EAAAiC,KAAAwC,EAAA,oBAAA+B,KAAA/B,EAAAG,WAAA,KAAAwC,EAAA3C,EAAA,OAAA2C,IAAA,UAAAlK,GAAA,aAAAA,IAAAkK,EAAA1C,QAAA1C,MAAAoF,EAAAxC,aAAAwC,EAAA,UAAAhE,EAAAgE,IAAAnC,WAAA,UAAA7B,EAAAlG,OAAAkG,EAAApB,MAAAoF,GAAA,KAAAhM,OAAA,YAAArB,KAAAqN,EAAAxC,WAAA1C,GAAA,KAAAmF,SAAAjE,IAAAiE,SAAA,SAAAjE,EAAAyB,GAAA,aAAAzB,EAAAlG,KAAA,MAAAkG,EAAApB,IAAA,gBAAAoB,EAAAlG,MAAA,aAAAkG,EAAAlG,KAAA,KAAAnD,KAAAqJ,EAAApB,IAAA,WAAAoB,EAAAlG,MAAA,KAAA2J,KAAA,KAAA7E,IAAAoB,EAAApB,IAAA,KAAA5G,OAAA,cAAArB,KAAA,kBAAAqJ,EAAAlG,MAAA2H,IAAA,KAAA9K,KAAA8K,GAAA3C,GAAAoF,OAAA,SAAA1C,GAAA,QAAAU,EAAA,KAAAR,WAAArJ,OAAA,EAAA6J,GAAA,IAAAA,EAAA,KAAAb,EAAA,KAAAK,WAAAQ,GAAA,GAAAb,EAAAG,eAAA,YAAAyC,SAAA5C,EAAAQ,WAAAR,EAAAI,UAAAG,EAAAP,GAAAvC,IAAAqF,MAAA,SAAA7C,GAAA,QAAAY,EAAA,KAAAR,WAAArJ,OAAA,EAAA6J,GAAA,IAAAA,EAAA,KAAAb,EAAA,KAAAK,WAAAQ,GAAA,GAAAb,EAAAC,WAAA,KAAAtB,EAAAqB,EAAAQ,WAAA,aAAA7B,EAAAlG,KAAA,KAAAsK,EAAApE,EAAApB,IAAAgD,EAAAP,GAAA,OAAA+C,GAAA,UAAAjE,MAAA,0BAAAkE,cAAA,SAAAtC,EAAAd,EAAAC,GAAA,YAAAb,SAAA,CAAAjD,SAAAiC,EAAA0C,GAAAd,aAAAC,WAAA,cAAAlJ,SAAA,KAAA4G,SAAAtG,GAAAwG,IAAAtC,E,aCAAD,EAAA,kBAAAC,GAAA,IAAAA,EAAA,GAAAC,EAAAC,OAAAC,UAAAC,EAAAH,EAAAI,eAAAC,EAAAJ,OAAAI,gBAAA,SAAAC,EAAAtG,EAAAuG,GAAAD,EAAAtG,GAAAuG,EAAAtG,OAAAuG,EAAA,mBAAAC,cAAA,GAAAC,EAAAF,EAAAG,UAAA,aAAAC,EAAAJ,EAAAK,eAAA,kBAAAC,EAAAN,EAAAO,aAAA,yBAAAC,EAAAV,EAAAtG,EAAAC,GAAA,OAAAgG,OAAAI,eAAAC,EAAAtG,EAAA,CAAAC,QAAAgH,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAAb,EAAAtG,GAAA,IAAAgH,EAAA,aAAAI,GAAAJ,EAAA,SAAAV,EAAAtG,EAAAC,GAAA,OAAAqG,EAAAtG,GAAAC,GAAA,SAAAoH,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,IAAAC,EAAAH,KAAArB,qBAAAyB,EAAAJ,EAAAI,EAAAC,EAAA3B,OAAA4B,OAAAH,EAAAxB,WAAA4B,EAAA,IAAAC,EAAAN,GAAA,WAAApB,EAAAuB,EAAA,WAAA3H,MAAA+H,EAAAV,EAAAE,EAAAM,KAAAF,EAAA,SAAAK,EAAAC,EAAA5B,EAAA6B,GAAA,WAAA9E,KAAA,SAAA8E,IAAAD,EAAAE,KAAA9B,EAAA6B,IAAA,MAAAf,GAAA,OAAA/D,KAAA,QAAA8E,IAAAf,IAAArB,EAAAsB,OAAA,IAAAgB,EAAA,YAAAV,KAAA,SAAAW,KAAA,SAAAC,KAAA,IAAAC,EAAA,GAAAxB,EAAAwB,EAAA9B,GAAA,8BAAA+B,EAAAxC,OAAAyC,eAAAC,EAAAF,OAAAG,EAAA,MAAAD,OAAA3C,GAAAG,EAAAiC,KAAAO,EAAAjC,KAAA8B,EAAAG,GAAA,IAAAE,EAAAN,EAAArC,UAAAyB,EAAAzB,UAAAD,OAAA4B,OAAAW,GAAA,SAAAM,EAAA5C,GAAA,0BAAA6C,SAAA,SAAAxH,GAAAyF,EAAAd,EAAA3E,GAAA,SAAA4G,GAAA,YAAAa,QAAAzH,EAAA4G,SAAA,SAAAc,EAAArB,EAAAsB,GAAA,IAAAC,EAAA9C,EAAA,gBAAApG,MAAA,SAAAsB,EAAA4G,GAAA,SAAAiB,IAAA,WAAAF,GAAA,SAAAnH,EAAAsH,IAAA,SAAAC,EAAA/H,EAAA4G,EAAApG,EAAAsH,GAAA,IAAAE,EAAAtB,EAAAL,EAAArG,GAAAqG,EAAAO,GAAA,aAAAoB,EAAAlG,KAAA,KAAA9C,EAAAgJ,EAAApB,IAAAlI,EAAAM,EAAAN,MAAA,OAAAA,GAAA,iBAAAA,GAAAkG,EAAAiC,KAAAnI,EAAA,WAAAiJ,EAAAnH,QAAA9B,EAAAuJ,SAAAlJ,MAAA,SAAAL,GAAAqJ,EAAA,OAAArJ,EAAA8B,EAAAsH,MAAA,SAAAjC,GAAAkC,EAAA,QAAAlC,EAAArF,EAAAsH,MAAAH,EAAAnH,QAAA9B,GAAAK,MAAA,SAAAmJ,GAAAlJ,EAAAN,MAAAwJ,EAAA1H,EAAAxB,MAAA,SAAA4D,GAAA,OAAAmF,EAAA,QAAAnF,EAAApC,EAAAsH,QAAAE,EAAApB,KAAAmB,CAAA/H,EAAA4G,EAAApG,EAAAsH,MAAA,OAAAF,MAAA7I,KAAA8I,YAAA,SAAApB,EAAAV,EAAAE,EAAAM,GAAA,IAAA9D,EAAA,iCAAAzC,EAAA4G,GAAA,iBAAAnE,EAAA,UAAA0F,MAAA,iDAAA1F,EAAA,cAAAzC,EAAA,MAAA4G,EAAA,OAAAwB,IAAA,IAAA7B,EAAAvG,SAAAuG,EAAAK,QAAA,KAAAyB,EAAA9B,EAAA8B,SAAA,GAAAA,EAAA,KAAAC,EAAAC,EAAAF,EAAA9B,GAAA,GAAA+B,EAAA,IAAAA,IAAAxB,EAAA,gBAAAwB,GAAA,YAAA/B,EAAAvG,OAAAuG,EAAAiC,KAAAjC,EAAAkC,MAAAlC,EAAAK,SAAA,aAAAL,EAAAvG,OAAA,uBAAAyC,EAAA,MAAAA,EAAA,YAAA8D,EAAAK,IAAAL,EAAAmC,kBAAAnC,EAAAK,SAAA,WAAAL,EAAAvG,QAAAuG,EAAAoC,OAAA,SAAApC,EAAAK,KAAAnE,EAAA,gBAAAuF,EAAAtB,EAAAX,EAAAE,EAAAM,GAAA,cAAAyB,EAAAlG,KAAA,IAAAW,EAAA8D,EAAAqC,KAAA,6BAAAZ,EAAApB,MAAAE,EAAA,gBAAApI,MAAAsJ,EAAApB,IAAAgC,KAAArC,EAAAqC,MAAA,UAAAZ,EAAAlG,OAAAW,EAAA,YAAA8D,EAAAvG,OAAA,QAAAuG,EAAAK,IAAAoB,EAAApB,OAAA,SAAA2B,EAAAF,EAAA9B,GAAA,IAAAsC,EAAAtC,EAAAvG,SAAAqI,EAAAjD,SAAAyD,GAAA,QAAAvI,IAAAN,EAAA,OAAAuG,EAAA8B,SAAA,eAAAQ,GAAAR,EAAAjD,SAAA0D,SAAAvC,EAAAvG,OAAA,SAAAuG,EAAAK,SAAAtG,EAAAiI,EAAAF,EAAA9B,GAAA,UAAAA,EAAAvG,SAAA,WAAA6I,IAAAtC,EAAAvG,OAAA,QAAAuG,EAAAK,IAAA,IAAAmC,UAAA,oCAAAF,EAAA,aAAA/B,EAAA,IAAAkB,EAAAtB,EAAA1G,EAAAqI,EAAAjD,SAAAmB,EAAAK,KAAA,aAAAoB,EAAAlG,KAAA,OAAAyE,EAAAvG,OAAA,QAAAuG,EAAAK,IAAAoB,EAAApB,IAAAL,EAAA8B,SAAA,KAAAvB,EAAA,IAAAkC,EAAAhB,EAAApB,IAAA,OAAAoC,IAAAJ,MAAArC,EAAA8B,EAAAY,YAAAD,EAAAtK,MAAA6H,EAAA5H,KAAA0J,EAAAa,QAAA,WAAA3C,EAAAvG,SAAAuG,EAAAvG,OAAA,OAAAuG,EAAAK,SAAAtG,GAAAiG,EAAA8B,SAAA,KAAAvB,GAAAkC,GAAAzC,EAAAvG,OAAA,QAAAuG,EAAAK,IAAA,IAAAmC,UAAA,oCAAAxC,EAAA8B,SAAA,KAAAvB,GAAA,SAAAqC,EAAAC,GAAA,IAAAC,EAAA,CAAAC,OAAAF,EAAA,SAAAA,IAAAC,EAAAE,SAAAH,EAAA,SAAAA,IAAAC,EAAAG,WAAAJ,EAAA,GAAAC,EAAAI,SAAAL,EAAA,SAAAM,WAAAC,KAAAN,GAAA,SAAAO,EAAAP,GAAA,IAAArB,EAAAqB,EAAAQ,YAAA,GAAA7B,EAAAlG,KAAA,gBAAAkG,EAAApB,IAAAyC,EAAAQ,WAAA7B,EAAA,SAAAxB,EAAAN,GAAA,KAAAwD,WAAA,EAAAJ,OAAA,SAAApD,EAAAsB,QAAA2B,EAAA,WAAAW,OAAA,YAAAzC,EAAA0C,GAAA,GAAAA,EAAA,KAAAC,EAAAD,EAAA5E,GAAA,GAAA6E,EAAA,OAAAA,EAAAnD,KAAAkD,GAAA,sBAAAA,EAAApL,KAAA,OAAAoL,EAAA,IAAAE,MAAAF,EAAA1J,QAAA,KAAA6J,GAAA,EAAAvL,EAAA,SAAAA,IAAA,OAAAuL,EAAAH,EAAA1J,QAAA,GAAAuE,EAAAiC,KAAAkD,EAAAG,GAAA,OAAAvL,EAAAD,MAAAqL,EAAAG,GAAAvL,EAAAiK,MAAA,EAAAjK,EAAA,OAAAA,EAAAD,WAAA4B,EAAA3B,EAAAiK,MAAA,EAAAjK,GAAA,OAAAA,UAAA,OAAAA,KAAAyJ,GAAA,SAAAA,IAAA,OAAA1J,WAAA4B,EAAAsI,MAAA,UAAA7B,EAAApC,UAAAqC,EAAAlC,EAAAwC,EAAA,eAAA5I,MAAAsI,EAAArB,cAAA,IAAAb,EAAAkC,EAAA,eAAAtI,MAAAqI,EAAApB,cAAA,IAAAoB,EAAAoD,YAAA1E,EAAAuB,EAAAzB,EAAA,qBAAAf,EAAA4F,oBAAA,SAAAC,GAAA,IAAAC,EAAA,mBAAAD,KAAAE,YAAA,QAAAD,QAAAvD,GAAA,uBAAAuD,EAAAH,aAAAG,EAAAxH,QAAA0B,EAAAgG,KAAA,SAAAH,GAAA,OAAA3F,OAAA+F,eAAA/F,OAAA+F,eAAAJ,EAAArD,IAAAqD,EAAAK,UAAA1D,EAAAvB,EAAA4E,EAAA9E,EAAA,sBAAA8E,EAAA1F,UAAAD,OAAA4B,OAAAgB,GAAA+C,GAAA7F,EAAAmG,MAAA,SAAA/D,GAAA,OAAAqB,QAAArB,IAAAW,EAAAG,EAAA/C,WAAAc,EAAAiC,EAAA/C,UAAAU,GAAA,0BAAAb,EAAAkD,gBAAAlD,EAAAoG,MAAA,SAAA7E,EAAAC,EAAAC,EAAAC,EAAAyB,QAAA,IAAAA,MAAApH,SAAA,IAAAsK,EAAA,IAAAnD,EAAA5B,EAAAC,EAAAC,EAAAC,EAAAC,GAAAyB,GAAA,OAAAnD,EAAA4F,oBAAApE,GAAA6E,IAAAlM,OAAAI,MAAA,SAAAC,GAAA,OAAAA,EAAA4J,KAAA5J,EAAAN,MAAAmM,EAAAlM,WAAA4I,EAAAD,GAAA7B,EAAA6B,EAAA/B,EAAA,aAAAE,EAAA6B,EAAAnC,GAAA,0BAAAM,EAAA6B,EAAA,qDAAA9C,EAAAsG,KAAA,SAAAC,GAAA,IAAAC,EAAAtG,OAAAqG,GAAAD,EAAA,WAAArM,KAAAuM,EAAAF,EAAAnB,KAAAlL,GAAA,OAAAqM,EAAAG,UAAA,SAAAtM,IAAA,KAAAmM,EAAAzK,QAAA,KAAA5B,EAAAqM,EAAAI,MAAA,GAAAzM,KAAAuM,EAAA,OAAArM,EAAAD,MAAAD,EAAAE,EAAAiK,MAAA,EAAAjK,EAAA,OAAAA,EAAAiK,MAAA,EAAAjK,IAAA6F,EAAA6C,SAAAb,EAAA7B,UAAA,CAAA4F,YAAA/D,EAAAsD,MAAA,SAAAqB,GAAA,QAAAC,KAAA,OAAAzM,KAAA,OAAA6J,KAAA,KAAAC,WAAAnI,EAAA,KAAAsI,MAAA,OAAAP,SAAA,UAAArI,OAAA,YAAA4G,SAAAtG,EAAA,KAAAoJ,WAAAlC,QAAAoC,IAAAuB,EAAA,QAAArI,KAAA,WAAAA,EAAAuI,OAAA,IAAAzG,EAAAiC,KAAA,KAAA/D,KAAAmH,OAAAnH,EAAAwI,MAAA,WAAAxI,QAAAxC,IAAAiL,KAAA,gBAAA3C,MAAA,MAAA4C,EAAA,KAAA9B,WAAA,GAAAG,WAAA,aAAA2B,EAAA1J,KAAA,MAAA0J,EAAA5E,IAAA,YAAA6E,MAAA/C,kBAAA,SAAAgD,GAAA,QAAA9C,KAAA,MAAA8C,EAAA,IAAAnF,EAAA,cAAAoF,EAAAC,EAAAC,GAAA,OAAA7D,EAAAlG,KAAA,QAAAkG,EAAApB,IAAA8E,EAAAnF,EAAA5H,KAAAiN,EAAAC,IAAAtF,EAAAvG,OAAA,OAAAuG,EAAAK,SAAAtG,KAAAuL,EAAA,QAAA3B,EAAA,KAAAR,WAAArJ,OAAA,EAAA6J,GAAA,IAAAA,EAAA,KAAAb,EAAA,KAAAK,WAAAQ,GAAAlC,EAAAqB,EAAAQ,WAAA,YAAAR,EAAAC,OAAA,OAAAqC,EAAA,UAAAtC,EAAAC,QAAA,KAAA8B,KAAA,KAAAU,EAAAlH,EAAAiC,KAAAwC,EAAA,YAAA0C,EAAAnH,EAAAiC,KAAAwC,EAAA,iBAAAyC,GAAAC,EAAA,SAAAX,KAAA/B,EAAAE,SAAA,OAAAoC,EAAAtC,EAAAE,UAAA,WAAA6B,KAAA/B,EAAAG,WAAA,OAAAmC,EAAAtC,EAAAG,iBAAA,GAAAsC,GAAA,QAAAV,KAAA/B,EAAAE,SAAA,OAAAoC,EAAAtC,EAAAE,UAAA,YAAAwC,EAAA,UAAA5D,MAAA,kDAAAiD,KAAA/B,EAAAG,WAAA,OAAAmC,EAAAtC,EAAAG,gBAAAb,OAAA,SAAA7G,EAAA8E,GAAA,QAAAsD,EAAA,KAAAR,WAAArJ,OAAA,EAAA6J,GAAA,IAAAA,EAAA,KAAAb,EAAA,KAAAK,WAAAQ,GAAA,GAAAb,EAAAC,QAAA,KAAA8B,MAAAxG,EAAAiC,KAAAwC,EAAA,oBAAA+B,KAAA/B,EAAAG,WAAA,KAAAwC,EAAA3C,EAAA,OAAA2C,IAAA,UAAAlK,GAAA,aAAAA,IAAAkK,EAAA1C,QAAA1C,MAAAoF,EAAAxC,aAAAwC,EAAA,UAAAhE,EAAAgE,IAAAnC,WAAA,UAAA7B,EAAAlG,OAAAkG,EAAApB,MAAAoF,GAAA,KAAAhM,OAAA,YAAArB,KAAAqN,EAAAxC,WAAA1C,GAAA,KAAAmF,SAAAjE,IAAAiE,SAAA,SAAAjE,EAAAyB,GAAA,aAAAzB,EAAAlG,KAAA,MAAAkG,EAAApB,IAAA,gBAAAoB,EAAAlG,MAAA,aAAAkG,EAAAlG,KAAA,KAAAnD,KAAAqJ,EAAApB,IAAA,WAAAoB,EAAAlG,MAAA,KAAA2J,KAAA,KAAA7E,IAAAoB,EAAApB,IAAA,KAAA5G,OAAA,cAAArB,KAAA,kBAAAqJ,EAAAlG,MAAA2H,IAAA,KAAA9K,KAAA8K,GAAA3C,GAAAoF,OAAA,SAAA1C,GAAA,QAAAU,EAAA,KAAAR,WAAArJ,OAAA,EAAA6J,GAAA,IAAAA,EAAA,KAAAb,EAAA,KAAAK,WAAAQ,GAAA,GAAAb,EAAAG,eAAA,YAAAyC,SAAA5C,EAAAQ,WAAAR,EAAAI,UAAAG,EAAAP,GAAAvC,IAAAqF,MAAA,SAAA7C,GAAA,QAAAY,EAAA,KAAAR,WAAArJ,OAAA,EAAA6J,GAAA,IAAAA,EAAA,KAAAb,EAAA,KAAAK,WAAAQ,GAAA,GAAAb,EAAAC,WAAA,KAAAtB,EAAAqB,EAAAQ,WAAA,aAAA7B,EAAAlG,KAAA,KAAAsK,EAAApE,EAAApB,IAAAgD,EAAAP,GAAA,OAAA+C,GAAA,UAAAjE,MAAA,0BAAAkE,cAAA,SAAAtC,EAAAd,EAAAC,GAAA,YAAAb,SAAA,CAAAjD,SAAAiC,EAAA0C,GAAAd,aAAAC,WAAA,cAAAlJ,SAAA,KAAA4G,SAAAtG,GAAAwG,IAAAtC,EAkBA,IAAM8H,EAAgB,IDDH,WAIf,SAAAC,EAAYnL,GAAwBrD,YAAA,KAAAwO,GAAA,KAFpCnL,gBAAU,EAGNjD,KAAKiD,WAAaA,EAkDrB,OAjDAvD,YAAA0O,EAAA,EAAA9N,IAAA,YAAAC,MAED,SAAUC,GACN,OAAOR,KAAKiD,WAAWoL,UAAU7N,GAC5BI,MAAK,SAAA0N,GAAM,OAAI,IAAIrI,EAChBqI,EAAOpI,KAAKqI,KAAI,SAAApN,GAAK,OAAIyD,EAAS4J,eAAerN,MACjDmN,EAAO9N,KACPA,QAGZ,CAAAF,IAAA,cAAAC,MAWA,SACIU,EACA+E,EACAT,EACAD,EACAE,EACAJ,EACAC,GAEA,IAAInE,EAAe,IAAI6E,EACnBC,EACAT,EACAD,EACAE,EACAJ,EACAC,GAEJ,OAAOrF,KAAKiD,WAAWwL,oBAAoBxN,EAASC,GAC/CN,MAAK,SAAAO,GAAK,OAAIyD,EAAS8J,UAAUvN,QACzC,CAAAb,IAAA,WAAAC,MAED,SAASU,GACL,OAAOjB,KAAKiD,WAAW0L,SAAS1N,GAC3BL,MAAK,SAAAO,GAAK,OAAIyD,EAAS8J,UAAUvN,QACzC,CAAAb,IAAA,YAAAC,MAAA,eAAAqO,EAAAC,YAAAzI,IAAAiG,MAED,SAAAyC,IAAA,OAAA1I,IAAAuB,MAAA,SAAAoH,GAAA,cAAAA,EAAA9B,KAAA8B,EAAAvO,MAAA,cAAAuO,EAAAvE,OAAA,SACWxK,KAAKiD,WAAW+L,aAAW,wBAAAD,EAAA3B,UAAA0B,EAAA,UACrC,yBAAAF,EAAAK,MAAA,KAAAhN,YAJA,MAIAmM,EAvDc,GCCG,CAAkB,IAAIlO,GAEtCgP,EACY,UADZA,EAEQ,aAFRA,EAGS,cAHTA,EAIW,gBAJXA,EAKQ,aALRA,EAMgB,qBANhBA,EAOU,eAPVA,EAQgB,qBAGhBC,EACQ,YADRA,EAEO,WAFPA,EAGG,QAHHA,EAKO,YAGPC,EACC,MADDA,EAEE,OAGFC,EAAiB,SAACnL,GACtB,MAAO,CACLP,KAAMuL,EACN3O,MAAO2D,IAILoL,EAAmB,SAAChB,GACxB,MAAO,CACL3K,KAAMuL,EACN3O,MAAO+N,IAqBLiB,EAAmB,SAACC,GAA+D,IAAnCrO,EAAsBc,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAC7E,MAAO,CACL0B,KAAMuL,EACN3O,MAAO,CAAEiP,oBAAmBrO,WAI1BsO,EAA4B,SAACC,GACjC,MAAO,CACL/L,KAAMuL,EACN3O,MAAOmP,IAWLC,GAA0B,SAAClL,GAC/B,MAAO,CACLd,KAAMuL,EACN3O,MAAOkE,IAILmL,GAAU,eAAAC,EAAAhB,YAAAzI,IAAAiG,MAAG,SAAAyC,EAAOxL,EAAoB9C,GAAmB,IAAA8N,EAAA,OAAAlI,IAAAuB,MAAA,SAAAoH,GAAA,cAAAA,EAAA9B,KAAA8B,EAAAvO,MAAA,OAChC,OAA/B8C,EAAS+L,GAAe,IAAON,EAAA9B,KAAA,EAAA8B,EAAAvO,KAAA,EAEV2N,EAAcE,UAAU7N,GAAM,KAAD,EAA5C8N,EAAMS,EAAA1E,KACV/G,EAASgM,EAAiBhB,IAASS,EAAAvO,KAAA,gBAAAuO,EAAA9B,KAAA,EAAA8B,EAAAe,GAAAf,EAAA,iBAIH,OAJGA,EAAA9B,KAAA,GAInC3J,EAAS+L,GAAe,IAAQN,EAAAhB,OAAA,6BAAAgB,EAAA3B,UAAA0B,EAAA,wBAEnC,gBAVeiB,EAAAC,GAAA,OAAAH,EAAAZ,MAAA,KAAAhN,YAAA,GAYV2M,GAAU,eAAAqB,EAAApB,YAAAzI,IAAAiG,MAAG,SAAA6D,EAAO5M,GAAkB,OAAA8C,IAAAuB,MAAA,SAAAwI,GAAA,cAAAA,EAAAlD,KAAAkD,EAAA3P,MAAA,cAAA2P,EAAA3P,KAAA,EACpC2N,EAAca,YAAY,KAAD,SAAAmB,EAAA3F,OAAA,SACxBoF,GAAWtM,EAAU,OAAK,wBAAA6M,EAAA/C,UAAA8C,OAClC,gBAHeE,GAAA,OAAAH,EAAAhB,MAAA,KAAAhN,YAAA,GAKVoO,GACQ,iCAAAC,EAAAzB,YAAAzI,IAAAiG,MAAM,SAAAkE,EAAOjN,GAAkB,OAAA8C,IAAAuB,MAAA,SAAA6I,GAAA,cAAAA,EAAAvD,KAAAuD,EAAAhQ,MAAA,cAAAgQ,EAAAhG,OAAA,SAAKoE,GAAWtL,IAAS,wBAAAkN,EAAApD,UAAAmD,OAAA,gBAAAE,GAAA,OAAAH,EAAArB,MAAA,KAAAhN,YAAxD,IADRoO,GAEO,SAAC7P,GAAmB,OAAK,SAAC8C,GAAkB,OAAKsM,GAAWtM,EAAU9C,KAF7E6P,GAGS,SACXpP,EACA+E,EACAT,EACAD,EACAE,EACAJ,EACAC,GAEA,OAAO,SAAC/B,GACNA,EAASmM,GAA0B,IACnCnM,EAASqM,GAAwB,OACjCxB,EAAcuC,YAAYzP,EACxB+E,EAAiBT,EAAuBD,EACxCE,EAAcJ,EAAkBC,GAC/BzE,MAAK,SAAAO,GAEJmC,EAnDiB,SAACnC,GAC1B,MAAO,CACLwC,KAAMuL,EACN3O,MAAO,CAAEY,UAgDMwP,CAAmBxP,IAC5BmC,EAASiM,GAAiB,OAE3BvB,OAAM,SAAAtG,GACLpE,EAASqM,GAAwBjI,OAElCkJ,SAAQ,WACPtN,EAASmM,GAA0B,SA3BvCY,GA+BQ,SAACQ,EAAiBC,GAAiB,OAC7C,SAACxN,GAAkB,OACjBA,EA/FoB,SAACuN,EAAiBC,GAC1C,MAAO,CACLnN,KAAMuL,EACN3O,MAAO,CACLsQ,UACAC,cA0FSC,CAAkBF,EAASC,MAjCpCT,GAkCU,SAACW,GAAc,OAC3B,SAAC1N,GAAkB,OACjBA,EAxFsB,SAAC0N,GAC3B,MAAO,CACLrN,KAAMuL,EACN3O,MAAOyQ,GAqFIC,CAAoBD,MApC7BX,GAqCO,SAACa,EAAe/P,GAAsB,sBAAAgQ,EAAAtC,YAAAzI,IAAAiG,MAAK,SAAA+E,EAAO9N,GAAkB,IAAAzC,EAAA,OAAAuF,IAAAuB,MAAA,SAAA0J,GAAA,cAAAA,EAAApE,KAAAoE,EAAA7Q,MAAA,UAGhE,MAATW,EAAa,CAAAkQ,EAAA7Q,KAAA,QACf8C,EAASiM,EAAiB2B,EAAM/P,IAChCmC,EAASqM,GAAwB,OAAO0B,EAAA7Q,KAAA,uBAAA6Q,EAAApE,KAAA,EAAAoE,EAAA7Q,KAAA,EAGnB2N,EAAcQ,SAASxN,EAAM0D,QAAQ,KAAD,EAAnDhE,EAAMwQ,EAAAhH,KACV/G,EAASiM,EAAiB2B,EAAMrQ,IAChCyC,EAASqM,GAAwB,OAAM0B,EAAA7Q,KAAA,iBAAA6Q,EAAApE,KAAA,GAAAoE,EAAAvB,GAAAuB,EAAA,kCAAAA,EAAAjE,UAAAgE,EAAA,mBAK5C,gBAAAE,GAAA,OAAAH,EAAAlC,MAAA,KAAAhN,YAfgD,ICzI7CgC,GAAe,CACjBC,SAAS,EACTqN,UAAW,GACXV,QAAS1B,EACT2B,UAAW1B,EACX4B,OAAQ,GACR1C,OAAQ,GACRkB,mBAAmB,EACnBrO,MAAO,KACPqQ,kBAAkB,EAClBC,YAAa,KACbC,KAAM,CACFlR,KAAM,GACNyM,KAAM,GACN9G,QAAS,OA0FjB,SAASwL,GAAWrD,EAAoBuC,EAAiBC,GAAyC,IAAtBE,EAAc/O,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GACzF,OAAOqM,EACF0C,QAAO,SAAA7P,GACJ,OAASA,EAAM4D,WAAa,IAAI6M,cAAcC,SAASb,EAAOY,iBACzDzQ,EAAM6D,UAAY,IAAI4M,cAAcC,SAASb,EAAOY,iBACpDzQ,EAAM2D,UAAY,IAAI8M,cAAcC,SAASb,EAAOY,iBACpDzQ,EAAM2C,OAAS,IAAI8N,cAAcC,SAASb,EAAOY,iBACjDzQ,EAAMgE,WAAa,IAAI0M,SAASb,EAAOY,kBAC7CE,MAAK,SAACC,EAAGC,GACR,OAAQnB,GACJ,KAAK1B,EACD,OAAQ2B,IAAc1B,EACjB2C,EAAEhN,UAAYiN,EAAEjN,UAAY,GAAK,EACjCgN,EAAEhN,UAAYiN,EAAEjN,UAAY,GAAK,EAC1C,KAAKoK,EACD,OAAQ2B,IAAc1B,EACjB2C,EAAE/M,SAAWgN,EAAEhN,SAAW,GAAK,EAC/B+M,EAAE/M,SAAWgN,EAAEhN,SAAW,GAAK,EACxC,KAAKmK,EACD,OAAQ2B,IAAc1B,EACjB2C,EAAEjO,MAAQkO,EAAElO,MAAQ,GAAK,EACzBiO,EAAEjO,MAAQkO,EAAElO,MAAQ,GAAK,EAClC,KAAKqL,EACD,OAAQ2B,IAAc1B,EACjB2C,EAAE5M,UAAY6M,EAAE7M,UAAY,GAAK,EACjC4M,EAAE5M,UAAY6M,EAAE7M,UAAY,GAAK,EAC1C,QACI,OAAQ2L,IAAc1B,EACjB2C,EAAEhN,UAAYiN,EAAEjN,UAAY,GAAK,EACjCgN,EAAEhN,UAAYiN,EAAEjN,UAAY,GAAK,MAK3CV,OAxHU,WAAwC,IAAvCC,EAAKrC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAGgC,GAAcM,EAAWtC,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACvD,OAAQoC,EAAOZ,MACX,KAAKuL,EACD,IAAIZ,EAASqD,GAAWpN,EAAOhE,MAAM2F,KAAM5B,EAAMuM,QAASvM,EAAMwM,WAC5DY,EAAO,CACPlR,KAAIyR,YAAM3N,EAAMoN,KAAKlR,MACrB2F,QAAS5B,EAAOhE,MAAM4F,QACtB8G,KAAIgF,YAAM3N,EAAMoN,KAAKzE,OAiBzB,OAbIyE,EAAKlR,KAAK0B,QAAUwP,EAAKlR,KAAK,KAAO+D,EAAOhE,MAAM4F,SAElDuL,EAAKlR,KAAK0R,QACVR,EAAKzE,KAAKzB,KAAKlH,EAAMoN,KAAKvL,UACnB7B,EAAMoN,KAAKzE,KAAK/K,QAAUoC,EAAMoN,KAAKzE,KAAK3I,EAAMoN,KAAKzE,KAAK/K,OAAS,KAAOqC,EAAOhE,MAAM4F,UAC9FuL,EAAKlR,KAAK2R,QAAQ7N,EAAMoN,KAAKvL,SAC7BuL,EAAKzE,KAAKF,OAGVxI,EAAOhE,MAAMC,OAASkR,EAAKlR,KAAK0B,QAChCwP,EAAKlR,KAAKgL,KAAKjH,EAAOhE,MAAMC,MAGhCgE,wBAAA,GACOF,GAAK,IACRiN,UAAWjD,EACXA,SACAoD,SAGR,KAAKxC,EACD,OAAA1K,wBAAA,GACOF,GAAK,IACRuM,QAAStM,EAAOhE,MAAMsQ,QACtBC,UAAWvM,EAAOhE,MAAMuQ,UACxBxC,OAAQqD,GAAUM,YAAK3N,EAAMiN,WAAYhN,EAAOhE,MAAMsQ,QAAStM,EAAOhE,MAAMuQ,UAAWxM,EAAM0M,UAGrG,KAAK9B,EACD,OAAA1K,wBAAA,GACOF,GAAK,IACR0M,OAAQzM,EAAOhE,MACf+N,OAAQqD,GAAUM,YAAK3N,EAAMiN,WAAYjN,EAAMuM,QAASvM,EAAMwM,UAAWvM,EAAOhE,SAExF,KAAK2O,EACD,OAAA1K,wBAAA,GACOF,GAAK,IACRJ,QAASK,EAAOhE,QAExB,KAAK2O,EACD,OAAA1K,wBAAA,GACOF,GAAK,IACRnD,MAAOoD,EAAOhE,MAAMY,OAASoF,OAAO6L,OAAO,GAAI9N,EAAMnD,OACrDqO,kBAAmBjL,EAAOhE,MAAMiP,oBAExC,KAAKN,EACD,IAAIZ,EAAM2D,YAAO3N,EAAMgK,QACnB+D,EAAQ/D,EAAOgE,WAAU,SAAAnR,GAAK,OAAIA,EAAM0D,SAAWN,EAAOhE,MAAMY,MAAM0D,UAI1E,YAHc1C,IAAVkQ,IACA/D,EAAO+D,GAAS9N,EAAOhE,MAAMY,OAEjCqD,wBAAA,GACOF,GAAK,IACRiN,UAAWjD,EACXA,OAAQqD,GAAWrD,EAAQhK,EAAMuM,QAASvM,EAAMwM,UAAWxM,EAAM0M,UAEzE,KAAK9B,EACD,OAAA1K,wBAAA,GACOF,GAAK,IACRkN,iBAAkBjN,EAAOhE,QAEjC,KAAK2O,EACD,IAAIqD,EAAe,KAInB,OAHIhO,EAAOhE,QACPgS,EAAehO,EAAOhE,MAAMkE,MAAMC,OAAO8N,SAE7ChO,wBAAA,GACOF,GAAK,IACRmN,YAAac,IAErB,QACI,OAAOjO,ICtGbmO,GAAwB,ICHH,WAIvB,SAAAC,EAAYzP,GAAwBrD,YAAA,KAAA8S,GAAA,KAF5BzP,gBAAU,EAGdjD,KAAKiD,WAAaA,EASrB,OARAvD,YAAAgT,EAAA,EAAApS,IAAA,cAAAC,MAED,WACI,OAAOP,KAAKiD,WAAW0P,sBAC1B,CAAArS,IAAA,eAAAC,MAED,SAAaO,GACT,OAAOd,KAAKiD,WAAW2P,mBAAmB9R,OAC7C4R,EAdsB,GDGG,CAA0B,IAAIxS,GAEtD2S,GAC0B,aAD1BA,GAEgB,UAFhBA,GAGgB,mBAHhBA,GAIa,gBAJbA,GAKc,iBAUdxD,GAAiB,SAACnL,GACpB,MAAO,CACHP,KAAMkP,GACNtS,MAAO2D,IAIT4O,GAAgB,SAACC,GAEnB,OADAC,QAAQC,IAAI,SAAUF,GACf,CACHpP,KAAMkP,GACNtS,MAAOwS,IAsBTG,GACS,SAAC/R,GACR,OAAO,SAACmC,GACJA,EA3Ca,SAACnC,GACtB,MAAO,CACHwC,KAAMkP,GACNtS,MAAOY,GAwCMgS,CAAiBhS,MAHhC+R,GAMa,WACX,OAAO,SAAC5P,GACJA,EAAS+L,IAAe,IACxBoD,GAAsBW,cACjBxS,MAAK,SAAAE,GACFwC,EA7BQ,SAACxC,GACzB,MAAO,CACH6C,KAAMkP,GACNtS,MAAKiE,YAAA,GACE1D,IAyBcuS,CAAoBvS,OAEhCkN,OAAM,SAAAtG,GAEHsL,QAAQC,IAAIvL,MAEfkJ,SAAQ,WACLtN,EAAS+L,IAAe,SAlBtC6D,GAsBY,SAACpS,GACX,OAAO,SAACwC,GACJA,EAASwP,IAAc,IACvBL,GAAsBa,aAAaxS,GAC9BF,MAAK,SAAAE,GACFwC,EApCO,SAACxC,GACxB,MAAO,CACH6C,KAAMkP,GACNtS,MAAKiE,YAAA,GACE1D,IAgCcyS,CAAmBzS,OAE/BkN,OAAM,SAAAtG,GAEHsL,QAAQC,IAAIvL,MAEfkJ,SAAQ,WACLtN,EAASwP,IAAc,SEtFrC7O,GAAe,CACjBuP,WAAW,EACXnO,qBAAqB,EACrBD,kBAAkB,EAClBqO,cAAe,GACfvP,SAAS,EACT6O,QAAQ,EACRW,sBAAuB,CAAC,OAoCbrP,GAjCU,WAAwC,IAAvCC,EAAKrC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAGgC,GAAcM,EAAWtC,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACvD,OAAQoC,EAAOZ,MACX,KAAKkP,GACD,OAAArO,wBAAA,GACOF,GAAK,IACRkP,UAAWjP,EAAOhE,QAE1B,KAAKsS,GACD,OAAArO,wBAAA,GACOF,GACAC,EAAOhE,OAElB,KAAKsS,GACD,OAAArO,wBAAA,GACOF,GAAK,IACRJ,QAASK,EAAOhE,QAExB,KAAKsS,GACD,OAAArO,wBAAA,GACOF,GACAC,EAAOhE,OAElB,KAAKsS,GACD,OAAArO,wBAAA,GACOF,GAAK,IACRyO,OAAQxO,EAAOhE,QAEvB,QACI,OAAO+D,IC1CbqP,GACI,mBAeKC,GAZO,oBAAAA,IAAAhU,YAAA,KAAAgU,GAQjB,OARiBlU,YAAAkU,EAAA,EAAAtT,IAAA,OAAAC,MAElB,SAAKoD,GAA0E,IAA5DkQ,EAAe5R,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,QAASiE,EAAYjE,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAE2R,EAAgB7R,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAClE4P,EAAIgC,SAASC,cAAc,KAIjC,OAHAjC,EAAEkC,KAAI,QAAAvT,OAAWiD,EAAI,aAAAjD,OAAYmT,EAAO,KAAAnT,OAAIwF,GAC5C6L,EAAEmC,SAAWJ,EACb/B,EAAEoC,QACKpC,MACV6B,EARiB,GC4BPQ,GA5BS,WAKtB,SAAAA,EAAYnR,EAAwBoR,GAA6BzU,YAAA,KAAAwU,GAAA,KAHzDnR,gBAAU,OACVoR,eAAS,EAGfrU,KAAKiD,WAAaA,EAClBjD,KAAKqU,UAAYA,EAkBlB,OAjBA3U,YAAA0U,EAAA,EAAA9T,IAAA,sBAAAC,MAED,SAAoBQ,GAAiC,IAADiB,EAAA,KAClD,OAAOhC,KAAKiD,WAAWqR,eAAevT,GACnCH,MAAK,SAAAI,GACJ,OAAOgB,EAAKuS,oBAAoBvT,QAErC,CAAAV,IAAA,sBAAAC,MAED,SAAoBiU,GAClBxU,KAAKyU,WAAWD,EAAQ,GAAGE,SAAS/P,KAAM6P,EAAQ,IAClDxU,KAAKyU,WAAWD,EAAQ,GAAGE,SAAS/P,KAAM6P,EAAQ,MAEnD,CAAAlU,IAAA,aAAAC,MAED,SAAWuT,EAAkB9S,GAC3B,OAAOhB,KAAKqU,UAAUM,KAAKhB,GAAoB,QAASiB,UAAUC,KAAKC,UAAU9T,IAAe8S,OACjGM,EAzBqB,GCElBW,GAAmB,IAAInB,GACvBoB,GAAqB,IAAIZ,GAAmB,IAAIlU,EAAc6U,IAE9DE,GACqB,0BADrBA,GAES,cAFTA,GAGM,WAHNA,GAIY,iBAGZC,GAAuB,SAACzQ,GAC5B,MAAO,CACLd,KAAMsR,GACN1U,MAAOkE,IAIL0Q,GAAqB,SAACC,GAC1B,MAAO,CACLzR,KAAMsR,GACN1U,MAAO6U,IAkBLC,GACM,SAACC,GACT,OAAO,SAAChS,GAENA,EAAS4R,GAAqB,OAC9B5R,EAAS6R,IAAmB,IAC5BH,GAAmBO,oBAAoBD,GACpC1U,MAAK,SAAAI,GACJsC,EAtBa,SAACtC,GACtB,MAAO,CACL2C,KAAMsR,GACN1U,MAAO,CAAES,gBAmBMwU,CAAexU,OAEzBgN,OAAM,SAAAtG,GAELpE,EAAS4R,GAAqBxN,OAE/BkJ,SAAQ,WACPtN,EAAS6R,IAAmB,SAfhCE,GAmBO,SAACnE,GACV,OAAO,SAAC5N,GACNA,EA5BmB,SAAC4N,GACxB,MAAO,CACLvN,KAAMsR,GACN1U,MAAO2Q,GAyBIiC,CAAiBjC,MC9D1BjN,GAAe,CACjBuP,WAAW,EACX4B,aAAa,EACbK,cAAe,MA8BJpR,GA3BU,WAAwC,IAAvCC,EAAKrC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAGgC,GAAcM,EAAWtC,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACvD,OAAQoC,EAAOZ,MACX,KAAKsR,GACD,OAAAzQ,wBAAA,GACOF,GAAK,IACR8Q,YAAa7Q,EAAOhE,QAE5B,KAAK0U,GACD,IAAI1C,EAAe,KAKnB,OAHIhO,EAAOhE,OAASgE,EAAOhE,MAAMkE,QAC7B8N,EAAehO,EAAOhE,MAAMkE,MAAMC,OAAO8N,SAE7ChO,wBAAA,GACOF,GAAK,IACRmR,cAAelD,IAEvB,KAAK0C,GACD,OAAAzQ,wBAAA,GACOF,GAAK,IACRkP,UAAWjP,EAAOhE,QAE1B,QACI,OAAO+D,IC/BJoR,GAPKC,YAAgB,CAChChW,KAAMiW,EACNtH,OAAQuH,GACRC,eAAgBC,GAChB/U,YAAagV,K,wCCUFC,GARK,CAChBC,WAAY,UACZC,QAAS,UACTC,UAAW,UACX3R,MAAO,UACP4R,OAAQ,WCuEGC,GAzEO,IAAIC,KAAe,CACrCC,QAAS,EACTC,WAAY,CACRC,WAAY,CAAC,SAAS,YAAY,QAAQ,cAAcC,KAAK,MAEjEC,OAAQ,CACJV,WAAYD,GAAYC,WACxBzR,MAAOwR,GAAYxR,OAEvBoS,QAAS,CACLV,QAAS,CACLW,KAAMb,GAAYE,SAEtBY,UAAW,CACPD,KAAMb,GAAYG,WAEtB3R,MAAO,CACHqS,KAAMb,GAAYxR,QAG1BuS,UAAW,CACPC,KAAM,qCACNC,OAAQ,qCACRC,IAAK,qCAETC,UAAW,CACPC,aAAc,CACVC,aAAc,CACVC,gBAAiBtB,GAAYE,SAEjCqB,KAAM,CACFC,MAAO,YAGfC,kBAAmB,CACfC,OAAQ,CACJF,MAAO,sBAEXG,KAAM,CACFH,MAAO,wBAInBI,YAAa,CACTJ,MAAO,UACPK,SAAU,IAEdC,MAAO,CACHC,KAAM,CACFC,QAAS,GAEbC,MAAO,CACHJ,SAAU,GACVG,QAAS,EACTE,OAAQ,GAEZC,MAAO,CACHH,QAAS,GACTI,MAAO,KAEXC,gBAAiB,CACbC,UAAW,IAEfC,OAAQ,CACJD,UAAW,IAEf9T,MAAO,CACHqT,SAAU,GACVL,MAAOxB,GAAYxR,U,8CCtEhBgU,kBCwCAC,GArCE,SAAAC,GAAAC,aAAAF,EAAAC,GAAA,IAAAE,EAAAC,aAAAJ,GACf,SAAAA,EAAYK,GAAQ,IAAD/W,EAed,OAfcpC,YAAA,KAAA8Y,GACjB1W,EAAA6W,EAAAnQ,KAAA,KAAMqQ,GAGNC,IAAIC,OAAO,QAAQ,SAAC/S,GAClB,OAAQA,EAAK3C,QAAQ2V,OACnB,IAAK,SACHC,GAAQ3N,KAAK,WACbxJ,EAAKoX,SAAS,CAACC,UAAW,WAAYC,SAAUpT,EAAK3C,QAAQ2C,WAOhElE,EAkBJ,OAjBAtC,YAAAgZ,EAAA,EAAApY,IAAA,oBAAAC,MAED,WAEOP,KAAK+Y,MAAMQ,UAAavZ,KAAK+Y,MAAMQ,SAASC,OAAOC,WAAW,WACjEpY,IAAKqY,2BAA2B9Y,MAAK,SAAAyC,GACnC8V,GAAQ3N,KAAK,cACZwC,OAAM,SAAA2L,GACPtY,IAAKuY,uBAGV,CAAAtZ,IAAA,SAAAC,MAED,WACE,OACIsZ,IAAA7F,cAAA,OAAK8F,UAAU,YAEpBpB,EAlCc,CAASqB,a,4ECIpBC,GAAoB,SAAArB,GAAAC,aAAAoB,EAAArB,GAAA,IAAAE,EAAAC,aAAAkB,GAAA,SAAAA,IAAA,IAAAhY,EAAApC,YAAA,KAAAoa,GAAA,QAAAC,EAAAhY,UAAAC,OAAAgY,EAAA,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAAF,EAAAE,GAAAnY,UAAAmY,GAIpB,OAJoBpY,EAAA6W,EAAAnQ,KAAAuG,MAAA4J,EAAA,OAAAnY,OAAAwZ,KAEtBG,kBAAoB,YACuB,IAAvCrY,EAAK+W,MAAMuB,wBAAoCtY,EAAK+W,MAAMwB,mBAAkB,GAAQvY,EAAK+W,MAAMwB,mBAAkB,IACpHvY,EAQA,OARAtC,YAAAsa,EAAA,EAAA1Z,IAAA,SAAAC,MAED,WACI,OACIsZ,IAAA7F,cAACwG,KAAU,CAAC/C,MAAM,UAAUgD,QAASza,KAAKqa,mBACtCR,IAAA7F,cAAC0G,KAAQ,WAGpBV,EAZqB,CAASD,aA+BpBY,iBAZS,SAACrW,GACrB,MAAO,CACHgW,wBAAyBhW,EAAMwR,eAAetC,cAI3B,SAAClQ,GACxB,MAAO,CACHiX,kBAAmB,SAACrJ,GAAI,OAAK5N,EAAS4P,GAA+BhC,QAI9DyJ,CAA6CX,IClC7CY,GALG,CACdC,MAAO,QACPC,QAAS,WC6CPC,GAAQ,IAAIxE,KAAe,CAC7BM,QAAS,CACLV,QAAS,CACLW,KAAMb,GAAYI,WAKxB2E,GAAa,SAAArC,GAAAC,aAAAoC,EAAArC,GAAA,IAAAE,EAAAC,aAAAkC,GAAA,SAAAA,IAAA,IAAAhZ,EAAApC,YAAA,KAAAob,GAAA,QAAAf,EAAAhY,UAAAC,OAAAgY,EAAA,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAAF,EAAAE,GAAAnY,UAAAmY,GAIb,OAJapY,EAAA6W,EAAAnQ,KAAAuG,MAAA4J,EAAA,OAAAnY,OAAAwZ,KAEfe,eAAiB,WACbjZ,EAAK+W,MAAM/U,UACdhC,EAsDA,OAtDAtC,YAAAsb,EAAA,EAAA1a,IAAA,SAAAC,MAED,WACI,IAAK2a,EAAWlb,KAAK+Y,MAAhBmC,QACL,OACIrB,IAAA7F,cAACmH,KAAgB,CAACJ,MAAOA,IACrBlB,IAAA7F,cAAA,OAAK8F,UAAWoB,EAAQlD,MACpB6B,IAAA7F,cAACoH,KAAM,CAACC,SAAS,UACbxB,IAAA7F,cAACsH,KAAO,KACJzB,IAAA7F,cAACuH,KAAI,CAACC,WAAS,EAACC,UAAU,MAAMC,QAAQ,gBAAgBC,aAAa,SAC/DC,WAAW,UACb/B,IAAA7F,cAACuH,KAAI,CAACM,MAAI,GACNhC,IAAA7F,cAACuH,KAAI,CAACC,WAAS,EAACC,UAAU,MAAMG,WAAW,SAASD,aAAa,UAC7D9B,IAAA7F,cAACuH,KAAI,CAACM,MAAI,GACNhC,IAAA7F,cAAA,OAAK8H,IAAI,sBAAsBhC,UAAWoB,EAAQa,KAC7CC,IAA8B,2BAEvCnC,IAAA7F,cAACuH,KAAI,CAACM,MAAI,GACNhC,IAAA7F,cAACiI,KAAU,CAACC,QAAQ,MAAK,iDAMrCrC,IAAA7F,cAACuH,KAAI,CAACM,MAAI,GACNhC,IAAA7F,cAACuH,KAAI,CAACC,WAAS,EAACC,UAAU,OACtB5B,IAAA7F,cAACuH,KAAI,CAACM,MAAI,EAAC/B,UAAWoB,EAAQiB,UAC1BtC,IAAA7F,cAACuH,KAAI,CAACC,WAAS,EAACC,UAAU,SAASE,aAAa,SAC1CC,WAAW,YACb/B,IAAA7F,cAACuH,KAAI,CAACM,MAAI,GAAChC,IAAA7F,cAAA,KAAG8F,UAAWoB,EAAQkB,MAAOpc,KAAK+Y,MAAMsD,WACnDxC,IAAA7F,cAACuH,KAAI,CAACM,MAAI,GAAChC,IAAA7F,cAAA,KAAG8F,UAAWoB,EAAQpX,OAAQ9D,KAAK+Y,MAAMuD,cAI5DzC,IAAA7F,cAACuH,KAAI,CAACM,MAAI,GACNhC,IAAA7F,cAACuH,KAAI,CAACC,WAAS,EAACC,UAAU,MAAMG,WAAY,UACxC/B,IAAA7F,cAACuH,KAAI,CAACM,MAAI,GACNhC,IAAA7F,cAACgG,GAAoB,OAEzBH,IAAA7F,cAACuH,KAAI,CAACM,MAAI,GACNhC,IAAA7F,cAACwG,KAAU,CAAC/C,MAAM,UAAUgD,QAASza,KAAKib,gBACtCpB,IAAA7F,cAACuI,KAAS,qBAa7DvB,EA1Dc,CAASjB,aAgGbY,iBA/BS,SAACrW,GACrB,IAAI8X,EAAO,GACX,IAAK9X,EAAM3E,KAAK0D,KACZ,MAAO,CACHiZ,UAAW,KACXD,SAAU,MAIlB,IAAItY,EAAQO,EAAM3E,KAAK0D,KAAY,MASnC,OARIU,GAASA,EAAM8N,SAAS+I,GAAUE,WAClCsB,EAAO,WAGPrY,GAASA,EAAM8N,SAAS+I,GAAUC,SAClCuB,EAAO,iBAGJ,CACHE,UAAWhY,EAAM3E,KAAK0D,KAAY,MAClCgZ,SAAUD,MAIS,SAAC9Y,GACxB,MAAO,CACHU,OAAQ,kBAAMV,EAASF,SAKhBuX,CAA6C6B,cAtI7C,SAACzB,GAAK,MAAM,CACvB/C,KAAM,CACFyE,SAAU,GAEdV,KAAM,CACF5D,OAAQ,eACRuE,OAAQ,IAEZC,KAAM,CACFF,SAAU,GAEdN,SAAU,CACNS,YAAa,IAEjBR,KAAM,CACFtE,SAAU,GACV+E,UAAW,QACXC,WAAY,OACZ3E,OAAQ,eACR4E,WAAY,GAEhBjZ,MAAO,CACHgU,SAAU,GACVgF,WAAY,QACZD,UAAW,QACX1E,OAAQ,aACRF,QAAS,MA4G2CuE,CAAmBxB,K,6IC5IzEgC,GAAW,SAAArE,GAAAC,aAAAoE,EAAArE,GAAA,IAAAE,EAAAC,aAAAkE,GAAA,SAAAA,IAAA,OAAApd,YAAA,KAAAod,GAAAnE,EAAA5J,MAAA,KAAAhN,WAUZ,OAVYvC,YAAAsd,EAAA,EAAA1c,IAAA,SAAAC,MAEb,WACI,IAAK2a,EAAWlb,KAAK+Y,MAAhBmC,QACL+B,EAAoDjd,KAAK+Y,MAAlDtB,EAAKwF,EAALxF,MAAOgD,EAAOwC,EAAPxC,QAASX,EAASmD,EAATnD,UAAWoD,EAAQD,EAARC,SAAUvZ,EAAIsZ,EAAJtZ,KAC5C,OACIkW,IAAA7F,cAACmJ,KAAM,CAACxZ,KAAMA,GAAQ,SAAU8T,MAAOA,EAAOgD,QAASA,EAASyC,SAAWA,GAAYld,KAAK+Y,MAAM7U,QAAU4V,UAAWA,EAAWoC,QAAQ,aACtIrC,IAAA7F,cAAA,QAAM8F,UAAWoB,EAAQkC,MAAOpd,KAAK+Y,MAAMsE,SAAS,IAAErd,KAAK+Y,MAAM7U,QAAU2V,IAAA7F,cAACsJ,KAAgB,CAACxD,UAAWoB,EAAQqC,SAAU9F,MAAM,YAAY+F,KAAK,SAAW,KAAK,UAG5KR,EAVY,CAASjD,aAkBXyC,iBAzBA,SAACzB,GAAK,MAAM,CACvBwC,SAAU,CACNE,WAAY,EACZC,cAAe,UAsBRlB,CAAmBQ,I,gCCL5BW,GAAe,SAAAhF,GAAAC,aAAA+E,EAAAhF,GAAA,IAAAE,EAAAC,aAAA6E,GAEjB,SAAAA,EAAY5E,GAAQ,IAAD/W,EAId,OAJcpC,YAAA,KAAA+d,IACf3b,EAAA6W,EAAAnQ,KAAA,KAAMqQ,IAMV6E,mBAAqB,SAAC1E,GAClBlX,EAAK6b,aAAa3E,EAAM4E,OAAOvd,QAN/ByB,EAAKsC,MAAQ,CACTyZ,YAAa,IAChB/b,EAwCJ,OAvCAtC,YAAAie,EAAA,EAAArd,IAAA,eAAAC,MAMD,SAAayd,GAAa,IAADC,EAAA,KACrBje,KAAKoZ,SAAQ5U,wBAAC,GACPxE,KAAKsE,OAAK,IACbyZ,YAAaC,KACd,WACKC,EAAKlF,MAAMmF,kBACXD,EAAKlF,MAAMmF,iBAAiBD,EAAK3Z,MAAMyZ,kBAGlD,CAAAzd,IAAA,SAAAC,MAED,WAAU,IAAD4d,EAAA,KACDjD,EAAUlb,KAAK+Y,MAAMmC,QACzB,OACIrB,IAAA7F,cAACuH,KAAI,CAACC,WAAS,EAACC,UAAW,MAAOG,WAAY,WAAYD,aAAc,UACpE9B,IAAA7F,cAACoK,KAAM,CAACtE,UAAWoB,EAAQ1B,SAC3BK,IAAA7F,cAACuH,KAAI,CAACM,MAAI,GACNhC,IAAA7F,cAACqK,KAAS,CACNvE,UAAWoB,EAAQoD,UACnBC,YAAa,SACb5Z,KAAK,SACLpE,MAAOP,KAAKsE,MAAMyZ,YAClBS,SAAUxe,KAAK4d,sBAGtB5d,KAAK+Y,MAAM0F,gBACR5E,IAAA7F,cAAC0K,KAAM,CAAC5E,UAAWoB,EAAQyD,YAAalE,QAAS,WAC7C0D,EAAKN,aAAa,OAEtB,UAIfF,EA9CgB,CAAS5D,aAuDfyC,iBA1EA,SAACzB,GAAK,MAAM,CACvBuD,UAAW,CACPjG,MAAO,KAEXmB,OAAQ,CACJoD,YAAa,GAEjB+B,YAAa,CACTtG,MAAO,GACPuG,aAAc,EACdnB,YAAa,GACbhG,MAAO,mBACP,UAAW,CACPoH,OAAQ,WAEZC,OAAQ,MA2DDtC,CAAmBmB,I,uDCH5BoB,GAAc,CAChB,CAACC,GAAI,WAAYC,SAAS,EAAOC,gBAAgB,EAAOC,MAAO,WAAYC,UAAU,GACrF,CAACJ,GAAI,YAAaC,SAAS,EAAOC,gBAAgB,EAAOC,MAAO,YAAaC,UAAU,GACvF,CAACJ,GAAI,UAAWC,SAAS,EAAOC,gBAAgB,EAAOC,MAAO,UAAWC,UAAU,GACnF,CAACJ,GAAI,aAAcC,SAAS,EAAOC,gBAAgB,EAAOC,MAAO,aAAcC,UAAU,GACzF,CAACJ,GAAI,kBAAmBC,SAAS,EAAOC,gBAAgB,EAAOC,MAAO,mBAAoBC,UAAU,IAGlGC,GAAW,SAAA1G,GAAAC,aAAAyG,EAAA1G,GAAA,IAAAE,EAAAC,aAAAuG,GAEb,SAAAA,EAAYtG,GAAQ,IAAD/W,EAOd,OAPcpC,YAAA,KAAAyf,IACfrd,EAAA6W,EAAAnQ,KAAA,KAAMqQ,IAcVuG,OAAS,SAACN,GACNhM,QAAQC,IAAI,cAAe+L,GACdD,GAAY/N,QAAO,SAAA6K,GAAI,OAAIA,EAAKmD,KAAOA,KAAI,GAC7CI,UACPpd,EAAK+W,MAAMpH,WAAWqN,EAAKhd,EAAK+W,MAAMjI,YAAc1B,EAAuBA,EAAuBA,IAEzGpN,EAED4b,mBAAqB,SAACI,GAClBhc,EAAK+W,MAAMwG,aAAavB,IAC3Bhc,EAEDwd,UAAY,SAACre,GACTa,EAAK+W,MAAM0G,gBAAe,EAAMte,IACnCa,EAED0d,WAAa,WACT1d,EAAKoX,SAAS,CAACuG,UAAU,IACzB3d,EAAK+W,MAAM6G,cA/BX5d,EAAK6O,QAAU,YACf7O,EAAK8O,UAAY,OACjB9O,EAAK6d,gBAAkB,KACvB7d,EAAKsC,MAAQ,CACTqb,UAAU,GACb3d,EAwIJ,OAvIAtC,YAAA2f,EAAA,EAAA/e,IAAA,oBAAAC,MAED,WACIP,KAAK+Y,MAAM1K,YACXrO,KAAK+Y,MAAM+G,wBACd,CAAAxf,IAAA,SAAAC,MAuBD,WAAU,IAAD0d,EAAA,KACD/C,EAAUlb,KAAK+Y,MAAMmC,QACzB,OACIrB,IAAA7F,cAAA,OAAK8F,UAAW9Z,KAAK+Y,MAAMe,WACvBD,IAAA7F,cAAC+L,KAAK,CAACjG,UAAWoB,EAAQlD,MACtB6B,IAAA7F,cAAA,OAAK8F,UAAWoB,EAAQ8E,QACpBnG,IAAA7F,cAACuH,KAAI,CAACC,WAAS,EAACE,QAAS,gBAAiBE,WAAY,WAAYH,UAAW,OACzE5B,IAAA7F,cAACuH,KAAI,CAACM,MAAI,EAAC/B,UAAWoB,EAAQ+E,WAC1BpG,IAAA7F,cAAC2J,GAAe,CACZuC,IAAK,SAACC,GAAC,OAAKlC,EAAK4B,gBAAkBM,GACnC1B,gBAA6C,KAA5Bze,KAAK+Y,MAAMqH,aAC5BlC,iBAAkBle,KAAK4d,sBAE/B/D,IAAA7F,cAACuH,KAAI,CAACM,MAAI,GACNhC,IAAA7F,cAACmJ,KAAM,CAAC1F,MAAM,YAAYqC,UAAWoB,EAAQmF,WAAY5F,QAAS,kBAAMwD,EAAK7E,SAAS,CAACuG,UAAU,MAAQ,eAGzG9F,IAAA7F,cAACgJ,GAAW,CAAC9Y,QAASlE,KAAK+Y,MAAM7U,QAASuT,MAAO,UAAWgD,QAAS,WACjEwD,EAAKlF,MAAM1K,YACP4P,EAAK4B,iBACL5B,EAAK4B,gBAAgBhC,aAAa,MAEtC,cAIhBhE,IAAA7F,cAACsM,KAAM,CACHC,KAAMvgB,KAAKsE,MAAMqb,SACjBa,QAAS,kBAAMvC,EAAK7E,SAAS,CAACuG,UAAU,KACxCc,kBAAgB,qBAChBC,mBAAiB,4BAEjB7G,IAAA7F,cAAC2M,KAAW,CAAC3B,GAAG,sBAAqB,+BACrCnF,IAAA7F,cAAC4M,KAAa,KACV/G,IAAA7F,cAAC6M,KAAiB,CAAC7B,GAAG,4BAA2B,yEAIrDnF,IAAA7F,cAAC8M,KAAa,KACVjH,IAAA7F,cAACmJ,KAAM,CAAC1C,QAAS,kBAAMwD,EAAK7E,SAAS,CAACuG,UAAU,KAASlI,MAAM,WAAU,UAGzEoC,IAAA7F,cAACmJ,KAAM,CAAC1C,QAASza,KAAK0f,WAAYjI,MAAM,UAAUsJ,WAAS,GAAC,UAMpElH,IAAA7F,cAACgN,KAAK,CAAClH,UAAWoB,EAAQ+F,MAAO3J,cAAY,EAAC4J,aAAW,eAAe1D,KAAK,SACzE3D,IAAA7F,cAACmN,KAAS,KACNtH,IAAA7F,cAACoN,KAAQ,KACJrC,GAAYxQ,KAAI,SAAA8S,GAAU,OACvBxH,IAAA7F,cAACsN,KAAS,CAACxH,UAAWoB,EAAQqG,UAC1BjhB,IAAK+gB,EAAWrC,GAChBwC,MAAOH,EAAWpC,QAAU,QAAU,OACtChH,QAASoJ,EAAWnC,eAAiB,OAAS,WAC9CrF,IAAA7F,cAACyN,KAAc,CACXhH,QAAS,kBAAMwD,EAAKqB,OAAO+B,EAAWrC,KACtC1e,IAAK+gB,EAAWrC,GAChB0C,cAAeL,EAAWjC,SAC1BzH,OAAQsG,EAAKlF,MAAMlI,UAAYwQ,EAAWrC,GAC1CvD,UAAWwC,EAAKlF,MAAMjI,UACtB6Q,cAAeC,MACdP,EAAWlC,aAMhCtF,IAAA7F,cAAC6N,KAAS,KACL7hB,KAAK+Y,MAAMzK,OAAOC,KAAI,SAAApN,GAAK,OACxB0Y,IAAA7F,cAACoN,KAAQ,CAAC9gB,IAAKa,EAAM0D,OAAQid,OAAK,EAACrH,QAAS,WAAOwD,EAAKuB,UAAUre,KAC9D0Y,IAAA7F,cAACsN,KAAS,CAACE,MAAM,QAAQrgB,EAAM2D,UAC/B+U,IAAA7F,cAACsN,KAAS,CAACE,MAAM,QAAQrgB,EAAMgE,WAC/B0U,IAAA7F,cAACsN,KAAS,CAACE,MAAM,QACbvD,EAAKlF,MAAM3T,kBAEDjE,EAAMiE,iBADZyU,IAAA7F,cAAC+N,KAAK,CAACjK,SAAS,YAEsB,MAE9C+B,IAAA7F,cAACsN,KAAS,CAACE,MAAM,QACbrgB,EAAMkE,oBACFwU,IAAA7F,cAAC+N,KAAK,CAACjI,UAAWmE,EAAKlF,MAAM1T,oBAAsB,KAAO6V,EAAQ8G,aAAclK,SAAS,YACzF,MAER+B,IAAA7F,cAACsN,KAAS,CAACE,MAAM,QACb3H,IAAA7F,cAAA,QACI8F,UAAWoB,EAAQ+G,UAAW9gB,EAAMqE,aAAe,QAAU,IACjEqU,IAAA7F,cAAA,QACI8F,UAAWoB,EAAQ+G,UAAW9gB,EAAMmE,WAAU,QAAA5E,OAAWS,EAAMoE,uBAA0B,WAOjHsU,IAAA7F,cAAA,OAAK8F,UAAWoB,EAAQgH,eACpBrI,IAAA7F,cAACmJ,KAAM,CAACD,SAA0C,IAAhCld,KAAK+Y,MAAMrH,KAAKzE,KAAK/K,OAAcuY,QAAS,WAC1DwD,EAAKlF,MAAM1K,UAAU4P,EAAKlF,MAAMrH,KAAKzE,KAAKgR,EAAKlF,MAAMrH,KAAKzE,KAAK/K,OAAS,MACzE2X,IAAA7F,cAACmO,KAAiB,CAACrI,UAAWoB,EAAQkH,aACzCvI,IAAA7F,cAACmJ,KAAM,CAACD,SAA0C,IAAhCld,KAAK+Y,MAAMrH,KAAKlR,KAAK0B,OAAcuY,QAAS,WAC1DwD,EAAKlF,MAAM1K,UAAU4P,EAAKlF,MAAMrH,KAAKlR,KAAK,MAC3CqZ,IAAA7F,cAACqO,KAAkB,CAACvI,UAAWoB,EAAQkH,oBAK7D/C,EAjJY,CAAStF,aAuLXY,iBAxBS,SAACrW,GACrB,MAAO,CACHgK,OAAQhK,EAAMgK,OAAOA,OACrBpK,QAASI,EAAMgK,OAAOpK,QACtB2M,QAASvM,EAAMgK,OAAOuC,QACtBC,UAAWxM,EAAMgK,OAAOwC,UACxBsP,aAAc9b,EAAMgK,OAAO0C,OAC3B3L,oBAAqBf,EAAMwR,eAAezQ,oBAC1CD,iBAAkBd,EAAMwR,eAAe1Q,iBACvCsM,KAAMpN,EAAMgK,OAAOoD,SAIA,SAACpO,GACxB,MAAO,CACH+K,UAAW,SAAC7N,GAAI,OAAK8C,EAAS+M,GAAuB7P,KACrDmR,WAAY,SAACd,EAASC,GAAS,OAAKxN,EAAS+M,GAAwBQ,EAASC,KAC9EyO,aAAc,SAACvO,GAAM,OAAK1N,EAAS+M,GAA0BW,KAC7DyO,eAAgB,SAACvO,EAAM/P,GAAK,OAAKmC,EAAS+M,GAAuBa,EAAM/P,KACvE2e,oBAAqB,kBAAMxc,EAAS4P,OACpC0M,WAAY,kBAAMtc,EAAS+M,UAIpBsK,CAA6C6B,cAvP7C,SAACzB,GAAK,MAAM,CACvB,UAAW,CACP,0BAA2B,CACvB,UAAW,CACPtD,MAAO,WAEX,UAAW,CACPA,MAAO,YAGf,qBAAsB,CAClBqF,WAAY,MAGpBkD,OAAQ,CACJ7H,OAAQ,IAEZqB,OAAQ,CACJoD,YAAa,GAEjB5E,KAAM,CACFK,MAAO,OACPiK,UAAW,QAEfrB,MAAO,CACHsB,SAAU,KAEdN,SAAU,CACNrF,YAAa,IAEjB2E,UAAW,CACPiB,YAAa,mBAEjB7D,YAAa,CACTtG,MAAO,GACPuG,aAAc,EACdnB,YAAa,GACbhG,MAAO,mBACP,UAAW,CACPoH,OAAQ,WAEZC,OAAQ,GAEZkD,aAAc,CACVvK,MAAO,WAEXyK,cAAe,CACXO,MAAO,SAEXL,UAAW,GAEX/B,WAAY,CACRlI,OAAQ,iBAmM4CqE,CAAmB6C,K,qFCxPzEqD,GAAW,SAAA/J,GAAAC,aAAA8J,EAAA/J,GAAA,IAAAE,EAAAC,aAAA4J,GAEb,SAAAA,EAAY3J,GAAQ,IAAD/W,EASd,OATcpC,YAAA,KAAA8iB,IACf1gB,EAAA6W,EAAAnQ,KAAA,KAAMqQ,IAWV4J,eAAiB,WAEb,IAAI7hB,EAAW,CACX8hB,eAAgB5gB,EAAKsC,MAAMse,eAC3BC,oBAAqB7gB,EAAKsC,MAAMue,oBAChCC,qBAAsB9gB,EAAKsC,MAAMwe,qBACjCC,aAAc,SACdC,kBAAmBhhB,EAAKsC,MAAM0e,kBAC9BC,eAAgBjhB,EAAKsC,MAAM2e,gBAE/BjhB,EAAK+W,MAAM7E,SAASpT,IACvBkB,EAEDkhB,kBAAoB,SAAChK,GACjBA,EAAMiK,iBAGNnhB,EAAKoX,SAAQ5U,wBAAC,GACPxC,EAAKsC,OAAK,GAAA8e,aAAA,GACZlK,EAAM4E,OAAOnZ,KAAOuU,EAAM4E,OAAOvd,UA7BtCyB,EAAKsC,MAAQ,CACTse,eAAgB,UAChBC,oBAAqB,qCACrBC,qBAAsB,GACtBC,aAAc,SACdC,kBAAmB,aACnBC,eAAgB,GACnBjhB,EAqEJ,OApEAtC,YAAAgjB,EAAA,EAAApiB,IAAA,SAAAC,MAyBD,WAEI,IAAI2a,EAAUlb,KAAK+Y,MAAMmC,QAEzB,OACIrB,IAAA7F,cAAA,OAAK8F,UAAWoB,EAAQlD,MACpB6B,IAAA7F,cAAA,MAAI8F,UAAWoB,EAAQhD,OAAO,yBAC9B2B,IAAA7F,cAACuH,KAAI,CAACzB,UAAWoB,EAAQ5C,gBAAiBkD,WAAS,EAACC,UAAW,UAC3D5B,IAAA7F,cAACqP,KAAW,KACRxJ,IAAA7F,cAACsP,KAAU,CAAC3f,KAAM,OAAQ4f,QAAQ,mBAAkB,mBACpD1J,IAAA7F,cAACwP,KAAK,CAACxE,GAAG,kBAAkByE,kBAAkB,EAAMC,UAAU,EAAQ/e,KAAM,iBAAmBpE,MAAOP,KAAKsE,MAAMse,eAAgBpE,SAAUxe,KAAKkjB,qBAEpJrJ,IAAA7F,cAACqP,KAAW,KACRxJ,IAAA7F,cAACsP,KAAU,CAACC,QAAQ,uBAAsB,kBAC1C1J,IAAA7F,cAACwP,KAAK,CAACxE,GAAG,sBAAsByE,kBAAkB,EAAMC,UAAU,EAAO/e,KAAM,oBAAqBpE,MAAOP,KAAKsE,MAAM0e,kBAAmBxE,SAAUxe,KAAKkjB,qBAE5JrJ,IAAA7F,cAACqP,KAAW,KACRxJ,IAAA7F,cAACsP,KAAU,CAAC3f,KAAM,OAAQ4f,QAAQ,yBAAwB,yBAC1D1J,IAAA7F,cAACwP,KAAK,CAACxE,GAAG,wBAAwByE,kBAAkB,EAAMC,UAAU,EAAQ/e,KAAM,sBAAwBpE,MAAOP,KAAKsE,MAAMue,oBAAqBrE,SAAUxe,KAAKkjB,qBAEpKrJ,IAAA7F,cAACqP,KAAW,KACRxJ,IAAA7F,cAACsP,KAAU,CAACC,QAAQ,mBAAkB,iCACtC1J,IAAA7F,cAACwP,KAAK,CAAC7f,KAAM,SAAUggB,WAAY,CAAEC,IAAK,IAAKC,IAAK,MAAOC,KAAM,KAAO9E,GAAG,kBAAkByE,kBAAkB,EAAMC,UAAU,EAAO/e,KAAM,uBAAyBpE,MAAOP,KAAKsE,MAAMwe,qBAAsBtE,SAAUxe,KAAKkjB,qBAEhOrJ,IAAA7F,cAACqP,KAAW,KACRxJ,IAAA7F,cAACsP,KAAU,CAACC,QAAQ,cAAa,kCACjC1J,IAAA7F,cAACwP,KAAK,CAAC7f,KAAM,SAAUggB,WAAY,CAAEC,IAAK,IAAKC,IAAK,KAAMC,KAAM,KAAO9E,GAAG,aAAayE,kBAAkB,EAAMC,UAAU,EAAO/e,KAAM,iBAAkBpE,MAAOP,KAAKsE,MAAM2e,eAAgBzE,SAAUxe,KAAKkjB,sBAG/MljB,KAAK+Y,MAAMtD,cACToE,IAAA7F,cAAA,KAAG8F,UAAWoB,EAAQzW,OACjBzE,KAAK+Y,MAAMtD,eAEhB,KAEJoE,IAAA7F,cAACuH,KAAI,CAACzB,UAAWoB,EAAQ1C,OAAQgD,WAAS,EAAChF,QAAS,EAAGiF,UAAU,OAC7D5B,IAAA7F,cAACuH,KAAI,CAACM,MAAI,GACNhC,IAAA7F,cAACgJ,GAAW,CAAC9Y,QAASlE,KAAK+Y,MAAM3D,YAAaqC,MAAM,UAAUyE,QAAQ,YAAYzB,QAASza,KAAK2iB,eAAgBzF,SAAiC,iBAAvBld,KAAK+Y,MAAMsD,UAA6B,mBAMrLqG,EAhFY,CAAS3I,aAoHXY,iBAhCS,SAACrW,GACrB,IAAI8X,EAAO,GACX,IAAK9X,EAAM3E,KAAK0D,KACZ,MAAO,CACHiZ,UAAW,KACXD,SAAU,MAIlB,IAAItY,EAAQO,EAAM3E,KAAK0D,KAAY,MASnC,OARIU,EAAM8N,SAAS+I,GAAUE,WACzBsB,EAAO,WAGPrY,EAAM8N,SAAS+I,GAAUC,SACzBuB,EAAO,iBAGJ,CACHhH,YAAa9Q,EAAMtD,YAAYoU,YAC/BK,cAAenR,EAAMtD,YAAYyU,cACjC4G,SAAUD,MAIS,SAAC9Y,GACxB,MAAO,CACHkQ,UAAW,SAACtC,GAAI,OAAK5N,EAAS+R,GAA4BnE,KAC1DgD,SAAU,SAACnT,GAAc,OAAKuC,EAAS+R,GAA2BtU,QAI3D4Z,CAA6C6B,cA3H7C,SAACzB,GAAK,OAAAvW,wBAAA,GACduW,EAAMhD,OAAK,IACdC,KAAM,CACFC,QAAS,OAwH2CuE,CAAmBkG,KClGzEqB,GAAc,SAAApL,GAAAC,aAAAmL,EAAApL,GAAA,IAAAE,EAAAC,aAAAiL,GAEhB,SAAAA,EAAYhL,GAAQ,IAAD/W,EAMd,OANcpC,YAAA,KAAAmkB,IACf/hB,EAAA6W,EAAAnQ,KAAA,KAAMqQ,IAYViL,uBAAyB,SAAC9K,GAET,kBADAA,EAAM4E,OAAdnZ,KAED3C,EAAKoX,SAAQ5U,wBAAC,GACPxC,EAAKsC,OAAK,GAAA8e,aAAA,GACZlK,EAAM4E,OAAOnZ,KAAOuU,EAAM4E,OAAOvd,SAGtCyB,EAAKoX,SAAQ5U,wBAAC,GACPxC,EAAKsC,OAAK,GAAA8e,aAAA,GACZlK,EAAM4E,OAAOnZ,KAAOuU,EAAM4E,OAAOmG,YAI7CjiB,EAEDkiB,WAAa,WACT,IAAIpjB,EAAW,CACXuE,oBAAsD,OAAjCrD,EAAKsC,MAAM6f,kBAA6BniB,EAAKsC,MAAM6f,kBAAoBniB,EAAK+W,MAAM1T,oBACvGD,iBAAmD,OAAjCpD,EAAKsC,MAAM8f,kBAA6BpiB,EAAKsC,MAAM8f,kBAAoBpiB,EAAK+W,MAAM3T,iBACpGqO,cAA4C,KAA7BzR,EAAKsC,MAAMmP,cAAuBzR,EAAK+W,MAAMtF,cAAgBzR,EAAKsC,MAAMmP,cACvFC,sBAAuB1R,EAAK+W,MAAMrF,uBAEtC1R,EAAK+W,MAAMpE,KAAK7T,GAChBkB,EAAK+W,MAAMvF,WAAU,IAnCrBxR,EAAKsC,MAAQ,CACTmP,cAAe,GACf0Q,kBAAmB,KACnBC,kBAAmB,MACtBpiB,EAqGJ,OApGAtC,YAAAqkB,EAAA,EAAAzjB,IAAA,oBAAAC,MAED,WACIP,KAAK+Y,MAAMsL,UACd,CAAA/jB,IAAA,SAAAC,MA6BD,WAAU,IAAD0d,EAAA,KAED/C,EAAUlb,KAAK+Y,MAAMmC,QAErBoJ,EAAatkB,KAAKsE,MAAM6f,kBACS,OAAjCnkB,KAAKsE,MAAM6f,oBACXG,EAAatkB,KAAK+Y,MAAM1T,qBAG5B,IAAIkf,EAAUvkB,KAAKsE,MAAM8f,kBAKzB,OAJqC,OAAjCpkB,KAAKsE,MAAM8f,oBACXG,EAAUvkB,KAAK+Y,MAAM3T,kBAIrByU,IAAA7F,cAAA,OAAK8F,UAAWoB,EAAQlD,MACpB6B,IAAA7F,cAAA,MAAI8F,UAAWoB,EAAQhD,OAAO,yBAC9B2B,IAAA7F,cAAA,OAAK8F,UAAWoB,EAAQsJ,UACpB3K,IAAA7F,cAACyQ,KAAgB,CACbC,QACI7K,IAAA7F,cAAC2Q,KAAQ,CACLhgB,KAAK,oBACLqa,GAAG,aACH9B,SAAUld,KAAK+Y,MAAM7U,SAAWlE,KAAK+Y,MAAMhG,OAC3CyL,SAAUxe,KAAKgkB,uBACfC,QAASK,EACT7M,MAAM,YAEd0H,MAAM,mCACVtF,IAAA7F,cAACyQ,KAAgB,CACbC,QACI7K,IAAA7F,cAAC2Q,KAAQ,CACLhgB,KAAK,oBACLqa,GAAG,UACH9B,SAAUld,KAAK+Y,MAAM7U,SAAWlE,KAAK+Y,MAAMhG,OAC3CyL,SAAUxe,KAAKgkB,uBACfC,QAASM,EACT9M,MAAM,YAEd0H,MAAM,iCACVtF,IAAA7F,cAACqK,KAAS,CACN1Z,KAAK,gBACLuY,SAAUld,KAAK+Y,MAAM7U,SAAWlE,KAAK+Y,MAAMhG,OAC3C+G,UAAWoB,EAAQzH,cACnBmR,WAAW,EACXrG,YAAave,KAAK+Y,MAAMtF,cACxB+K,SAAUxe,KAAKgkB,uBACfzjB,MAAOP,KAAKsE,MAAMmP,eAAiBzT,KAAK+Y,MAAMtF,cAC9C0L,MAAO,mBAEXtF,IAAA7F,cAAA,KAAG8F,UAAWoB,EAAQrD,aAAa,8GAGvCgC,IAAA7F,cAACuH,KAAI,CAACC,WAAS,EAAChF,QAAS,EAAGiF,UAAU,OAClC5B,IAAA7F,cAACuH,KAAI,CAACM,MAAI,GACNhC,IAAA7F,cAACmJ,KAAM,CAAC1F,MAAM,YAAYgD,QAAS,WAC/BwD,EAAKlF,MAAMvF,WAAU,KACtB,WAEPqG,IAAA7F,cAACuH,KAAI,CAACM,MAAI,GACNhC,IAAA7F,cAACgJ,GAAW,CAAC9Y,QAASlE,KAAK+Y,MAAMhG,OAAQ0E,MAAM,UAAUyE,QAAQ,YAAYgB,SAAiC,iBAAvBld,KAAK+Y,MAAMsD,SAA6B5B,QAASza,KAAKkkB,YAAY,UAGjKrK,IAAA7F,cAAA,OAAK8F,UAAWoB,EAAQ2J,SACxBhL,IAAA7F,cAAC0O,GAAW,WAGvBqB,EA7Ge,CAAShK,aAgKdY,iBArCS,SAACrW,GACrB,IAAI8X,EAAO,GACX,IAAK9X,EAAM3E,KAAK0D,KACZ,MAAO,CACHiZ,UAAW,KACXD,SAAU,MAIlB,IAAItY,EAAQO,EAAM3E,KAAK0D,KAAY,MASnC,OARIU,EAAM8N,SAAS+I,GAAUE,WACzBsB,EAAO,WAGPrY,EAAM8N,SAAS+I,GAAUC,SACzBuB,EAAO,iBAGJ,CACHlY,QAASI,EAAMwR,eAAe5R,QAC9BuP,cAAenP,EAAMwR,eAAerC,eAAiB,GACrDpO,oBAAqBf,EAAMwR,eAAezQ,oBAC1CD,iBAAkBd,EAAMwR,eAAe1Q,iBACvCsO,sBAAuBpP,EAAMwR,eAAepC,sBAC5CX,OAAQzO,EAAMwR,eAAe/C,OAC7BsJ,SAAUD,MAIS,SAAC9Y,GACxB,MAAO,CACH+gB,MAAO,kBAAM/gB,EAAS4P,OACtBM,UAAW,SAACtC,GAAI,OAAK5N,EAAS4P,GAA+BhC,KAC7DyD,KAAM,SAAC7T,GAAQ,OAAKwC,EAAS4P,GAAkCpS,QAIxD6Z,CAA6C6B,cA5L7C,SAACzB,GAAK,MAAM,CACvB/C,KAAM,CACFC,QAAS,GAEbC,MAAO,CACHJ,SAAU,GACVG,QAAS,EACTE,OAAQ,GAEZC,MAAO,CACHH,QAAS,GACTI,MAAO,KAEXmM,SAAU,CACNjM,UAAW,GACXqG,aAAc,IAElBnL,cAAe,CACX8E,UAAW,IAEfV,YAAakD,EAAMlD,YACnBgN,OAAQ,CACJtM,UAAW,OACXqG,aAAc,OACdkG,aAAc,wCAoKsCtI,CAAmBuH,K,0CC7KzEgB,GAAsB,SAAHlV,GAAiE,IAA5DsP,EAAKtP,EAALsP,MAAO8E,EAAOpU,EAAPoU,QAASzF,EAAQ3O,EAAR2O,SAAU7Z,EAAIkL,EAAJlL,KAAMqa,EAAEnP,EAAFmP,GAAEnP,EAAE4H,MAC9D,OACIoC,IAAA7F,cAACyQ,KAAgB,CACbC,QACI7K,IAAA7F,cAAC2Q,KAAQ,CACLhgB,KAAMA,EACNqa,GAAIA,EACJR,SAAUA,EACVyF,QAASA,EACTxM,MAAM,YAEd0H,MAAOA,KAIb6F,GAAa,SAAArM,GAAAC,aAAAoM,EAAArM,GAAA,IAAAE,EAAAC,aAAAkM,GAEf,SAAAA,EAAYjM,GAAQ,IAAD/W,EAUd,OAVcpC,YAAA,KAAAolB,IACfhjB,EAAA6W,EAAAnQ,KAAA,KAAMqQ,IAYVkM,qBAAuB,SAAC/L,GACpBlX,EAAKoX,SAAQ5U,wBAAC,GACPxC,EAAKsC,OAAK,GAAA8e,aAAA,GACZlK,EAAM4E,OAAOnZ,KAAOuU,EAAM4E,OAAOmG,YAEzCjiB,EAEDkjB,4BAA8B,SAAChM,IAEA,KAAvBA,EAAM4E,OAAOvd,OADN,aACyB4kB,KAAKjM,EAAM4E,OAAOvd,SAClDyB,EAAKoX,SAAQ5U,wBAAC,GACPxC,EAAKsC,OAAK,GAAA8e,aAAA,GACZlK,EAAM4E,OAAOnZ,KAAOuU,EAAM4E,OAAOvd,UAG7CyB,EAEDojB,uBAAyB,SAAClgB,EAAagB,GACnClE,EAAKoX,SAAQ5U,wBAAC,GACPxC,EAAKsC,OAAK,IACb+gB,YAAanf,EACbX,sBAAuBL,MAE9BlD,EAUDkiB,WAAa,WACT,IAAAoB,EAAkHtjB,EAAKsC,MAAlHe,EAAmBigB,EAAnBjgB,oBAAqBD,EAAgBkgB,EAAhBlgB,iBAAkBE,EAAUggB,EAAVhgB,WAAYE,EAAY8f,EAAZ9f,aAAcQ,EAAesf,EAAftf,gBAAiBT,EAAqB+f,EAArB/f,sBASvF,GAPAD,EAA6B,OAAfA,EAAuBA,EAAatD,EAAK+W,MAAM5X,MAAMmE,WACnEC,EAAmD,OAA1BA,EAAkCA,EAAwBvD,EAAK+W,MAAM5X,MAAMoE,sBACpGS,EAAuC,OAApBA,EAA4BA,EAAkBhE,EAAK+W,MAAM5X,MAAMgE,UAClFK,EAAiC,OAAjBA,EAAyBA,EAAexD,EAAK+W,MAAM5X,MAAMqE,aACzEJ,EAAwC,MAApBA,EAA4BA,EAAmBpD,EAAK+W,MAAM5X,MAAMiE,iBACpFC,EAA8C,MAAvBA,EAA+BA,EAAsBrD,EAAK+W,MAAM5X,MAAMkE,oBAEzFC,EAAY,CACZ,IAAIigB,EAAQ,IAAIC,KAAYjgB,GAC5B,IAAKggB,EAAME,UAKP,YAJAzjB,EAAKoX,SAAQ5U,wBAAC,GACPxC,EAAKsC,OAAK,IACbohB,gBAAiB,0CAIzBngB,EAAwBggB,EAAMI,iBAE9BpgB,EAAwB,GAG5BvD,EAAK+W,MAAMrI,YACP1O,EAAK+W,MAAM5X,MAAM0D,OACjBmB,EACAT,EACAD,EACAE,EACAJ,EACAC,IA3EJrD,EAAKsC,MAAQ,CACTe,oBAAqB,KACrBD,iBAAkB,KAClBE,WAAY,KACZE,aAAc,KACdQ,gBAAiB,KACjBT,sBAAuB,KACvBmgB,gBAAiB,MACpB1jB,EAwKJ,OAvKAtC,YAAAslB,EAAA,EAAA1kB,IAAA,kBAAAC,MA2BD,SAAgBD,EAAKslB,GACjB,IAAI/kB,EAASb,KAAKsE,MAAMhE,GAIxB,OAHe,OAAXO,IACAA,EAAS+kB,GAEN/kB,IACV,CAAAP,IAAA,SAAAC,MAqCD,WAAU,IAAD0d,EAAA,KACD/C,EAAUlb,KAAK+Y,MAAMmC,QAErBoJ,EAAatkB,KAAK6lB,gBAAgB,sBAAuB7lB,KAAK+Y,MAAM5X,MAAMkE,qBAC1Ekf,EAAUvkB,KAAK6lB,gBAAgB,mBAAoB7lB,KAAK+Y,MAAM5X,MAAMiE,kBACpEI,EAAexF,KAAK6lB,gBAAgB,eAAgB7lB,KAAK+Y,MAAM5X,MAAMqE,cACrEF,EAAatF,KAAK6lB,gBAAgB,aAAc7lB,KAAK+Y,MAAM5X,MAAMmE,YACjEU,EAAkBhG,KAAK6lB,gBAAgB,kBAAmB7lB,KAAK+Y,MAAM5X,MAAMgE,WAC3EI,EAAwBvF,KAAK6lB,gBAAgB,wBAAyB7lB,KAAK+Y,MAAM5X,MAAMoE,uBAE3F,OACIsU,IAAA7F,cAAA,WACI6F,IAAA7F,cAAA,MAAI8F,UAAWoB,EAAQhD,OAAO,4BAC9B2B,IAAA7F,cAACuH,KAAI,CAACzB,UAAWoB,EAAQiB,SAAUX,WAAS,EAACC,UAAW,UACpD5B,IAAA7F,cAACqP,KAAW,KACRxJ,IAAA7F,cAACsP,KAAU,CAACC,QAAQ,cAAa,QACjC1J,IAAA7F,cAACwP,KAAK,CAACxE,GAAG,aAAayE,kBAAkB,EAAMC,UAAU,EAAMnjB,MAAOP,KAAK+Y,MAAM5X,MAAM4D,UAAY,IAAM/E,KAAK+Y,MAAM5X,MAAM6D,YAE9H6U,IAAA7F,cAACqP,KAAW,KACRxJ,IAAA7F,cAACsP,KAAU,CAACC,QAAQ,cAAa,SACjC1J,IAAA7F,cAACwP,KAAK,CAACxE,GAAG,cAAcyE,kBAAkB,EAAMC,UAAU,EAAMnjB,MAAOP,KAAK+Y,MAAM5X,MAAM2C,MAAQ9D,KAAK+Y,MAAM5X,MAAM2C,MAAQ9D,KAAK+Y,MAAM5X,MAAM2D,YAE9I+U,IAAA7F,cAACqP,KAAW,KACRxJ,IAAA7F,cAACsP,KAAU,CAACC,QAAQ,cAAa,cACjC1J,IAAA7F,cAACwP,KAAK,CAACxE,GAAG,aAAayE,kBAAkB,EAAMC,UAAU,EAAMnjB,MAAOP,KAAK+Y,MAAM5X,MAAM8D,aAE3D,eAA/BjF,KAAK+Y,MAAM5X,MAAM8D,UACd4U,IAAA7F,cAACqP,KAAW,KACRxJ,IAAA7F,cAACsP,KAAU,CAACC,QAAQ,gBAAe,gBACnC1J,IAAA7F,cAACwP,KAAK,CAACxE,GAAG,eAAeyE,kBAAkB,EAAMC,UAAU,EAAMnjB,MAAOP,KAAK+Y,MAAM5X,MAAM+D,eAC5E,MAGzB2U,IAAA7F,cAAA,WACI6F,IAAA7F,cAACuH,KAAI,CAACzB,UAAWoB,EAAQ1C,OAAQgD,WAAS,EAACC,UAAU,MAAMC,QAAQ,cAC/D7B,IAAA7F,cAACuH,KAAI,CAACM,MAAI,GACNhC,IAAA7F,cAAC+Q,GAAmB,CAAC5F,MAAM,aAAaxa,KAAK,sBAAsBqa,GAAG,aACjDR,SAAUxe,KAAKilB,qBAAsBhB,QAASK,KAEvEzK,IAAA7F,cAACuH,KAAI,CAACM,MAAI,GACNhC,IAAA7F,cAAC+Q,GAAmB,CAAC5F,MAAM,UAAUxa,KAAK,mBAAmBqa,GAAG,UAC3CR,SAAUxe,KAAKilB,qBAAsBhB,QAASM,MAG3E1K,IAAA7F,cAACqK,KAAS,CACN1Z,KAAK,kBACLgf,WAAY,CAAEmC,UAAW,KACzB5I,SAAUld,KAAK+Y,MAAM7U,SAAWlE,KAAK+Y,MAAMhG,OAC3C+G,UAAWoB,EAAQoD,UACnBsG,WAAW,EACXpG,SAAUxe,KAAKklB,4BACf3kB,MAAOyF,GAAmB,GAC1BmZ,MAAO,cACXtF,IAAA7F,cAAA,SAAG,oBACH6F,IAAA7F,cAACuH,KAAI,CAACC,WAAS,EAACC,UAAU,SAASC,QAAQ,cACvC7B,IAAA7F,cAACuH,KAAI,CAACM,MAAI,GACNhC,IAAA7F,cAAC+Q,GAAmB,CAAC5F,MAAM,QAAQxa,KAAK,eAAeqa,GAAG,eACrCR,SAAUxe,KAAKilB,qBAAsBhB,QAASze,KAEvEqU,IAAA7F,cAACuH,KAAI,CAACM,MAAI,GACNhC,IAAA7F,cAAC+Q,GAAmB,CAAC5F,MAAM,MAAMxa,KAAK,aAAaqa,GAAG,aACjCR,SAAUxe,KAAKilB,qBAAsBhB,QAAS3e,MAG1EA,EACGuU,IAAA7F,cAAC+R,KAAa,CACVxH,YAAY,uBACZC,SAAUxe,KAAKolB,uBACfY,eAAgB,KAChBC,kBAAkB,EAClBC,cAAelmB,KAAK+Y,MAAMrF,sBAC1ByS,qBAAqB,EACrBC,YAAY,EACZ7lB,MAAOgF,GAAyB,KAC/B,MAGbsU,IAAA7F,cAAA,UACEhU,KAAK+Y,MAAMsN,kBAAoBrmB,KAAKsE,MAAMohB,gBACxC7L,IAAA7F,cAAA,KAAG8F,UAAWoB,EAAQzW,OACjBzE,KAAK+Y,MAAMsN,kBAAoBrmB,KAAKsE,MAAMohB,iBAE/C,KAEJ7L,IAAA7F,cAACuH,KAAI,CAACC,WAAS,EAAChF,QAAS,EAAGiF,UAAU,OAClC5B,IAAA7F,cAACuH,KAAI,CAACM,MAAI,GACNhC,IAAA7F,cAACmJ,KAAM,CAAC1F,MAAM,YAAYgD,QAAS,WAC/BwD,EAAKlF,MAAMyG,WAAU,KACtB,WAEP3F,IAAA7F,cAACuH,KAAI,CAACM,MAAI,GACNhC,IAAA7F,cAACgJ,GAAW,CAAC9Y,QAASlE,KAAK+Y,MAAMuN,sBAAuB7O,MAAM,UAAUyE,QAAQ,YACnEzB,QAASza,KAAKkkB,YAAY,eAK1Dc,EApLc,CAASjL,aAsNbY,iBA3BS,SAACrW,GAErB,MAAO,CACHnD,MAFUmD,EAAMgK,OAAfnN,MAGDuS,sBAAuBpP,EAAMwR,eAAepC,sBAC5C2S,iBAAkB/hB,EAAMgK,OAAOmD,YAC/B6U,sBAAuBhiB,EAAMgK,OAAOkD,qBAIjB,SAAClO,GACxB,MAAO,CACHkc,UAAW,SAACtO,EAAM/P,GAAK,OAAKmC,EAAS+M,GAAuBa,EAAM/P,KAClEuP,YAAa,SACTzP,EACA+E,EACAT,EACAD,EACAE,EACAJ,EACAC,GAAmB,OAAK/B,EAAS+M,GACjCpP,EAAS+E,EAAiBT,EAAuBD,EAAYE,EAC7DJ,EAAkBC,QAKfsV,CAA6C6B,cAhP7C,SAACzB,GAAK,OAAAvW,wBAAA,GACduW,EAAMhD,OAAK,IACdoE,SAAU,CACN5D,UAAW,IAEfH,MAAO,CACHH,QAAS,GACTI,MAAO,SAyO6CmE,CAAmBwI,KCxOhEuB,GAjBG,SAAA5N,GAAAC,aAAA2N,EAAA5N,GAAA,IAAAE,EAAAC,aAAAyN,GAEd,SAAAA,EAAYxN,GAAQ,IAAD/W,EAEA,OAFApC,YAAA,KAAA2mB,IACfvkB,EAAA6W,EAAAnQ,KAAA,KAAMqQ,IACDzU,MAAQ,GAAEtC,EAUlB,OATAtC,YAAA6mB,EAAA,EAAAjmB,IAAA,SAAAC,MAED,WACI,OACIsZ,IAAA7F,cAAA,WACI6F,IAAA7F,cAACgH,GAAa,MACdnB,IAAA7F,cAAA,SAAG,gIAGduS,EAda,CAASxM,aCgCrByM,GAAM,SAAA7N,GAAAC,aAAA4N,EAAA7N,GAAA,IAAAE,EAAAC,aAAA0N,GAER,SAAAA,EAAYzN,GAAQ,IAAD/W,EAEA,OAFApC,YAAA,KAAA4mB,IACfxkB,EAAA6W,EAAAnQ,KAAA,KAAMqQ,IACDzU,MAAQ,GAAEtC,EAiElB,OAhEAtC,YAAA8mB,EAAA,EAAAlmB,IAAA,SAAAC,MAED,WAAU,IAAD0d,EAAA,KACD/C,EAAUlb,KAAK+Y,MAAMmC,QACzB,MAAwB,KAApBlb,KAAK+Y,MAAMqD,KAEPvC,IAAA7F,cAAA,WACI6F,IAAA7F,cAACgH,GAAa,MACdnB,IAAA7F,cAAA,SAAG,wIAMX6F,IAAA7F,cAAA,WACI6F,IAAA7F,cAACgH,GAAa,MACdnB,IAAA7F,cAACqL,GAAW,CAACvF,UAAWoB,EAAQuL,cAChC5M,IAAA7F,cAACsM,KAAM,CACHoG,OAAO,QACPC,kBAAkB,EAClBpG,KAAMvgB,KAAK+Y,MAAMuB,wBACjBsM,sBAAoB,EACpBC,kBAAmBC,KACnBtG,QAAS,WACLvC,EAAKlF,MAAMgO,cAAa,KAE5BlN,IAAA7F,cAACgT,KAAI,CAACC,GAAIjnB,KAAK+Y,MAAMuB,yBACjBT,IAAA7F,cAAC4M,KAAa,KACV/G,IAAA7F,cAAC+P,GAAc,SAI3BlK,IAAA7F,cAACsM,KAAM,CACHoG,OAAO,QACPC,kBAAkB,EAClBpG,KAAMvgB,KAAK+Y,MAAMvJ,kBACjBoX,sBAAoB,EACpBC,kBAAmBC,KACnBtG,QAAS,WACLvC,EAAKlF,MAAM0G,gBAAe,KAE9B5F,IAAA7F,cAACgT,KAAI,CAACC,GAAIjnB,KAAK+Y,MAAMvJ,mBACjBqK,IAAA7F,cAAC4M,KAAa,KACV/G,IAAA7F,cAACgR,GAAa,SAI1BnL,IAAA7F,cAACsM,KAAM,CACHoG,OAAO,QACPC,kBAAkB,EAClBpG,KAAMvgB,KAAK+Y,MAAMmO,qBACjBN,sBAAoB,EACpBC,kBAAmBC,KACnBtG,QAAS,WACLvC,EAAKlF,MAAMoO,iBAAgB,KAE/BtN,IAAA7F,cAACgT,KAAI,CAACC,GAAIjnB,KAAK+Y,MAAMmO,sBACjBrN,IAAA7F,cAAC4M,KAAa,KACV/G,IAAA7F,cAAC0O,GAAW,cAMnC8D,EArEO,CAASzM,aAoHNY,iBAvCS,SAACrW,GACrB,IAAI8X,EAAO,GACX,GAAI9X,EAAM3E,KAAK0D,KAAM,CAEjB,IAAIU,EAAQO,EAAM3E,KAAK0D,KAAY,MAC/BU,GAASA,EAAM8N,SAAS+I,GAAUE,WAClCsB,EAAO,WAGPrY,GAASA,EAAM8N,SAAS+I,GAAUC,SAClCuB,EAAO,iBAIf,MAAO,CACH9B,wBAAyBhW,EAAMwR,eAAetC,UAC9ClF,OAAQhK,EAAMgK,OAAOA,OACrB8Y,cAAe9iB,EAAMgK,OAAOuC,QAC5BwW,gBAAiB/iB,EAAMgK,OAAOwC,UAC9BtB,kBAAmBlL,EAAMgK,OAAOkB,kBAChCrO,MAAOmD,EAAMgK,OAAOnN,MACpB+lB,qBAAsB5iB,EAAMtD,YAAYwS,UACxC8T,uBAAwBhjB,EAAMtD,YAAYoU,YAC1CgH,KAAMA,MAIa,SAAC9Y,GACxB,MAAO,CACHU,OAAQ,kBAAMV,EAASF,MACvBiL,UAAW,kBAAM/K,EAAS+M,OAC1BsB,WAAY,SAACd,EAASC,GAAS,OAAKxN,EAAS+M,GAAwBQ,EAASC,KAC9EiW,aAAc,SAAC7V,GAAI,OAAK5N,EAAS4P,GAA+BhC,KAChEuO,eAAgB,SAACvO,EAAM/P,GAAK,OAAKmC,EAAS+M,GAAuBa,EAAM/P,KACvEgmB,gBAAiB,SAACjW,GAAI,OAAK5N,EAAS+R,GAA4BnE,KAChEqE,oBAAqB,SAACxU,GAAc,OAAKuC,EAAS+R,GAA2BtU,QAItE4Z,CAA6C6B,cAvI7C,SAACzB,GAAK,MAAM,CACvB0L,YAAa,CACTtO,OAAQ,IAEZJ,MAAO,CACHwP,QAAS,OACT3L,WAAY,SACZ4L,eAAgB,SAChBC,OAAQ,mBAEZC,QAAS,CACLzP,QAAS8C,EAAMvE,QAAQ,EAAG,EAAG,GAC7B,UAAW,CACPmR,aAAc,eACdC,aAAc,YAyHkCpL,CClJ7C,SAAUqL,EAAmBC,GAAoB,IACtDC,EAAY,SAAAC,GAAApP,aAAAmP,EAAAC,GAAA,IAAAnP,EAAAC,aAAAiP,GACd,SAAAA,EAAYhP,GAAQ,IAAD/W,EAId,OAJcpC,YAAA,KAAAmoB,IACf/lB,EAAA6W,EAAAnQ,KAAA,KAAMqQ,IACDzU,MAAQ,CACT+U,UAAW,WACdrX,EA0BJ,OAzBAtC,YAAAqoB,EAAA,EAAAznB,IAAA,oBAAAC,MAED,WACIP,KAAKioB,sBACR,CAAA3nB,IAAA,qBAAAC,MAED,WACIP,KAAKioB,sBACR,CAAA3nB,IAAA,oBAAAC,MAED,WAAqB,IAAD0d,EAAA,KACa,YAAzBje,KAAKsE,MAAM+U,WACXhY,IAAKqY,2BAA2B9Y,MAAK,SAAAyC,GACjC4a,EAAKlF,MAAMpZ,KAAK0D,GAChB4a,EAAK7E,SAAS,CAACC,UAAW,aAC3BrL,OAAM,SAAA2L,GACLsE,EAAK7E,SAAS,CAACC,UAAW,YAC1B4E,EAAKlF,MAAMmP,gBAGtB,CAAA5nB,IAAA,SAAAC,MAED,WACI,MAAgC,UAAzBP,KAAKsE,MAAM+U,UACdQ,IAAA7F,cAAC6T,EAAsB7nB,KAAK+Y,OAAYc,IAAA7F,cAAC8T,EAAsB9nB,KAAK+Y,WAC3EgP,EA/Ba,CAASlO,IAAME,WA+CjC,OAAOY,cAbiB,SAACrW,GACrB,MAAO,CACH3E,KAAM2E,EAAM3E,SAIO,SAAC2D,GACxB,MAAO,CACH4kB,SAAU,kBAAM5kB,GAAS,WAAO6V,GAAQ3N,KAAK,cAC7C7L,KAAM,SAAC0D,GAAI,OAAKC,EAASF,EAAgBC,QAI1CsX,CAGLoN,GD+FyEI,CAAa3B,GAAQD,ME3IrF6B,GAbA,SAACrN,GAAK,MAAM,CACvB,UAAW,CACPhZ,KAAIyC,wBAAA,GACGuW,EAAMtE,WAAW4R,OAAK,IACzBlQ,OAAQ,IAEZmQ,GAAI,CACA7Q,MAAOsD,EAAMlE,QAAQV,QAAQW,KAC7BgG,WAAY,aCOxByL,IAAQC,UAAU,CACdnnB,KAAM,CACFonB,OAAQroB,2RAAYsoB,iBACpBC,WAAYvoB,aACZwoB,oBAAqBxoB,kBACrByoB,MAAO,CACHC,OAAQ1oB,eACR2oB,MAAO,CAAC,UAAW,UACnBC,eAAgB5oB,cAChB6oB,gBAAiB7oB,cACjB8oB,aAAc,WAGvB,IAEGC,GAAG,SAAAxQ,GAAAC,aAAAuQ,EAAAxQ,GAAA,IAAAE,EAAAC,aAAAqQ,GAAA,SAAAA,IAAA,OAAAvpB,YAAA,KAAAupB,GAAAtQ,EAAA5J,MAAA,KAAAhN,WAYJ,OAZIvC,YAAAypB,EAAA,EAAA7oB,IAAA,SAAAC,MACL,WACI,OACIsZ,IAAA7F,cAACoV,KAAM,CAACjQ,QAASA,IACbU,IAAA7F,cAACqV,KAAM,KACHxP,IAAA7F,cAACsV,KAAK,CAACC,OAAK,EAACC,KAAK,SAASC,UAAW/Q,KACtCmB,IAAA7F,cAACsV,KAAK,CAACE,KAAK,UAAUC,UAAWC,KACjC7P,IAAA7F,cAACsV,KAAK,CAACC,OAAK,EAACC,KAAK,IAAIC,UAAW/Q,KACjCmB,IAAA7F,cAAC2V,KAAQ,CAACC,KAAK,KAAKL,OAAK,EAACM,GAAG,kBAI5CV,EAZI,CAASpP,aAeHyC,gBAAWsN,GAAXtN,CAAyB2M,ICjCpBY,QACW,cAA7BC,OAAOzQ,SAAS0Q,UAEe,UAA7BD,OAAOzQ,SAAS0Q,UAEhBD,OAAOzQ,SAAS0Q,SAASC,MACvB,2DCAN,IAAMC,GAAsC,qBAAXH,QAA0BA,OAAOI,sCAAyCC,IAIrGC,GAAQC,YAAY7U,GAAayU,GAAiBK,YAAgBC,QAGxEC,IAASC,OACP9Q,IAAA7F,cAAC4W,KAAQ,CAACN,MAAOA,IACfzQ,IAAA7F,cAACmH,KAAgB,CAACJ,MAAOzE,IACvBuD,IAAA7F,cAACmV,GAAG,QAGRpV,SAAS8W,eAAe,SDkGpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMpqB,MAAK,SAAAqqB,GACjCA,EAAaC,iB","file":"static/js/main.8c35a8e2.chunk.js","sourcesContent":["/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport {AuthInterface} from \"../interface/auth.interface\";\n\nclass AuthDto {\n\n    idToken: string;\n    accessToken: string;\n    refreshToken: string;\n\n    constructor(auth: AuthInterface) {\n        this.idToken = auth.idToken;\n        this.accessToken = auth.accessToken;\n        this.refreshToken = auth.refreshToken;\n    }\n\n}\n\nexport default AuthDto","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport rp from 'request-promise';\nimport { Auth } from 'aws-amplify';\nimport { AuthInterface } from \"../interface/auth.interface\";\nimport { GlobalSettingsInterface } from \"../interface/global-settings.interface\";\nimport { AgentInterface, BasicAgentInterface } from \"../interface/agent.interface\";\nimport AgentRequestDto from \"../dto/agent-request.dto\";\nimport ContactFlowDto from \"../dto/contact-flow.dto\";\nimport AuthDto from \"../dto/auth.dto\";\nimport { PageInterface } from \"../interface/page.interface\";\n\nconst HttpMethod = {\n  POST: \"POST\",\n  GET: \"GET\",\n  PATCH: \"PATCH\"\n};\n\nclass ApiService {\n\n  baseUrl = process.env.REACT_APP_BASE_API;\n  apiKey = process.env.REACT_APP_API_KEY;\n\n  getAgents(next: string | null): Promise<PageInterface<BasicAgentInterface>> {\n    return this.request(HttpMethod.GET, `${this.baseUrl}/agents`, {\n      next\n    }, this.getAuth());\n  }\n\n  getGlobalSettings() {\n    return this.request(HttpMethod.GET, `${this.baseUrl}/global/settings`, null, this.getAuth())\n      .then(result => result.settings);\n  }\n\n  getContactFlow(contactFlowDto: ContactFlowDto) {\n    return this.request(HttpMethod.POST, `${this.baseUrl}/contact/flow`, contactFlowDto, this.getAuth())\n      .then(result => result.contactFlow)\n  }\n\n  syncAgent() {\n    return this.request(HttpMethod.POST, `${this.baseUrl}/agents/sync`, null, this.getAuth());\n  }\n\n  updateAgentSettings(agentId: string, agentRequest: AgentRequestDto) {\n    return this.request(HttpMethod.POST, `${this.baseUrl}/agents/${agentId}`, agentRequest, this.getAuth())\n      .then(result => result.agent)\n  }\n\n  getAgent(agentId: string): Promise<AgentInterface> {\n    return this.request(HttpMethod.GET, `${this.baseUrl}/agents/${agentId}`, null, this.getAuth())\n  }\n\n  saveGlobalSettings(settings: GlobalSettingsInterface) {\n    return this.request(HttpMethod.POST, `${this.baseUrl}/global/settings`, settings, this.getAuth())\n      .then(result => result.settings);\n  }\n\n  _getHeader(auth: AuthInterface | null): object {\n    let header: any = {\n      'x-api-key': this.apiKey\n    };\n    if (auth) {\n      header['Authorization'] = `Bearer ${auth.idToken}`;\n    }\n    // console.log(\"The header\", header);\n    return header\n  }\n\n  getAuth(): Promise<AuthInterface | null> {\n    return Auth.currentSession()\n      .then(session => new AuthDto({\n        idToken: session.getIdToken().getJwtToken(),\n        accessToken: session.getAccessToken().getJwtToken(),\n        refreshToken: session.getRefreshToken().getToken()\n      }));\n  }\n\n  request(method: string, uri: string, body: object | null, auth: Promise<AuthInterface | null> = Promise.resolve(null)): Promise<any> {\n\n    if (method === HttpMethod.POST) {\n      return auth.then(auth => this._post(uri, body, auth));\n    } else if (method === HttpMethod.GET) {\n      return auth.then(auth => this._get(uri, body, auth));\n    } else if (method === HttpMethod.PATCH) {\n      return auth.then(auth => this._patch(uri, body, auth));\n    } else {\n      return Promise.resolve();\n    }\n  }\n\n  _post(uri: string, body: object | null = {}, auth: AuthInterface | null = null) {\n    let options = { method: HttpMethod.POST, uri, body, headers: this._getHeader(auth), json: true };\n    return rp(options)\n  }\n\n  _get(uri: string, qs: object | null, auth: AuthInterface | null = null) {\n    let options = { method: HttpMethod.GET, uri, qs, headers: this._getHeader(auth), json: true };\n    return rp(options)\n  }\n\n  _patch(uri: string, body: object | null = {}, auth: AuthInterface | null = null) {\n    let options = { method: HttpMethod.PATCH, uri, body, headers: this._getHeader(auth), json: true };\n    return rp(options)\n  }\n\n}\n\nexport { ApiService };\n","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport {ApiService} from \"../../service/api.service\";\nimport history from \"../../history\";\nimport AuthService from \"../../service/auth.service\";\nimport {Dispatch} from \"redux\";\nimport {UserInterface} from \"../../interface/user.interface\";\nimport {CognitoUser} from \"amazon-cognito-identity-js\";\n\nconst apiService = new ApiService();\nconst authService = new AuthService(apiService);\n\nconst AuthActionKey = {\n    LOGIN_PENDING: \"LOGIN_PENDING\",\n    LOGIN: \"LOGIN\",\n    LOGOUT: \"LOGOUT\",\n    LOGIN_ERROR: \"LOGIN_ERROR\"\n};\n\nconst loginResults = (authenticated: boolean, user: UserInterface) => {\n    return {\n        type: AuthActionKey.LOGIN,\n        value: {\n            isAuthenticated: authenticated,\n            user\n        }\n    }\n};\n\nconst loginErrorResults = (error: any) => {\n    return {\n        type: AuthActionKey.LOGIN_ERROR,\n        value: {\n            error\n        }\n    }\n};\n\nconst logoutResults = () => {\n    return {\n        type: AuthActionKey.LOGOUT\n    }\n};\n\nconst AuthAction = {\n    auth: (user: CognitoUser) => {\n        return (dispatch: Dispatch) => {\n            let payload = user.getSignInUserSession()!.getIdToken().decodePayload();\n            dispatch(loginResults(true, {\n                email: payload['email'],\n                roles: payload['cognito:groups']\n            }));\n        };\n    },\n    logout: () => {\n        return (dispatch: Dispatch) => {\n            authService.logout();\n            // dispatch(logoutResults());\n            // dispatch(loginErrorResults(null));\n            // history.push('/login');\n        }\n    }\n};\n\nexport {AuthActionKey, AuthAction}","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport {ApiService} from \"./api.service\";\nimport AuthDto from \"../dto/auth.dto\";\nimport {Auth} from 'aws-amplify';\n\nclass AuthService {\n\n    private apiService: ApiService;\n\n    constructor(apiService: ApiService) {\n        this.apiService = apiService;\n    }\n\n    logout() {\n        Auth.signOut();\n    }\n\n}\n\nexport default AuthService;","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport {AuthActionKey} from \"../actions/auth.actions\";\nimport {Reducer} from \"redux\";\n\nconst initialState = {\n    loading: false,\n    loginError: null,\n    isAuthenticated: false,\n\n    // indicate if change password is requested by cognito.\n    changePassword: false,\n    user: {\n        email: \"\",\n        roles: []\n    }\n};\n\nconst reducer: Reducer = (state = initialState, action: any): object => {\n    switch (action.type) {\n        case AuthActionKey.LOGIN_PENDING:\n            return {\n                ...state,\n                loading: action.value\n            };\n        case AuthActionKey.LOGIN_ERROR:\n            let changePassword = state.changePassword || false;\n            let result = action.value.error;\n\n            // once the changePassword is set, we keep it on until the user is successful...\n            if (!changePassword && result) {\n                changePassword = result.error._error.name === \"NewPasswordRequired\";\n            }\n\n            return {\n                ...state,\n                changePassword: changePassword,\n                loginError: result\n            };\n        case AuthActionKey.LOGIN:\n            return {\n                ...state,\n                isAuthenticated: true,\n                changePassword: false,\n                user: action.value.user\n            };\n        case AuthActionKey.LOGOUT:\n            return {\n                ...state,\n                changePassword: false,\n                isAuthenticated: false,\n                user: null\n            };\n        default: {\n            return state;\n        }\n    }\n};\n\nexport default reducer;","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport {AgentInterface, BasicAgentInterface} from \"../interface/agent.interface\";\n\nclass AgentDto {\n    constructor(\n        public userId: string,\n        public username: string,\n        public firstName: string,\n        public lastName: string,\n        public email: string,\n        public phoneType: string,\n        public phoneNumber: string,\n        public extension: string,\n        public encryptVoicemail: boolean,\n        public transcribeVoicemail: boolean,\n        public deliverSMS: boolean,\n        public deliverSMSPhoneNumber: boolean,\n        public deliverEmail: boolean\n    ) {\n    }\n\n    static fromAgent(agent: AgentInterface): AgentDto {\n        return new this(\n            agent.userId,\n            agent.connectUser.username,\n            agent.connectUser.firstName,\n            agent.connectUser.lastName,\n            agent.connectUser.email,\n            AgentDto.phoneTypeToDisplayString(agent.connectUser.phoneType),\n            agent.connectUser.deskPhoneNumber,\n            agent.agent.extension,\n            agent.agent.encryptVoicemail || false,\n            agent.agent.transcribeVoicemail || false,\n            agent.agent.deliveryOptions.sms.enabled || false,\n            agent.agent.deliveryOptions.sms.phoneNumber,\n            agent.agent.deliveryOptions.email || false\n        );\n    }\n\n    static fromBasicAgent(agent: BasicAgentInterface): AgentDto {\n        const sms = (agent.deliveryOptions || {}).sms || {};\n        const deliveryOptions = agent.deliveryOptions || {};\n\n        return new this(\n            agent.userId,\n            agent.username,\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            agent.extension,\n            agent.encryptVoicemail || false,\n            agent.transcribeVoicemail || false,\n            sms.enabled || false,\n            sms.phoneNumber,\n            deliveryOptions.email || false\n        );\n\n    }\n\n    static phoneTypeToDisplayString(type: string): string {\n        switch (type) {\n            case \"SOFT_PHONE\":\n                return \"Soft Phone\";\n            case \"DESK_PHONE\":\n                return \"Desk Phone\";\n            default:\n                return \"\";\n        }\n    }\n\n}\n\nexport default AgentDto;","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nclass AgentRequestDto {\n\n    extension: string | null;\n    deliverSMSPhoneNumber: string | null;\n    deliverSMS: boolean;\n    deliverEmail: boolean;\n    encryptVoicemail: boolean;\n    transcribeVoicemail: boolean;\n\n    constructor(\n        extensionNumber: string,\n        deliverSMSPhoneNumber: string,\n        deliverSMS: boolean,\n        deliverEmail: boolean,\n        encryptVoicemail: boolean,\n        transcribeVoicemail: boolean\n    ) {\n        this.extension = extensionNumber || \"\";\n        this.deliverSMSPhoneNumber = deliverSMSPhoneNumber || \"\";\n        this.deliverSMS = deliverSMS || false;\n        this.deliverEmail = deliverEmail || false;\n        this.encryptVoicemail = encryptVoicemail || false;\n        this.transcribeVoicemail = transcribeVoicemail || false;\n    }\n\n}\n\nexport default AgentRequestDto;","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nexport class PaginationDto<T> {\n    constructor(\n        public data: T[],\n        public next: string | null,\n        public current: string | null\n    ) {}\n}","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport {ApiService} from \"./api.service\";\nimport AgentDto from \"../dto/agent.dto\";\nimport AgentRequestDto from \"../dto/agent-request.dto\";\nimport {PaginationDto} from \"../dto/pagination.dto\";\n\nclass AgentsService {\n\n    apiService: ApiService;\n\n    constructor(apiService: ApiService) {\n        this.apiService = apiService;\n    }\n\n    getAgents(next : string | null): Promise<PaginationDto<AgentDto>> {\n        return this.apiService.getAgents(next)\n            .then(agents => new PaginationDto<AgentDto>(\n                agents.data.map(agent => AgentDto.fromBasicAgent(agent)),\n                agents.next,\n                next));\n    }\n\n    /**\n     *\n     * @param agentId\n     * @param extensionNumber\n     * @param deliverSMSPhoneNumber\n     * @param deliverSMS\n     * @param deliverEmail\n     * @param encryptVoicemail\n     * @param transcribeVoicemail\n     * @returns {Promise<AgentDto>}\n     */\n    updateAgent(\n        agentId: string,\n        extensionNumber: string,\n        deliverSMSPhoneNumber: string,\n        deliverSMS: boolean,\n        deliverEmail: boolean,\n        encryptVoicemail: boolean,\n        transcribeVoicemail: boolean\n    ): Promise<AgentDto> {\n        let agentRequest = new AgentRequestDto(\n            extensionNumber,\n            deliverSMSPhoneNumber,\n            deliverSMS,\n            deliverEmail,\n            encryptVoicemail,\n            transcribeVoicemail\n        );\n        return this.apiService.updateAgentSettings(agentId, agentRequest)\n            .then(agent => AgentDto.fromAgent(agent))\n    }\n\n    getAgent(agentId: string): Promise<AgentDto> {\n        return this.apiService.getAgent(agentId)\n            .then(agent => AgentDto.fromAgent(agent))\n    }\n\n    async syncAgent() {\n        return this.apiService.syncAgent();\n    }\n}\n\nexport default AgentsService;","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport AgentsService from \"../../service/agents.service\";\nimport { ApiService } from \"../../service/api.service\";\nimport { Dispatch } from \"redux\";\nimport AgentDto from \"../../dto/agent.dto\";\nimport { PaginationDto } from \"../../dto/pagination.dto\";\n\nconst agentsService = new AgentsService(new ApiService());\n\nconst AgentsActionKey = {\n  AGENTS_LOADING: \"LOADING\",\n  GET_AGENTS: \"GET_AGENTS\",\n  SORT_AGENTS: \"SORT_AGENTS\",\n  FILTER_AGENTS: \"FILTER_AGENTS\",\n  SHOW_AGENT: \"SHOW_AGENT\",\n  UPDATE_IN_PROGRESS: \"UPDATE_IN_PROGRESS\",\n  UPDATE_AGENT: \"UPDATE_AGENT\",\n  UPDATE_AGENT_ERROR: \"UPDATE_AGENT_ERROR\"\n};\n\nconst AgentsSortKey = {\n  FIRST_NAME: \"firstName\",\n  LAST_NAME: \"lastName\",\n  EMAIL: \"email\",\n  PHONE_TYPE: \"phoneType\",\n  EXTENSION: \"extension\"\n};\n\nconst AgentsSortOrder = {\n  ASC: \"asc\",\n  DESC: \"desc\"\n};\n\nconst loadingResults = (loading: boolean) => {\n  return {\n    type: AgentsActionKey.AGENTS_LOADING,\n    value: loading\n  }\n};\n\nconst getAgentsResults = (agents: PaginationDto<AgentDto>) => {\n  return {\n    type: AgentsActionKey.GET_AGENTS,\n    value: agents\n  }\n};\n\nconst sortAgentsResults = (sortKey: string, sortOrder: string) => {\n  return {\n    type: AgentsActionKey.SORT_AGENTS,\n    value: {\n      sortKey,\n      sortOrder\n    }\n  }\n};\n\nconst filterAgentsResults = (filter: string) => {\n  return {\n    type: AgentsActionKey.FILTER_AGENTS,\n    value: filter\n  }\n};\n\nconst showAgentResults = (showAgentSettings: boolean, agent: AgentDto | null = null) => {\n  return {\n    type: AgentsActionKey.SHOW_AGENT,\n    value: { showAgentSettings, agent }\n  }\n};\n\nconst updatingInProgressResults = (updating: boolean) => {\n  return {\n    type: AgentsActionKey.UPDATE_IN_PROGRESS,\n    value: updating\n  };\n};\n\nconst updateAgentResults = (agent: AgentDto) => {\n  return {\n    type: AgentsActionKey.UPDATE_AGENT,\n    value: { agent }\n  }\n};\n\nconst updateAgentErrorResults = (error: Error | null) => {\n  return {\n    type: AgentsActionKey.UPDATE_AGENT_ERROR,\n    value: error\n  }\n};\n\nconst _getAgents = async (dispatch: Dispatch, next: string | null) => {\n  dispatch(loadingResults(true));\n  try {\n    let agents = await agentsService.getAgents(next);\n    dispatch(getAgentsResults(agents));\n  } catch (err) {\n    // console.log(err);\n  } finally {\n    dispatch(loadingResults(false));\n  }\n};\n\nconst _syncAgent = async (dispatch: Dispatch) => {\n  await agentsService.syncAgent();\n  return _getAgents(dispatch, null);\n};\n\nconst AgentsAction = {\n  syncAgents: () => async (dispatch: Dispatch) => _syncAgent(dispatch),\n  getAgents: (next: string | null) => (dispatch: Dispatch) => _getAgents(dispatch, next),\n  updateAgent: (\n    agentId: string,\n    extensionNumber: string,\n    deliverSMSPhoneNumber: string,\n    deliverSMS: boolean,\n    deliverEmail: boolean,\n    encryptVoicemail: boolean,\n    transcribeVoicemail: boolean\n  ) => {\n    return (dispatch: Dispatch) => {\n      dispatch(updatingInProgressResults(true));\n      dispatch(updateAgentErrorResults(null));\n      agentsService.updateAgent(agentId,\n        extensionNumber, deliverSMSPhoneNumber, deliverSMS,\n        deliverEmail, encryptVoicemail, transcribeVoicemail)\n        .then(agent => {\n          // console.log(\"Agent Updated\"!, agent);\n          dispatch(updateAgentResults(agent));\n          dispatch(showAgentResults(false));\n        })\n        .catch(err => {\n          dispatch(updateAgentErrorResults(err))\n        })\n        .finally(() => {\n          dispatch(updatingInProgressResults(false));\n        })\n    }\n  },\n  sortAgents: (sortKey: string, sortOrder: string) =>\n    (dispatch: Dispatch) =>\n      dispatch(sortAgentsResults(sortKey, sortOrder)),\n  filterAgents: (filter: string) =>\n    (dispatch: Dispatch) =>\n      dispatch(filterAgentsResults(filter)),\n  showAgent: (show: boolean, agent: AgentDto | null) => async (dispatch: Dispatch) => {\n    // console.log(agent);\n\n    if (agent == null) {\n      dispatch(showAgentResults(show, agent));\n      dispatch(updateAgentErrorResults(null));\n    } else {\n      try {\n        let result = await agentsService.getAgent(agent.userId);\n        dispatch(showAgentResults(show, result));\n        dispatch(updateAgentErrorResults(null))\n      } catch (err) {\n        // console.log(err);\n      }\n    }\n  }\n};\n\nexport { AgentsAction, AgentsActionKey, AgentsSortKey, AgentsSortOrder }\n","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport {AgentsActionKey, AgentsSortKey, AgentsSortOrder} from \"../actions/agents.actions\";\nimport {Reducer} from \"redux\";\nimport AgentDto from \"../../dto/agent.dto\";\n\n/**\n * @property {boolean} loading\n * @property {AgentDto[]} agentList\n */\nconst initialState = {\n    loading: false,\n    agentList: [],\n    sortKey: AgentsSortKey.FIRST_NAME,\n    sortOrder: AgentsSortOrder.ASC,\n    filter: \"\",\n    agents: [],\n    showAgentSettings: false,\n    agent: null,\n    updateInProgress: false,\n    updateError: null,\n    page: {\n        next: [],\n        prev: [],\n        current: null\n    }\n};\n\nconst reducer: Reducer = (state = initialState, action: any) => {\n    switch (action.type) {\n        case AgentsActionKey.GET_AGENTS: {\n            let agents = sortAgents(action.value.data, state.sortKey, state.sortOrder);\n            let page = {\n                next: [...state.page.next],\n                current: action.value.current,\n                prev: [...state.page.prev]\n            };\n\n            // shift the pagination by 1 to next/prev.\n            if (page.next.length && page.next[0] === action.value.current) {\n                // user moved forward one\n                page.next.shift();\n                page.prev.push(state.page.current)\n            } else if (state.page.prev.length && state.page.prev[state.page.prev.length - 1] === action.value.current) {\n                page.next.unshift(state.page.current);\n                page.prev.pop();\n            }\n\n            if (action.value.next && !page.next.length) {\n                page.next.push(action.value.next);\n            }\n\n            return {\n                ...state,\n                agentList: agents,\n                agents,\n                page\n            };\n        }\n        case AgentsActionKey.SORT_AGENTS: {\n            return {\n                ...state,\n                sortKey: action.value.sortKey,\n                sortOrder: action.value.sortOrder,\n                agents: sortAgents([...state.agentList], action.value.sortKey, action.value.sortOrder, state.filter),\n            };\n        }\n        case AgentsActionKey.FILTER_AGENTS:\n            return {\n                ...state,\n                filter: action.value,\n                agents: sortAgents([...state.agentList], state.sortKey, state.sortOrder, action.value),\n            };\n        case AgentsActionKey.AGENTS_LOADING:\n            return {\n                ...state,\n                loading: action.value\n            };\n        case AgentsActionKey.SHOW_AGENT:\n            return {\n                ...state,\n                agent: action.value.agent || Object.assign({}, state.agent),\n                showAgentSettings: action.value.showAgentSettings\n            };\n        case AgentsActionKey.UPDATE_AGENT:\n            let agents = [...state.agents];\n            let index = agents.findIndex(agent => agent.userId === action.value.agent.userId);\n            if (index !== undefined) {\n                agents[index] = action.value.agent;\n            }\n            return {\n                ...state,\n                agentList: agents,\n                agents: sortAgents(agents, state.sortKey, state.sortOrder, state.filter)\n            };\n        case AgentsActionKey.UPDATE_IN_PROGRESS:\n            return {\n                ...state,\n                updateInProgress: action.value\n            };\n        case AgentsActionKey.UPDATE_AGENT_ERROR:\n            let errorMessage = null;\n            if (action.value) {\n                errorMessage = action.value.error._error.message;\n            }\n            return {\n                ...state,\n                updateError: errorMessage\n            };\n        default:\n            return state;\n    }\n};\n\nfunction sortAgents(agents: AgentDto[], sortKey: string, sortOrder: string, filter: string = \"\") {\n    return agents\n        .filter(agent => {\n            return ((agent.firstName || \"\").toLowerCase().includes(filter.toLowerCase()) ||\n                (agent.lastName || \"\").toLowerCase().includes(filter.toLowerCase()) ||\n                (agent.username || \"\").toLowerCase().includes(filter.toLowerCase()) ||\n                (agent.email || \"\").toLowerCase().includes(filter.toLowerCase()) ||\n                (agent.extension || \"\").includes(filter.toLowerCase()))\n        }).sort((a, b) => {\n            switch (sortKey) {\n                case AgentsSortKey.FIRST_NAME:\n                    return (sortOrder === AgentsSortOrder.ASC) ?\n                        (a.firstName > b.firstName ? 1 : -1) :\n                        (a.firstName < b.firstName ? 1 : -1);\n                case AgentsSortKey.LAST_NAME:\n                    return (sortOrder === AgentsSortOrder.ASC) ?\n                        (a.lastName > b.lastName ? 1 : -1) :\n                        (a.lastName < b.lastName ? 1 : -1);\n                case AgentsSortKey.EMAIL:\n                    return (sortOrder === AgentsSortOrder.ASC) ?\n                        (a.email > b.email ? 1 : -1) :\n                        (a.email < b.email ? 1 : -1);\n                case AgentsSortKey.EXTENSION:\n                    return (sortOrder === AgentsSortOrder.ASC) ?\n                        (a.extension > b.extension ? 1 : -1) :\n                        (a.extension < b.extension ? 1 : -1);\n                default:\n                    return (sortOrder === AgentsSortOrder.ASC) ?\n                        (a.firstName > b.firstName ? 1 : -1) :\n                        (a.firstName < b.firstName ? 1 : -1);\n            }\n        })\n}\n\nexport default reducer;","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport {GlobalSettingsService} from \"../../service/global-settings.service\";\nimport {ApiService} from \"../../service/api.service\";\nimport {Dispatch} from \"redux\";\nimport {GlobalSettingsInterface} from \"../../interface/global-settings.interface\";\nimport {AgentInterface} from \"../../interface/agent.interface\";\n\nconst globalSettingsService = new GlobalSettingsService(new ApiService());\n\nconst GlobalSettingsActionKey = {\n    SHOW_GLOBAL_SETTINGS_MODAL: \"SHOW_MODAL\",\n    SETTINGS_LOADING: \"LOADING\",\n    SAVE_IN_PROGRESS: \"SAVE_IN_PROGRESS\",\n    SAVE_SETTINGS: \"SAVE_SETTINGS\",\n    FETCH_SETTINGS: \"FETCH_SETTINGS\"\n};\n\nconst showModalResults = (agent: AgentInterface) => {\n    return {\n        type: GlobalSettingsActionKey.SHOW_GLOBAL_SETTINGS_MODAL,\n        value: agent\n    }\n};\n\nconst loadingResults = (loading: boolean) => {\n    return {\n        type: GlobalSettingsActionKey.SETTINGS_LOADING,\n        value: loading\n    }\n};\n\nconst savingResults = (saving: boolean) => {\n    console.log(\"Saving\", saving);\n    return {\n        type: GlobalSettingsActionKey.SAVE_IN_PROGRESS,\n        value: saving\n    }\n};\n\nconst fetchSettingsResult = (settings: GlobalSettingsInterface) => {\n    return {\n        type: GlobalSettingsActionKey.FETCH_SETTINGS,\n        value: {\n            ...settings\n        }\n    }\n};\n\nconst saveSettingsResult = (settings: GlobalSettingsInterface) => {\n    return {\n        type: GlobalSettingsActionKey.SAVE_SETTINGS,\n        value: {\n            ...settings\n        }\n    }\n};\n\nconst GlobalSettingsAction = {\n    showModal: (agent: AgentInterface) => {\n        return (dispatch: Dispatch) => {\n            dispatch(showModalResults(agent))\n        }\n    },\n    fetchSettings: () => {\n        return (dispatch: Dispatch) => {\n            dispatch(loadingResults(true));\n            globalSettingsService.getSettings()\n                .then(settings => {\n                    dispatch(fetchSettingsResult(settings));\n                })\n                .catch(err => {\n                    // TODO: Handle Error\n                    console.log(err);\n                })\n                .finally(() => {\n                    dispatch(loadingResults(false));\n                })\n        }\n    },\n    saveSettings: (settings: GlobalSettingsInterface) => {\n        return (dispatch: Dispatch) => {\n            dispatch(savingResults(true));\n            globalSettingsService.saveSettings(settings)\n                .then(settings => {\n                    dispatch(saveSettingsResult(settings));\n                })\n                .catch(err => {\n                    // TODO: Handle Error\n                    console.log(err);\n                })\n                .finally(() => {\n                    dispatch(savingResults(false));\n                })\n        }\n    }\n};\n\nexport {GlobalSettingsActionKey, GlobalSettingsAction}","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport {ApiService} from \"./api.service\";\nimport {GlobalSettingsInterface} from \"../interface/global-settings.interface\";\n\nclass GlobalSettingsService {\n\n    private apiService: ApiService;\n\n    constructor(apiService: ApiService) {\n        this.apiService = apiService;\n    }\n\n    getSettings() {\n        return this.apiService.getGlobalSettings();\n    }\n\n    saveSettings(settings: GlobalSettingsInterface) {\n        return this.apiService.saveGlobalSettings(settings);\n    }\n\n}\n\nexport {GlobalSettingsService};","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport {GlobalSettingsActionKey} from \"../actions/global-settings.actions\";\nimport {Reducer} from \"redux\";\n\n\nconst initialState = {\n    showModal: false,\n    transcribeVoicemail: false,\n    encryptVoicemail: false,\n    deliveryEmail: \"\",\n    loading: false,\n    saving: false,\n    availableSMSCountries: [\"us\"]\n};\n\nconst reducer: Reducer = (state = initialState, action: any) => {\n    switch (action.type) {\n        case GlobalSettingsActionKey.SHOW_GLOBAL_SETTINGS_MODAL:\n            return {\n                ...state,\n                showModal: action.value\n            };\n        case GlobalSettingsActionKey.FETCH_SETTINGS:\n            return {\n                ...state,\n                ...action.value\n            };\n        case GlobalSettingsActionKey.SETTINGS_LOADING:\n            return {\n                ...state,\n                loading: action.value\n            };\n        case GlobalSettingsActionKey.SAVE_SETTINGS:\n            return {\n                ...state,\n                ...action.value\n            };\n        case GlobalSettingsActionKey.SAVE_IN_PROGRESS:\n            return {\n                ...state,\n                saving: action.value\n            };\n        default: {\n            return state;\n        }\n    }\n};\n\nexport default reducer","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nconst FileSaverType = {\n    JSON: \"application/json\",\n};\n\nclass FileSaverService {\n\n    save(type: string, charset: string = \"utf-8\", data: string, fileName: string) {\n        const a = document.createElement('a');\n        a.href = `data:${type};charset=${charset},${data}`;\n        a.download = fileName;\n        a.click();\n        return a;\n    }\n\n}\n\nexport default FileSaverService;\nexport {FileSaverType}","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport ContactFlowDto from \"../dto/contact-flow.dto\";\nimport { ApiService } from \"./api.service\";\nimport FileSaverService, { FileSaverType } from \"./file-saver.service\";\n\nclass ContactFlowService {\n\n  private apiService: ApiService;\n  private fileSaver: FileSaverService;\n\n  constructor(apiService: ApiService, fileSaver: FileSaverService) {\n    this.apiService = apiService;\n    this.fileSaver = fileSaver;\n  }\n\n  downloadContactFlow(contactFlowDto: ContactFlowDto) {\n    return this.apiService.getContactFlow(contactFlowDto)\n      .then(contactFlow => {\n        return this.handleMultipleFlows(contactFlow);\n      })\n  }\n\n  handleMultipleFlows(flowArr: Array<any>) {\n    this.saveAsJson(flowArr[0].metadata.name, flowArr[0]);\n    this.saveAsJson(flowArr[1].metadata.name, flowArr[1]);\n    return;\n  }\n\n  saveAsJson(fileName: string, contactFlow: object) {\n    return this.fileSaver.save(FileSaverType.JSON, 'utf-8', encodeURI(JSON.stringify(contactFlow)), fileName);\n  }\n}\n\nexport default ContactFlowService;\n","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport ContactFlowService from \"../../service/contact-flow.service\";\nimport { ApiService } from \"../../service/api.service\";\nimport { Dispatch } from \"redux\";\nimport ContactFlowDto from \"../../dto/contact-flow.dto\";\nimport FileSaverService from \"../../service/file-saver.service\";\n\nconst fileSaverService = new FileSaverService();\nconst contactFlowService = new ContactFlowService(new ApiService(), fileSaverService);\n\nconst ContactFlowActionKey = {\n  SHOW_CONTACT_FLOW_MODAL: \"SHOW_CONTACT_FLOW_MODAL\",\n  DOWNLOADING: \"DOWNLOADING\",\n  DOWNLOAD: \"DOWNLOAD\",\n  DOWNLOAD_ERROR: \"DOWNLOAD_ERROR\"\n};\n\nconst downloadErrorResults = (error: Error | null) => {\n  return {\n    type: ContactFlowActionKey.DOWNLOAD_ERROR,\n    value: error\n  }\n};\n\nconst downloadingResults = (downloading: Boolean) => {\n  return {\n    type: ContactFlowActionKey.DOWNLOADING,\n    value: downloading\n  }\n};\n\nconst downloadResult = (contactFlow: any) => {\n  return {\n    type: ContactFlowActionKey.DOWNLOAD,\n    value: { contactFlow }\n  }\n};\n\nconst showModalResults = (show: Boolean) => {\n  return {\n    type: ContactFlowActionKey.SHOW_CONTACT_FLOW_MODAL,\n    value: show\n  }\n};\n\nconst ContactFlowAction = {\n  download: (contactFloDto: ContactFlowDto) => {\n    return (dispatch: Dispatch) => {\n      // console.log(\"The document\", document);\n      dispatch(downloadErrorResults(null));\n      dispatch(downloadingResults(true));\n      contactFlowService.downloadContactFlow(contactFloDto)\n        .then(contactFlow => {\n          dispatch(downloadResult(contactFlow));\n        })\n        .catch(err => {\n          // console.log(\"The error\", err);\n          dispatch(downloadErrorResults(err))\n        })\n        .finally(() => {\n          dispatch(downloadingResults(false));\n        })\n    }\n  },\n  showModal: (show: Boolean) => {\n    return (dispatch: Dispatch) => {\n      dispatch(showModalResults(show));\n    }\n  }\n};\n\nexport { ContactFlowAction, ContactFlowActionKey }\n","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport {ContactFlowActionKey} from \"../actions/contact-flow.actions\";\nimport {Reducer} from \"redux\";\n\nconst initialState = {\n    showModal: false,\n    downloading: false,\n    downloadError: null\n};\n\nconst reducer: Reducer = (state = initialState, action: any) => {\n    switch (action.type) {\n        case ContactFlowActionKey.DOWNLOADING:\n            return {\n                ...state,\n                downloading: action.value\n            };\n        case ContactFlowActionKey.DOWNLOAD_ERROR:\n            let errorMessage = null;\n\n            if (action.value && action.value.error) {\n                errorMessage = action.value.error._error.message;\n            }\n            return {\n                ...state,\n                downloadError: errorMessage\n            };\n        case ContactFlowActionKey.SHOW_CONTACT_FLOW_MODAL:\n            return {\n                ...state,\n                showModal: action.value\n            };\n        default:\n            return state;\n    }\n};\n\nexport default reducer;","import {combineReducers} from \"redux\";\n\nimport authReducer from './reducers/auth.reducer';\nimport agentsReducer from './reducers/agents.reducer';\nimport globalSettingsReducer from './reducers/global-settings.reducer';\nimport contactFlowReducer from './reducers/contact-flow.reducer';\n\nconst rootReducer = combineReducers({\n    auth: authReducer,\n    agents: agentsReducer,\n    globalSettings: globalSettingsReducer,\n    contactFlow: contactFlowReducer\n});\n\nexport default rootReducer;","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nconst themeColors = {\n    mediumGray: \"#757679\",\n    primary: \"#3D4E62\",\n    turquoise: \"#00ABBA\",\n    error: \"#C22402\",\n    navBar: \"#222A33\"\n};\n\nexport default themeColors","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport {createMuiTheme} from \"@material-ui/core\";\nimport themeColors from \"./colors\";\n\nconst materialTheme = new createMuiTheme({\n    spacing: 2,\n    typography: {\n        fontFamily: [\"Roboto\",\"Helvetica\",\"Arial\",\"sans-serif\"].join(\",\"),\n    },\n    colors: {\n        mediumGray: themeColors.mediumGray,\n        error: themeColors.error\n    },\n    palette: {\n        primary: {\n            main: themeColors.primary\n        },\n        secondary: {\n            main: themeColors.turquoise\n        },\n        error: {\n            main: themeColors.error\n        }\n    },\n    boxShadow: {\n        high: \"3px 8px 20px -6px rgba(0,0,0,0.35)\",\n        medium: \"2px 6px 10px -4px rgba(0,0,0,0.35)\",\n        low: \"1px 4px 8px -3px rgba(0,0,0,0.35)\"\n    },\n    overrides: {\n        MuiTableCell: {\n            stickyHeader: {\n                backgroundColor: themeColors.primary\n            },\n            head: {\n                color: \"#FFFFFF\"\n            }\n        },\n        MuiTableSortLabel: {\n            active: {\n                color: \"#FFFFFF !important\"\n            },\n            icon: {\n                color: \"#FFFFFF !important\"\n            }\n        }\n    },\n    infoCaption: {\n        color: \"#757575\",\n        fontSize: 12\n    },\n    modal: {\n        root: {\n            padding: 5\n        },\n        title: {\n            fontSize: 25,\n            padding: 0,\n            margin: 0\n        },\n        paper: {\n            padding: 20,\n            width: 300\n        },\n        inputsContainer: {\n            marginTop: 20\n        },\n        padTop: {\n            marginTop: 20\n        },\n        error: {\n            fontSize: 12,\n            color: themeColors.error\n        }\n    }\n});\n\nexport default materialTheme","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport {createBrowserHistory} from 'history';\nexport default createBrowserHistory();","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport React, {Component} from 'react';\nimport {Auth, Hub} from 'aws-amplify';\nimport history from \"../history\";\n\nclass CognitoAuth extends Component {\n  constructor(props) {\n    super(props);\n\n    // let the Hub module listen on Auth events\n    Hub.listen('auth', (data) => {\n      switch (data.payload.event) {\n        case 'signIn':\n          history.push('/agents');\n          this.setState({authState: 'signedIn', authData: data.payload.data});\n          break;\n        case 'signIn_failure':\n          break;\n        default:\n          break;\n      }\n    });\n  }\n\n  componentDidMount() {\n    // we only want to do this if code isn't\n    if (!this.props.location || !this.props.location.search.startsWith(\"?code=\")) {\n      Auth.currentAuthenticatedUser().then(user => {\n        history.push('/agents');\n      }).catch(e => {\n        Auth.federatedSignIn();\n      });\n    }\n  }\n\n  render() {\n    return (\n        <div className=\"App\"/>\n    );\n  }\n}\n\nexport default CognitoAuth;","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport {IconButton} from \"@material-ui/core\";\nimport {Settings} from \"@material-ui/icons\";\nimport requiresAuth from \"../common/requiresAuth\";\nimport {GlobalSettingsAction} from \"../store/actions/global-settings.actions\";\n\nclass GlobalSettingsButton extends Component {\n\n    handleButtonClick = () => {\n        this.props.showGlobalSettingsModal === false ? this.props.showSettingsModal(true) : this.props.showSettingsModal(false);\n    };\n\n    render() {\n        return (\n            <IconButton color=\"inherit\" onClick={this.handleButtonClick}>\n                <Settings/>\n            </IconButton>\n        )\n    }\n}\n\nGlobalSettingsButton.propTypes = {\n    showGlobalSettingsModal: PropTypes.bool\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        showGlobalSettingsModal: state.globalSettings.showModal\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        showSettingsModal: (show) => dispatch(GlobalSettingsAction.showModal(show)),\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GlobalSettingsButton);","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nconst AuthRoles = {\n    ADMIN: \"Admin\",\n    MANAGER: \"Manager\"\n};\n\nexport default AuthRoles","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {\n    AppBar,\n    Toolbar,\n    IconButton, Grid,\n    Typography, withStyles, createMuiTheme\n} from \"@material-ui/core\";\n\nimport {ExitToApp} from '@material-ui/icons';\nimport PropTypes from \"prop-types\";\nimport {AuthAction} from \"../store/actions/auth.actions\";\nimport GlobalSettingsButton from \"../global-settings/GlobalSettingsButton\";\nimport AuthRoles from \"../auth/AuthRoles\";\nimport {MuiThemeProvider} from \"@material-ui/core\";\nimport themeColors from \"../theme/colors\";\n\nconst styles = (theme) => ({\n    root: {\n        flexGrow: 1\n    },\n    logo: {\n        margin: \"5px 10px 0 0\",\n        height: 43\n    },\n    grow: {\n        flexGrow: 1\n    },\n    userInfo: {\n        marginRight: 10\n    },\n    role: {\n        fontSize: 12,\n        textAlign: \"right\",\n        fontWeight: \"bold\",\n        margin: \"4px 0 -2px 0\",\n        paddingTop: 3\n    },\n    email: {\n        fontSize: 12,\n        fontWeight: \"light\",\n        textAlign: \"right\",\n        margin: \"-2px 0 0 0\",\n        padding: 0\n    }\n});\n\nconst theme = new createMuiTheme({\n    palette: {\n        primary: {\n            main: themeColors.navBar\n        }\n    }\n});\n\nclass NavigationBar extends Component {\n\n    handleOnLogout = () => {\n        this.props.logout();\n    };\n\n    render() {\n        let {classes} = this.props;\n        return (\n            <MuiThemeProvider theme={theme}>\n                <div className={classes.root}>\n                    <AppBar position=\"static\">\n                        <Toolbar>\n                            <Grid container direction=\"row\" justify=\"space-between\" alignContent=\"center\"\n                                  alignItems=\"center\">\n                                <Grid item>\n                                    <Grid container direction=\"row\" alignItems=\"center\" alignContent=\"center\">\n                                        <Grid item>\n                                            <img alt=\"Amazon Connect Logo\" className={classes.logo}\n                                                 src={process.env.PUBLIC_URL + '/images/logo80_2x.png'}/>\n                                        </Grid>\n                                        <Grid item>\n                                            <Typography variant=\"h5\">\n                                                Amazon Connect Voicemail Management Portal\n                                            </Typography>\n                                        </Grid>\n                                    </Grid>\n                                </Grid>\n                                <Grid item>\n                                    <Grid container direction=\"row\">\n                                        <Grid item className={classes.userInfo}>\n                                            <Grid container direction=\"column\" alignContent=\"center\"\n                                                  alignItems=\"flex-end\">\n                                                <Grid item><p className={classes.role}>{this.props.userRole}</p></Grid>\n                                                <Grid item><p className={classes.email}>{this.props.userEmail}</p>\n                                                </Grid>\n                                            </Grid>\n                                        </Grid>\n                                        <Grid item>\n                                            <Grid container direction=\"row\" alignItems={\"center\"}>\n                                                <Grid item>\n                                                    <GlobalSettingsButton/>\n                                                </Grid>\n                                                <Grid item>\n                                                    <IconButton color=\"inherit\" onClick={this.handleOnLogout}>\n                                                        <ExitToApp/>\n                                                    </IconButton>\n                                                </Grid>\n                                            </Grid>\n                                        </Grid>\n                                    </Grid>\n                                </Grid>\n                            </Grid>\n                        </Toolbar>\n                    </AppBar>\n                </div>\n            </MuiThemeProvider>\n        );\n    }\n}\n\nNavigationBar.propTypes = {\n    logout: PropTypes.func\n};\n\nconst mapStateToProps = (state) => {\n    let role = \"\";\n    if (!state.auth.user) {\n        return {\n            userEmail: null,\n            userRole: null\n        }\n    }\n\n    let roles = state.auth.user[\"roles\"];\n    if (roles && roles.includes(AuthRoles.MANAGER)) {\n        role = \"Manager\";\n    }\n\n    if (roles && roles.includes(AuthRoles.ADMIN)) {\n        role = \"Administrator\"\n    }\n\n    return {\n        userEmail: state.auth.user[\"email\"],\n        userRole: role\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        logout: () => dispatch(AuthAction.logout()),\n    }\n};\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(NavigationBar))","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {Button, CircularProgress, withStyles} from \"@material-ui/core\";\n\nconst styles = (theme) => ({\n    progress: {\n        marginLeft: 5,\n        verticalAlign: \"sub\"\n    }\n});\n\nclass AsyncButton extends Component {\n\n    render() {\n        let {classes} = this.props;\n        const {color, onClick, className, disabled, type} = this.props;\n        return(\n            <Button type={type || \"button\"} color={color} onClick={onClick} disabled={(disabled || this.props.loading)} className={className} variant='contained'>\n                <span className={classes.span}>{this.props.children} {this.props.loading ? <CircularProgress className={classes.progress} color=\"secondary\" size=\"1rem\"/> : null} </span>\n            </Button>\n        )\n    }\n\n}\n\nAsyncButton.propTypes = {\n    loading: PropTypes.bool\n};\n\nexport default withStyles(styles)(AsyncButton);","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport React, {Component} from 'react';\nimport {Cancel, Search} from \"@material-ui/icons\";\nimport {Grid, TextField, withStyles} from \"@material-ui/core\";\nimport PropTypes from 'prop-types'\n\nconst styles = (theme) => ({\n    textField: {\n        width: 220\n    },\n    search: {\n        marginRight: 5\n    },\n    clearSearch: {\n        width: 18,\n        marginBottom: 3,\n        marginLeft: -15,\n        color: \"rgba(0,0,0,0.25)\",\n        \"&:hover\": {\n            cursor: \"pointer\"\n        },\n        zIndex: 1\n    }\n});\n\nclass SearchTextField extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            searchValue: \"\"\n        }\n    }\n\n    handleSearchChange = (event) => {\n        this.updateSearch(event.target.value)\n    };\n\n    updateSearch(searchText) {\n        this.setState({\n            ...this.state,\n            searchValue: searchText\n        }, () => {\n            if (this.props.searchChangeFunc) {\n                this.props.searchChangeFunc(this.state.searchValue)\n            }\n        });\n    }\n\n    render() {\n        let classes = this.props.classes;\n        return (\n            <Grid container direction={\"row\"} alignItems={\"flex-end\"} alignContent={\"center\"}>\n                <Search className={classes.search}/>\n                <Grid item>\n                    <TextField\n                        className={classes.textField}\n                        placeholder={\"Search\"}\n                        name=\"search\"\n                        value={this.state.searchValue}\n                        onChange={this.handleSearchChange}\n                    />\n                </Grid>\n                {this.props.showClearButton ?\n                    <Cancel className={classes.clearSearch} onClick={() => {\n                        this.updateSearch(\"\")\n                    }}/> :\n                    null\n                }\n            </Grid>\n        )\n    }\n\n}\n\nSearchTextField.propTypes = {\n    searchChangeFunc: PropTypes.func,\n    showClearButton: PropTypes.bool\n};\n\nexport default withStyles(styles)(SearchTextField);","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {withStyles} from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport PropTypes from 'prop-types'\nimport {\n    Paper, Table, TableHead, TableCell, TableRow, TableBody, TableSortLabel, Grid\n} from \"@material-ui/core\";\n\nimport {ArrowDropDown, Check, KeyboardArrowLeft, KeyboardArrowRight} from \"@material-ui/icons\";\nimport {AgentsAction, AgentsSortKey, AgentsSortOrder} from \"../store/actions/agents.actions\";\nimport AsyncButton from \"../common/components/AsyncButton\";\nimport SearchTextField from \"../common/SearchTextField\";\nimport {GlobalSettingsAction} from \"../store/actions/global-settings.actions\";\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nconst styles = (theme) => ({\n    '@global': {\n        '.MuiTableSortLabel-root': {\n            \"&:hover\": {\n                color: \"#FFFFFF\"\n            },\n            \"&:focus\": {\n                color: \"#FFFFFF\"\n            }\n        },\n        \".MuiTableCell-head\": {\n            fontWeight: 150\n        }\n    },\n    topBar: {\n        margin: 15\n    },\n    search: {\n        marginRight: 5\n    },\n    root: {\n        width: '100%',\n        overflowX: 'auto',\n    },\n    table: {\n        minWidth: 650,\n    },\n    delivery: {\n        marginRight: 10\n    },\n    tableCell: {\n        borderRight: \"1px solid white\"\n    },\n    clearSearch: {\n        width: 15,\n        marginBottom: 3,\n        marginLeft: -15,\n        color: \"rgba(0,0,0,0.25)\",\n        \"&:hover\": {\n            cursor: \"pointer\"\n        },\n        zIndex: 1\n    },\n    checkDisable: {\n        color: \"#e2e2e2\"\n    },\n    navigationBar: {\n        float: \"right\"\n    },\n    navButton: {\n    },\n    syncButton: {\n        margin: \"0 10px 0 0\"\n    }\n});\n\nconst headerCells = [\n    {id: 'username', numeric: false, disablePadding: false, label: 'Username', sortable: true},\n    {id: 'extension', numeric: false, disablePadding: false, label: 'Extension', sortable: true},\n    {id: 'encrypt', numeric: false, disablePadding: false, label: 'Encrypt', sortable: false},\n    {id: 'transcribe', numeric: false, disablePadding: false, label: 'Transcribe', sortable: false},\n    {id: 'deliveryOptions', numeric: false, disablePadding: false, label: 'Delivery Options', sortable: false}\n];\n\nclass AgentsTable extends Component {\n\n    constructor(props) {\n        super(props);\n        this.sortKey = \"firstName\";\n        this.sortOrder = \"desc\";\n        this.searchTextField = null;\n        this.state = {\n            syncOpen: false\n        }\n    }\n\n    componentDidMount() {\n        this.props.getAgents();\n        this.props.fetchGlobalSettings();\n    }\n\n    sortBy = (id) => {\n        console.log(\"Should Sort\", id);\n        let header = headerCells.filter(item => item.id === id)[0];\n        if (header.sortable) {\n            this.props.sortAgents(id, (this.props.sortOrder === AgentsSortOrder.ASC) ? AgentsSortOrder.DESC : AgentsSortOrder.ASC)\n        }\n    };\n\n    handleSearchChange = (searchText) => {\n        this.props.filterAgents(searchText);\n    };\n\n    showAgent = (agent) => {\n        this.props.showAgentModal(true, agent);\n    };\n\n    handleSync = () => {\n        this.setState({syncOpen: false});\n        this.props.syncAgents();\n    };\n\n    render() {\n        let classes = this.props.classes;\n        return (\n            <div className={this.props.className}>\n                <Paper className={classes.root}>\n                    <div className={classes.topBar}>\n                        <Grid container justify={\"space-between\"} alignItems={\"flex-end\"} direction={\"row\"}>\n                            <Grid item className={classes.searchBox}>\n                                <SearchTextField\n                                    ref={(c) => this.searchTextField = c }\n                                    showClearButton={this.props.searchFilter !== \"\"}\n                                    searchChangeFunc={this.handleSearchChange}/>\n                            </Grid>\n                            <Grid item>\n                                <Button color=\"secondary\" className={classes.syncButton} onClick={() => this.setState({syncOpen: true})}>\n                                    Sync Agents\n                                </Button>\n                                <AsyncButton loading={this.props.loading} color={\"primary\"} onClick={() => {\n                                    this.props.getAgents();\n                                    if (this.searchTextField) {\n                                        this.searchTextField.updateSearch(\"\")\n                                    }\n                                }} >Refresh</AsyncButton>\n                            </Grid>\n                        </Grid>\n                    </div>\n                    <Dialog\n                        open={this.state.syncOpen}\n                        onClose={() => this.setState({syncOpen: false})}\n                        aria-labelledby=\"alert-dialog-title\"\n                        aria-describedby=\"alert-dialog-description\"\n                    >\n                        <DialogTitle id=\"alert-dialog-title\">Sync Amazon Connect Agents?</DialogTitle>\n                        <DialogContent>\n                            <DialogContentText id=\"alert-dialog-description\">\n                                This process will sync all users in Amazon Connect to the VM portal.\n                            </DialogContentText>\n                        </DialogContent>\n                        <DialogActions>\n                            <Button onClick={() => this.setState({syncOpen: false})} color=\"primary\">\n                                Cancel\n                            </Button>\n                            <Button onClick={this.handleSync} color=\"primary\" autoFocus>\n                                Sync\n                            </Button>\n                        </DialogActions>\n                    </Dialog>\n\n                    <Table className={classes.table} stickyHeader aria-label=\"sticky table\" size=\"small\">\n                        <TableHead>\n                            <TableRow>\n                                {headerCells.map(headerCell => (\n                                    <TableCell className={classes.tableCell}\n                                        key={headerCell.id}\n                                        align={headerCell.numeric ? 'right' : 'left'}\n                                        padding={headerCell.disablePadding ? 'none' : 'default'}>\n                                        <TableSortLabel\n                                            onClick={() => this.sortBy(headerCell.id)}\n                                            key={headerCell.id}\n                                            hideSortIcon={!headerCell.sortable}\n                                            active={this.props.sortKey === headerCell.id}\n                                            direction={this.props.sortOrder}\n                                            IconComponent={ArrowDropDown}>\n                                            {headerCell.label}\n                                        </TableSortLabel>\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {this.props.agents.map(agent => (\n                                <TableRow key={agent.userId} hover onClick={() => {this.showAgent(agent)}}>\n                                    <TableCell align=\"left\">{agent.username}</TableCell>\n                                    <TableCell align=\"left\">{agent.extension}</TableCell>\n                                    <TableCell align=\"left\">{\n                                        this.props.encryptVoicemail ?\n                                            <Check fontSize=\"inherit\"/> : \n                                                ( agent.encryptVoicemail ? \n                                                    <Check fontSize=\"inherit\"/> : null ) }\n                                    </TableCell>\n                                    <TableCell align=\"left\">{\n                                        agent.transcribeVoicemail ?\n                                            <Check className={this.props.transcribeVoicemail ? null : classes.checkDisable} fontSize=\"inherit\"/> :\n                                            null}\n                                    </TableCell>\n                                    <TableCell align=\"left\">\n                                        <span\n                                            className={classes.delivery}>{agent.deliverEmail ? \"Email\" : \"\"}</span>\n                                        <span\n                                            className={classes.delivery}>{agent.deliverSMS ? `SMS: ${agent.deliverSMSPhoneNumber}` : \"\"}</span>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n\n                    <div className={classes.navigationBar}>\n                        <Button disabled={this.props.page.prev.length === 0} onClick={() => {\n                            this.props.getAgents(this.props.page.prev[this.props.page.prev.length - 1]);\n                        }}><KeyboardArrowLeft className={classes.navButton}/></Button>\n                        <Button disabled={this.props.page.next.length === 0} onClick={() => {\n                            this.props.getAgents(this.props.page.next[0]);\n                        }}><KeyboardArrowRight className={classes.navButton}/></Button>\n                    </div>\n                </Paper>\n            </div>\n        )\n    }\n}\n\nAgentsTable.propTypes = {\n    agents: PropTypes.array,\n    loading: PropTypes.bool,\n    sortKey: PropTypes.string,\n    sortOrder: PropTypes.string,\n    searchFiler: PropTypes.string,\n    getAgents: PropTypes.func,\n    sortAgents: PropTypes.func,\n    filterAgents: PropTypes.func\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        agents: state.agents.agents,\n        loading: state.agents.loading,\n        sortKey: state.agents.sortKey,\n        sortOrder: state.agents.sortOrder,\n        searchFilter: state.agents.filter,\n        transcribeVoicemail: state.globalSettings.transcribeVoicemail,\n        encryptVoicemail: state.globalSettings.encryptVoicemail,\n        page: state.agents.page\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        getAgents: (next) => dispatch(AgentsAction.getAgents(next)),\n        sortAgents: (sortKey, sortOrder) => dispatch(AgentsAction.sortAgents(sortKey, sortOrder)),\n        filterAgents: (filter) => dispatch(AgentsAction.filterAgents(filter)),\n        showAgentModal: (show, agent) => dispatch(AgentsAction.showAgent(show, agent)),\n        fetchGlobalSettings: () => dispatch(GlobalSettingsAction.fetchSettings()),\n        syncAgents: () => dispatch(AgentsAction.syncAgents())\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(AgentsTable));","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport React, {Component} from 'react';\nimport {\n    withStyles,\n    Grid,\n    FormControl,\n    InputLabel, Input\n} from \"@material-ui/core\";\nimport AsyncButton from \"../common/components/AsyncButton\";\nimport {ContactFlowAction} from \"../store/actions/contact-flow.actions\";\nimport {connect} from \"react-redux\";\nimport AuthRoles from \"../auth/AuthRoles\";\n\nconst styles = (theme) => ({\n    ...theme.modal,\n    root: {\n        padding: 0\n    }\n});\n\nclass ContactFlow extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            welcomeMessage: \"Welcome\",\n            defaultErrorMessage: \"Thank you and have a wonderful day\",\n            maxVoicemailDuration: 60,\n            durationType: \"SECOND\",\n            fallbackQueueName: \"BasicQueue\",\n            errorLoopCount: 3\n        }\n    }\n\n    handleDownload = () => {\n        // console.log(\"Download\");\n        let settings = {\n            welcomeMessage: this.state.welcomeMessage,\n            defaultErrorMessage: this.state.defaultErrorMessage,\n            maxVoicemailDuration: this.state.maxVoicemailDuration,\n            durationType: \"SECOND\",\n            fallbackQueueName: this.state.fallbackQueueName,\n            errorLoopCount: this.state.errorLoopCount\n        };\n        this.props.download(settings);\n    };\n\n    handleInputChange = (event) => {\n        event.preventDefault();\n        // console.log(event.target);\n        // console.log(event.target.id, event.target.name);\n        this.setState({\n            ...this.state,\n            [event.target.name]: event.target.value\n        });\n    };\n\n    render() {\n\n        let classes = this.props.classes;\n\n        return(\n            <div className={classes.root}>\n                <h6 className={classes.title}>Generate Contact Flow</h6>\n                <Grid className={classes.inputsContainer} container direction={\"column\"}>\n                    <FormControl>\n                        <InputLabel type={\"text\"} htmlFor=\"welcome-message\">Welcome Message</InputLabel>\n                        <Input id=\"welcome-message\" disableUnderline={true} readOnly={false}  name={\"welcomeMessage\"}  value={this.state.welcomeMessage} onChange={this.handleInputChange}/>\n                    </FormControl>\n                    <FormControl>\n                        <InputLabel htmlFor=\"fallback-queue-name\">Fallback Queue</InputLabel>\n                        <Input id=\"fallback-queue-name\" disableUnderline={true} readOnly={false} name={\"fallbackQueueName\"} value={this.state.fallbackQueueName} onChange={this.handleInputChange}/>\n                    </FormControl>\n                    <FormControl>\n                        <InputLabel type={\"text\"} htmlFor=\"default-error-message\">Default Error Message</InputLabel>\n                        <Input id=\"default-error-message\" disableUnderline={true} readOnly={false}  name={\"defaultErrorMessage\"}  value={this.state.defaultErrorMessage} onChange={this.handleInputChange}/>\n                    </FormControl>\n                    <FormControl>\n                        <InputLabel htmlFor=\"max-vm-duration\">Max Voicemail Duration (sec.)</InputLabel>\n                        <Input type={\"number\"} inputProps={{ min: \"1\", max: \"120\", step: \"1\" }} id=\"max-vm-duration\" disableUnderline={true} readOnly={false} name={\"maxVoicemailDuration\"}  value={this.state.maxVoicemailDuration} onChange={this.handleInputChange}/>\n                    </FormControl>\n                    <FormControl>\n                        <InputLabel htmlFor=\"loop-count\">Incorrect Extension Loop Count</InputLabel>\n                        <Input type={\"number\"} inputProps={{ min: \"0\", max: \"10\", step: \"1\" }} id=\"loop-count\" disableUnderline={true} readOnly={false} name={\"errorLoopCount\"} value={this.state.errorLoopCount} onChange={this.handleInputChange}/>\n                    </FormControl>\n                </Grid>\n                {(this.props.downloadError) ?\n                    <p className={classes.error}>\n                        {this.props.downloadError}\n                    </p> :\n                    null\n                }\n                <Grid className={classes.padTop} container spacing={5} direction=\"row\">\n                    <Grid item>\n                        <AsyncButton loading={this.props.downloading} color=\"primary\" variant=\"contained\" onClick={this.handleDownload} disabled={this.props.userRole != \"Administrator\"}>Download</AsyncButton>\n                    </Grid>\n                </Grid>\n            </div>\n        )\n\n    }\n\n}\n\nconst mapStateToProps = (state) => {\n    let role = \"\";\n    if (!state.auth.user) {\n        return {\n            userEmail: null,\n            userRole: null\n        }\n    }\n\n    let roles = state.auth.user[\"roles\"];\n    if (roles.includes(AuthRoles.MANAGER)) {\n        role = \"Manager\";\n    }\n\n    if (roles.includes(AuthRoles.ADMIN)) {\n        role = \"Administrator\"\n    }\n\n    return {\n        downloading: state.contactFlow.downloading,\n        downloadError: state.contactFlow.downloadError,\n        userRole: role\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        showModal: (show) => dispatch(ContactFlowAction.showModal(show)),\n        download: (contactFlowDto) => dispatch(ContactFlowAction.download(contactFlowDto))\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(ContactFlow))\n","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport React, {Component} from 'react';\nimport {Paper, withStyles, Button, Grid, FormControlLabel, Checkbox, TextField} from \"@material-ui/core\";\nimport AsyncButton from \"../common/components/AsyncButton\";\nimport {GlobalSettingsAction} from \"../store/actions/global-settings.actions\";\nimport {connect} from \"react-redux\";\nimport PropTypes from 'prop-types';\nimport ContactFlow from \"../contact-flow/ContactFlow\";\nimport AuthRoles from \"../auth/AuthRoles\";\n\nconst styles = (theme) => ({\n    root: {\n        padding: 0\n    },\n    title: {\n        fontSize: 25,\n        padding: 0,\n        margin: 0\n    },\n    paper: {\n        padding: 20,\n        width: 450\n    },\n    checkBox: {\n        marginTop: 15,\n        marginBottom: 15\n    },\n    deliveryEmail: {\n        marginTop: 15\n    },\n    infoCaption: theme.infoCaption,\n    spacer: {\n        marginTop: \"20px\",\n        marginBottom: \"10px\",\n        borderBottom: \"1px solid rgb(220, 220, 220, 0.5)\"\n    }\n});\n\nclass GlobalSettings extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            deliveryEmail: \"\",\n            transcribeEnabled: null,\n            encryptionEnabled: null\n        }\n    }\n\n    componentDidMount() {\n        this.props.fetch();\n    }\n\n    handleEventInputChange = (event) => {\n        let {name} = event.target;\n        if (name === \"deliveryEmail\") {\n            this.setState({\n                ...this.state,\n                [event.target.name]: event.target.value\n            })\n        } else {\n            this.setState({\n                ...this.state,\n                [event.target.name]: event.target.checked\n            })\n        }\n\n    };\n\n    handleSave = () => {\n        let settings = {\n            transcribeVoicemail: this.state.transcribeEnabled !== null ? this.state.transcribeEnabled : this.props.transcribeVoicemail,\n            encryptVoicemail: this.state.encryptionEnabled !== null ? this.state.encryptionEnabled : this.props.encryptVoicemail,\n            deliveryEmail: this.state.deliveryEmail === \"\" ? this.props.deliveryEmail : this.state.deliveryEmail,\n            availableSMSCountries: this.props.availableSMSCountries\n        };\n        this.props.save(settings);\n        this.props.showModal(false);\n    };\n\n    render() {\n\n        let classes = this.props.classes;\n\n        let transcribe = this.state.transcribeEnabled;\n        if (this.state.transcribeEnabled === null) {\n            transcribe = this.props.transcribeVoicemail\n        }\n\n        let encrypt = this.state.encryptionEnabled;\n        if (this.state.encryptionEnabled === null) {\n            encrypt = this.props.encryptVoicemail\n        }\n\n        return (\n            <div className={classes.root}>\n                <h6 className={classes.title}>Global Configurations</h6>\n                <div className={classes.checkBox}>\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                name=\"transcribeEnabled\"\n                                id=\"transcribe\"\n                                disabled={this.props.loading || this.props.saving}\n                                onChange={this.handleEventInputChange}\n                                checked={transcribe}\n                                color=\"primary\"/>\n                        }\n                        label=\"Allow Voicemail Transcriptions\"/>\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                name=\"encryptionEnabled\"\n                                id=\"encrypt\"\n                                disabled={this.props.loading || this.props.saving}\n                                onChange={this.handleEventInputChange}\n                                checked={encrypt}\n                                color=\"primary\"/>\n                        }\n                        label=\"Enforce Voicemail Encryption\"/>\n                    <TextField\n                        name=\"deliveryEmail\"\n                        disabled={this.props.loading || this.props.saving}\n                        className={classes.deliveryEmail}\n                        fullWidth={true}\n                        placeholder={this.props.deliveryEmail}\n                        onChange={this.handleEventInputChange}\n                        value={this.state.deliveryEmail || this.props.deliveryEmail}\n                        label={\"Delivery Email\"}\n                    />\n                    <p className={classes.infoCaption}>Important: Delivery Email must be verified via Amazon Simple\n                        Email Service before emails can be delivered</p>\n                </div>\n                <Grid container spacing={5} direction=\"row\">\n                    <Grid item>\n                        <Button color=\"secondary\" onClick={() => {\n                            this.props.showModal(false)\n                        }}>Cancel</Button>\n                    </Grid>\n                    <Grid item>\n                        <AsyncButton loading={this.props.saving} color=\"primary\" variant=\"contained\" disabled={this.props.userRole != \"Administrator\"} onClick={this.handleSave}>Save</AsyncButton>\n                    </Grid>\n                </Grid>\n                <div className={classes.spacer}></div>\n                <ContactFlow/>\n            </div>\n        )\n    }\n}\n\nGlobalSettings.propTypes = {\n    loading: PropTypes.bool,\n    deliveryEmail: PropTypes.string,\n    transcribeVoicemail: PropTypes.bool,\n    encryptVoicemail: PropTypes.string,\n    saving: PropTypes.bool,\n    fetch: PropTypes.func,\n    showModal: PropTypes.func,\n    save: PropTypes.func\n};\n\nconst mapStateToProps = (state) => {\n    let role = \"\";\n    if (!state.auth.user) {\n        return {\n            userEmail: null,\n            userRole: null\n        }\n    }\n\n    let roles = state.auth.user[\"roles\"];\n    if (roles.includes(AuthRoles.MANAGER)) {\n        role = \"Manager\";\n    }\n\n    if (roles.includes(AuthRoles.ADMIN)) {\n        role = \"Administrator\"\n    }\n\n    return {\n        loading: state.globalSettings.loading,\n        deliveryEmail: state.globalSettings.deliveryEmail || \"\",\n        transcribeVoicemail: state.globalSettings.transcribeVoicemail,\n        encryptVoicemail: state.globalSettings.encryptVoicemail,\n        availableSMSCountries: state.globalSettings.availableSMSCountries,\n        saving: state.globalSettings.saving,\n        userRole: role\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        fetch: () => dispatch(GlobalSettingsAction.fetchSettings()),\n        showModal: (show) => dispatch(GlobalSettingsAction.showModal(show)),\n        save: (settings) => dispatch(GlobalSettingsAction.saveSettings(settings))\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(GlobalSettings))","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport React, {Component} from 'react';\nimport {\n    Paper, withStyles,\n    Button, Grid,\n    FormControlLabel, Checkbox, TextField, FormControl, Input, InputLabel\n} from \"@material-ui/core\";\nimport {connect} from \"react-redux\";\nimport AsyncButton from \"../common/components/AsyncButton\";\nimport {AgentsAction} from \"../store/actions/agents.actions\";\nimport PropTypes from 'prop-types';\nimport MuiPhoneInput from 'material-ui-phone-number';\nimport PhoneNumber from 'awesome-phonenumber';\n\nconst styles = (theme) => ({\n    ...theme.modal,\n    userInfo: {\n        marginTop: 20\n    },\n    paper: {\n        padding: 20,\n        width: 350\n    },\n});\n\nconst FormControlCheckBox = ({label, checked, onChange, name, id, color = \"primary\"}) => {\n    return (\n        <FormControlLabel\n            control={\n                <Checkbox\n                    name={name}\n                    id={id}\n                    onChange={onChange}\n                    checked={checked}\n                    color=\"primary\"/>\n            }\n            label={label}/>\n    )\n};\n\nclass AgentSettings extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            transcribeVoicemail: null,\n            encryptVoicemail: null,\n            deliverSMS: null,\n            deliverEmail: null,\n            extensionNumber: null,\n            deliverSMSPhoneNumber: null,\n            validationError: null\n        }\n    }\n\n    handleCheckBoxChange = (event) => {\n        this.setState({\n            ...this.state,\n            [event.target.name]: event.target.checked\n        })\n    };\n\n    handleExtensionNumberChange = (event) => {\n        const re = /^[0-9\\b]+$/;\n        if (event.target.value === '' || re.test(event.target.value)) {\n            this.setState({\n                ...this.state,\n                [event.target.name]: event.target.value\n            })\n        }\n    };\n\n    phoneNumberInputChange = (phoneNumber, data) => {\n        this.setState({\n            ...this.state,\n            countryData: data,\n            deliverSMSPhoneNumber: phoneNumber\n        })\n    };\n\n    formValueForKey(key, defaultValue) {\n        let result = this.state[key];\n        if (result === null) {\n            result = defaultValue\n        }\n        return result;\n    }\n\n    handleSave = () => {\n        let {transcribeVoicemail, encryptVoicemail, deliverSMS, deliverEmail, extensionNumber, deliverSMSPhoneNumber, } = this.state;\n\n        deliverSMS = (deliverSMS !== null) ? deliverSMS : this.props.agent.deliverSMS;\n        deliverSMSPhoneNumber = (deliverSMSPhoneNumber !== null) ? deliverSMSPhoneNumber : this.props.agent.deliverSMSPhoneNumber;\n        extensionNumber = (extensionNumber !== null) ? extensionNumber : this.props.agent.extension;\n        deliverEmail = (deliverEmail !== null) ? deliverEmail : this.props.agent.deliverEmail;\n        encryptVoicemail = (encryptVoicemail != null) ? encryptVoicemail : this.props.agent.encryptVoicemail;\n        transcribeVoicemail = (transcribeVoicemail != null) ? transcribeVoicemail : this.props.agent.transcribeVoicemail;\n\n        if (deliverSMS) {\n            let phone = new PhoneNumber(deliverSMSPhoneNumber);\n            if (!phone.isValid()) {\n                this.setState({\n                    ...this.state,\n                    validationError: \"Please provide a valid phone number.\"\n                });\n                return;\n            }\n            deliverSMSPhoneNumber = phone.getNumber();\n        } else {\n            deliverSMSPhoneNumber = \"\";\n        }\n\n        this.props.updateAgent(\n            this.props.agent.userId,\n            extensionNumber,\n            deliverSMSPhoneNumber,\n            deliverSMS,\n            deliverEmail,\n            encryptVoicemail,\n            transcribeVoicemail\n        );\n    };\n\n    render() {\n        let classes = this.props.classes;\n\n        let transcribe = this.formValueForKey(\"transcribeVoicemail\", this.props.agent.transcribeVoicemail);\n        let encrypt = this.formValueForKey(\"encryptVoicemail\", this.props.agent.encryptVoicemail);\n        let deliverEmail = this.formValueForKey(\"deliverEmail\", this.props.agent.deliverEmail);\n        let deliverSMS = this.formValueForKey(\"deliverSMS\", this.props.agent.deliverSMS);\n        let extensionNumber = this.formValueForKey(\"extensionNumber\", this.props.agent.extension);\n        let deliverSMSPhoneNumber = this.formValueForKey(\"deliverSMSPhoneNumber\", this.props.agent.deliverSMSPhoneNumber);\n\n        return (\n            <div>\n                <h6 className={classes.title}>Agent Voicemail Settings</h6>\n                <Grid className={classes.userInfo} container direction={\"column\"}>\n                    <FormControl>\n                        <InputLabel htmlFor=\"agent-name\">Name</InputLabel>\n                        <Input id=\"agent-name\" disableUnderline={true} readOnly={true} value={this.props.agent.firstName + \" \" + this.props.agent.lastName}/>\n                    </FormControl>\n                    <FormControl>\n                        <InputLabel htmlFor=\"phone-type\">Email</InputLabel>\n                        <Input id=\"agent-email\" disableUnderline={true} readOnly={true} value={this.props.agent.email ? this.props.agent.email : this.props.agent.username}/>\n                    </FormControl>\n                    <FormControl>\n                        <InputLabel htmlFor=\"phone-type\">Phone Type</InputLabel>\n                        <Input id=\"phone-type\" disableUnderline={true} readOnly={true} value={this.props.agent.phoneType}/>\n                    </FormControl>\n                    {this.props.agent.phoneType === \"Desk Phone\" ?\n                        <FormControl>\n                            <InputLabel htmlFor=\"phone-number\">Phone Number</InputLabel>\n                            <Input id=\"phone-number\" disableUnderline={true} readOnly={true} value={this.props.agent.phoneNumber}/>\n                        </FormControl> : null\n                    }\n                </Grid>\n                <div>\n                    <Grid className={classes.padTop} container direction=\"row\" justify=\"flex-start\">\n                        <Grid item>\n                            <FormControlCheckBox label=\"Transcribe\" name=\"transcribeVoicemail\" id=\"transcribe\"\n                                                 onChange={this.handleCheckBoxChange} checked={transcribe}/>\n                        </Grid>\n                        <Grid item>\n                            <FormControlCheckBox label=\"Encrypt\" name=\"encryptVoicemail\" id=\"encrypt\"\n                                                 onChange={this.handleCheckBoxChange} checked={encrypt}/>\n                        </Grid>\n                    </Grid>\n                    <TextField\n                        name=\"extensionNumber\"\n                        inputProps={{ maxlength: \"5\" }}\n                        disabled={this.props.loading || this.props.saving}\n                        className={classes.textField}\n                        fullWidth={true}\n                        onChange={this.handleExtensionNumberChange}\n                        value={extensionNumber || \"\"}\n                        label={\"Extension\"}/>\n                    <p>Delivery Options</p>\n                    <Grid container direction=\"column\" justify=\"flex-start\">\n                        <Grid item>\n                            <FormControlCheckBox label=\"Email\" name=\"deliverEmail\" id=\"deliverEmail\"\n                                                 onChange={this.handleCheckBoxChange} checked={deliverEmail}/>\n                        </Grid>\n                        <Grid item>\n                            <FormControlCheckBox label=\"SMS\" name=\"deliverSMS\" id=\"deliverSMS\"\n                                                 onChange={this.handleCheckBoxChange} checked={deliverSMS}/>\n                        </Grid>\n                    </Grid>\n                    {deliverSMS ?\n                        <MuiPhoneInput\n                            placeholder=\"Phone Number for SMS\"\n                            onChange={this.phoneNumberInputChange}\n                            defaultCountry={'us'}\n                            disableAreaCodes={true}\n                            onlyCountries={this.props.availableSMSCountries}\n                            countryCodeEditable={false}\n                            autoFormat={true}\n                            value={deliverSMSPhoneNumber || \"\"}\n                        /> : null\n                    }\n                </div>\n                <p>{}</p>\n                {(this.props.agentUpdateError || this.state.validationError) ?\n                    <p className={classes.error}>\n                        {this.props.agentUpdateError || this.state.validationError}\n                    </p> :\n                    null\n                }\n                <Grid container spacing={5} direction=\"row\">\n                    <Grid item>\n                        <Button color=\"secondary\" onClick={() => {\n                            this.props.showAgent(false)\n                        }}>Cancel</Button>\n                    </Grid>\n                    <Grid item>\n                        <AsyncButton loading={this.props.agentUpdateInProgress} color=\"primary\" variant=\"contained\"\n                                     onClick={this.handleSave}>Save</AsyncButton>\n                    </Grid>\n                </Grid>\n            </div>\n        )\n    }\n}\n\nAgentSettings.propTypes = {\n    showAgent: PropTypes.func\n};\n\nconst mapStateToProps = (state) => {\n    let {agent} = state.agents;\n    return {\n        agent: agent,\n        availableSMSCountries: state.globalSettings.availableSMSCountries,\n        agentUpdateError: state.agents.updateError,\n        agentUpdateInProgress: state.agents.updateInProgress\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        showAgent: (show, agent) => dispatch(AgentsAction.showAgent(show, agent)),\n        updateAgent: (\n            agentId,\n            extensionNumber,\n            deliverSMSPhoneNumber,\n            deliverSMS,\n            deliverEmail,\n            encryptVoicemail,\n            transcribeVoicemail) => dispatch(AgentsAction.updateAgent(\n            agentId, extensionNumber, deliverSMSPhoneNumber, deliverSMS, deliverEmail,\n            encryptVoicemail, transcribeVoicemail\n        ))\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(AgentSettings))\n","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport React, {Component} from 'react';\nimport NavigationBar from \"../navigation/NavigationBar\";\nimport requiresAuth from \"../common/requiresAuth\";\n\nclass AgentsNoAuth extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {}\n    }\n\n    render() {\n        return (\n            <div>\n                <NavigationBar/>\n                <p> The user you logged in with is not valid. Log in again and contact your administrator if you continue to see an issue.</p>\n            </div>\n        )\n    }\n}\n\nexport default AgentsNoAuth;","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types'\nimport {connect} from 'react-redux';\nimport {AuthAction} from \"../store/actions/auth.actions\";\nimport NavigationBar from \"../navigation/NavigationBar\";\nimport {AgentsAction} from \"../store/actions/agents.actions\";\nimport AgentsTable from \"./AgentsTable\";\nimport {Fade, Dialog, DialogContent, withStyles, Backdrop} from \"@material-ui/core\";\nimport GlobalSettings from \"../global-settings/GlobalSettings\";\nimport {GlobalSettingsAction} from \"../store/actions/global-settings.actions\";\nimport AgentSettings from \"./AgentSettings\";\nimport {ContactFlowAction} from \"../store/actions/contact-flow.actions\";\nimport ContactFlow from \"../contact-flow/ContactFlow\";\nimport requiresAuth from \"../common/requiresAuth\";\nimport AgentsNoAuth from './AgentsNoAuth';\nimport AuthRoles from \"../auth/AuthRoles\";\n\nconst styles = (theme) => ({\n    agentsTable: {\n        margin: 25\n    },\n    modal: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        border: \"1px solid black\"\n    },\n    noFocus: {\n        padding: theme.spacing(2, 4, 3),\n        \"&:focus\": {\n            outlineWidth: \"0 !important\",\n            outlineStyle: \"none\"\n        }\n    }\n});\n\nclass Agents extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {}\n    }\n\n    render() {\n        let classes = this.props.classes;\n        if (this.props.role === \"\") {\n            return (\n                <div>\n                    <NavigationBar/>\n                    <p> The user you logged in with is not in the \"Manager\" Cognito User Pool group. You must be a member of this group to view this page.</p>\n                </div>\n            )\n        }\n\n        return (\n            <div>\n                <NavigationBar/>\n                <AgentsTable className={classes.agentsTable}/>\n                <Dialog\n                    scroll=\"paper\"\n                    disableAutoFocus={true}\n                    open={this.props.showGlobalSettingsModal}\n                    closeAfterTransition\n                    BackdropComponent={Backdrop}\n                    onClose={() => {\n                        this.props.showSettings(false)\n                    }}>\n                    <Fade in={this.props.showGlobalSettingsModal}>\n                        <DialogContent>\n                            <GlobalSettings/>\n                        </DialogContent>\n                    </Fade>\n                </Dialog>\n                <Dialog\n                    scroll=\"paper\"\n                    disableAutoFocus={true}\n                    open={this.props.showAgentSettings}\n                    closeAfterTransition\n                    BackdropComponent={Backdrop}\n                    onClose={() => {\n                        this.props.showAgentModal(false)\n                    }}>\n                    <Fade in={this.props.showAgentSettings}>\n                        <DialogContent>\n                            <AgentSettings/>\n                        </DialogContent>\n                    </Fade>\n                </Dialog>\n                <Dialog\n                    scroll=\"paper\"\n                    disableAutoFocus={true}\n                    open={this.props.showContactFlowModal}\n                    closeAfterTransition\n                    BackdropComponent={Backdrop}\n                    onClose={() => {\n                        this.props.showContactFlow(false)\n                    }}>\n                    <Fade in={this.props.showContactFlowModal}>\n                        <DialogContent>\n                            <ContactFlow/>\n                        </DialogContent>\n                    </Fade>\n                </Dialog>\n            </div>\n        )\n    }\n}\n\nAgents.propTypes = {\n    logout: PropTypes.func,\n    showGlobalSettingsModal: PropTypes.bool,\n};\n\nconst mapStateToProps = (state) => {\n    let role = \"\";\n    if (state.auth.user) {\n\n        let roles = state.auth.user[\"roles\"];\n        if (roles && roles.includes(AuthRoles.MANAGER)) {\n            role = \"Manager\";\n        }\n\n        if (roles && roles.includes(AuthRoles.ADMIN)) {\n            role = \"Administrator\"\n        }\n    }\n\n    return {\n        showGlobalSettingsModal: state.globalSettings.showModal,\n        agents: state.agents.agents,\n        agentsSortKey: state.agents.sortKey,\n        agentsSortOrder: state.agents.sortOrder,\n        showAgentSettings: state.agents.showAgentSettings,\n        agent: state.agents.agent,\n        showContactFlowModal: state.contactFlow.showModal,\n        contactFlowDownloading: state.contactFlow.downloading,\n        role: role\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        logout: () => dispatch(AuthAction.logout()),\n        getAgents: () => dispatch(AgentsAction.getAgents()),\n        sortAgents: (sortKey, sortOrder) => dispatch(AgentsAction.sortAgents(sortKey, sortOrder)),\n        showSettings: (show) => dispatch(GlobalSettingsAction.showModal(show)),\n        showAgentModal: (show, agent) => dispatch(AgentsAction.showAgent(show, agent)),\n        showContactFlow: (show) => dispatch(ContactFlowAction.showModal(show)),\n        downloadContactFlow: (contactFlowDto) => dispatch(ContactFlowAction.download(contactFlowDto))\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(requiresAuth(Agents, AgentsNoAuth)));","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport React from 'react';\nimport {connect} from 'react-redux';\nimport history from \"../history\";\nimport {Auth} from \"aws-amplify\";\nimport {AuthAction} from \"../store/actions/auth.actions\";\n\nexport default function (ComposedComponent, UnauthedComponent) {\n    class Authenticate extends React.Component {\n        constructor(props) {\n            super(props);\n            this.state = {\n                authState: 'loading'\n            }\n        }\n\n        componentDidMount() {\n            this._checkAndRedirect();\n        }\n\n        componentDidUpdate() {\n            this._checkAndRedirect();\n        }\n\n        _checkAndRedirect() {\n            if (this.state.authState === \"loading\") {\n                Auth.currentAuthenticatedUser().then(user => {\n                    this.props.auth(user);\n                    this.setState({authState: 'valid'});\n                }).catch(e => {\n                    this.setState({authState: 'invalid'});\n                    this.props.redirect();\n                });\n            }\n        }\n\n        render() {\n            return this.state.authState === 'valid' ?\n                <ComposedComponent {...this.props} /> : <UnauthedComponent {...this.props}/>;\n        }\n    }\n\n    const mapStateToProps = (state) => {\n        return {\n            auth: state.auth\n        };\n    };\n\n    const mapDispatchToProps = (dispatch) => {\n        return {\n            redirect: () => dispatch(() => {history.push(\"/login\")}),\n            auth: (user) => dispatch(AuthAction.auth(user))\n        }\n    };\n\n    return connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Authenticate);\n}\n","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nconst styles = (theme) => ({\n    '@global': {\n        body: {\n            ...theme.typography.body1,\n            margin: 0\n        },\n        h6: {\n            color: theme.palette.primary.main,\n            fontWeight: \"normal\"\n        }\n    }\n});\n\nexport default styles;","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport React, {Component} from 'react';\nimport {\n    Switch,\n    Route,\n    Redirect,\n    Router\n} from 'react-router-dom';\nimport {withStyles} from \"@material-ui/core\";\nimport Amplify from 'aws-amplify';\n\nimport history from \"./history\";\nimport CognitoAuth from './auth/CognitoAuth';\nimport Contacts from \"./agents/Agents\";\nimport globalStyles from './theme/global.styles';\n\nAmplify.configure({\n    Auth: {\n        region: process.env.REACT_APP_REGION,\n        userPoolId: process.env.REACT_APP_COGNITO_USER_POOL_ID,\n        userPoolWebClientId: process.env.REACT_APP_COGNITO_CLIENT_ID,\n        oauth: {\n            domain: process.env.REACT_APP_COGNITO_DOMAIN,\n            scope: ['profile', 'openid'],\n            redirectSignIn: process.env.REACT_APP_COGNITO_REDIRECT,\n            redirectSignOut: process.env.REACT_APP_COGNITO_REDIRECT,\n            responseType: 'code'\n        }\n    }\n});\n\nclass App extends Component {\n    render() {\n        return (\n            <Router history={history}>\n                <Switch>\n                    <Route exact path=\"/login\" component={CognitoAuth}/>\n                    <Route path=\"/agents\" component={Contacts}/>\n                    <Route exact path=\"/\" component={CognitoAuth}/>\n                    <Redirect from=\"/*\" exact to=\"/agents\" />\n                </Switch>\n            </Router>\n        )\n    }\n}\n\nexport default withStyles(globalStyles)(App);","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","/******************************************************************************\n *  Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.                                           *                                                                                                                   *\n *  Licensed under the Apache License Version 2.0 (the 'License'). You may not\n *  use this file except in compliance with the License. A copy of the License\n *  is located at                                                            \n *                                                                                                                   \n *      http://www.apache.org/licenses/                                                                                   *                                                                                                                  \n *  or in the 'license' file accompanying this file. This file is distributed on\n *  an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or\n *  implied. See the License for the specific language governing permissions and\n *  limitations under the License.                                                                                \n******************************************************************************/\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport rootReducer from './store/reducer';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport materialTheme from \"./theme/material.theme\";\n\nimport logger from \"./common/logger\";\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\ndeclare global {\n  interface Window {\n    __REDUX_DEVTOOLS_EXTENSION_COMPOSE__: any\n  }\n}\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\n\n// If you want to enable logging for Redux, use the store below which includes the logger\n// const store = createStore(rootReducer, composeEnhancers(applyMiddleware(logger, thunk)));\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <MuiThemeProvider theme={materialTheme}>\n      <App />\n    </MuiThemeProvider>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}