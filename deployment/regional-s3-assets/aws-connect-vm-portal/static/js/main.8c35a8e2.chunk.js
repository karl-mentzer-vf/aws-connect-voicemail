(this["webpackJsonpaws-connect-vm-portal"]=this["webpackJsonpaws-connect-vm-portal"]||[]).push([[0],{1208:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(21),i=n.n(o),c=n(125),l=n(10),s=n(14),u=n(15),h=n(191),p=n.n(h),d=n(63),m=Object(u.a)((function e(t){Object(s.a)(this,e),this.idToken=void 0,this.accessToken=void 0,this.refreshToken=void 0,this.idToken=t.idToken,this.accessToken=t.accessToken,this.refreshToken=t.refreshToken})),f="POST",g="GET",v="PATCH",b=function(){function e(){Object(s.a)(this,e),this.baseUrl="__BASE_API__",this.apiKey="__API_KEY__"}return Object(u.a)(e,[{key:"getAgents",value:function(e){return this.request(g,"".concat(this.baseUrl,"/agents"),{next:e},this.getAuth())}},{key:"getGlobalSettings",value:function(){return this.request(g,"".concat(this.baseUrl,"/global/settings"),null,this.getAuth()).then((function(e){return e.settings}))}},{key:"getContactFlow",value:function(e){return this.request(f,"".concat(this.baseUrl,"/contact/flow"),e,this.getAuth()).then((function(e){return e.contactFlow}))}},{key:"syncAgent",value:function(){return this.request(f,"".concat(this.baseUrl,"/agents/sync"),null,this.getAuth())}},{key:"updateAgentSettings",value:function(e,t){return this.request(f,"".concat(this.baseUrl,"/agents/").concat(e),t,this.getAuth()).then((function(e){return e.agent}))}},{key:"getAgent",value:function(e){return this.request(g,"".concat(this.baseUrl,"/agents/").concat(e),null,this.getAuth())}},{key:"saveGlobalSettings",value:function(e){return this.request(f,"".concat(this.baseUrl,"/global/settings"),e,this.getAuth()).then((function(e){return e.settings}))}},{key:"_getHeader",value:function(e){var t={"x-api-key":this.apiKey};return e&&(t.Authorization="Bearer ".concat(e.idToken)),t}},{key:"getAuth",value:function(){return d.a.currentSession().then((function(e){return new m({idToken:e.getIdToken().getJwtToken(),accessToken:e.getAccessToken().getJwtToken(),refreshToken:e.getRefreshToken().getToken()})}))}},{key:"request",value:function(e,t,n){var a=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Promise.resolve(null);return e===f?r.then((function(e){return a._post(t,n,e)})):e===g?r.then((function(e){return a._get(t,n,e)})):e===v?r.then((function(e){return a._patch(t,n,e)})):Promise.resolve()}},{key:"_post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a={method:f,uri:e,body:t,headers:this._getHeader(n),json:!0};return p()(a)}},{key:"_get",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a={method:g,uri:e,qs:t,headers:this._getHeader(n),json:!0};return p()(a)}},{key:"_patch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a={method:v,uri:e,body:t,headers:this._getHeader(n),json:!0};return p()(a)}}]),e}(),y=new(function(){function e(t){Object(s.a)(this,e),this.apiService=void 0,this.apiService=t}return Object(u.a)(e,[{key:"logout",value:function(){d.a.signOut()}}]),e}())(new b),E="LOGIN_PENDING",O="LOGIN",w="LOGOUT",S="LOGIN_ERROR",j=function(e){return function(t){var n=e.getSignInUserSession().getIdToken().decodePayload();t(function(e,t){return{type:O,value:{isAuthenticated:e,user:t}}}(!0,{email:n.email,roles:n["cognito:groups"]}))}},C=function(){return function(e){y.logout()}},x={loading:!1,loginError:null,isAuthenticated:!1,changePassword:!1,user:{email:"",roles:[]}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(l.a)(Object(l.a)({},e),{},{loading:t.value});case S:var n=e.changePassword||!1,a=t.value.error;return!n&&a&&(n="NewPasswordRequired"===a.error._error.name),Object(l.a)(Object(l.a)({},e),{},{changePassword:n,loginError:a});case O:return Object(l.a)(Object(l.a)({},e),{},{isAuthenticated:!0,changePassword:!1,user:t.value.user});case w:return Object(l.a)(Object(l.a)({},e),{},{changePassword:!1,isAuthenticated:!1,user:null});default:return e}},N=n(126),_=n(84),k=function(){function e(t,n,a,r,o,i,c,l,u,h,p,d,m){Object(s.a)(this,e),this.userId=t,this.username=n,this.firstName=a,this.lastName=r,this.email=o,this.phoneType=i,this.phoneNumber=c,this.extension=l,this.encryptVoicemail=u,this.transcribeVoicemail=h,this.deliverSMS=p,this.deliverSMSPhoneNumber=d,this.deliverEmail=m}return Object(u.a)(e,null,[{key:"fromAgent",value:function(t){return new this(t.userId,t.connectUser.username,t.connectUser.firstName,t.connectUser.lastName,t.connectUser.email,e.phoneTypeToDisplayString(t.connectUser.phoneType),t.connectUser.deskPhoneNumber,t.agent.extension,t.agent.encryptVoicemail||!1,t.agent.transcribeVoicemail||!1,t.agent.deliveryOptions.sms.enabled||!1,t.agent.deliveryOptions.sms.phoneNumber,t.agent.deliveryOptions.email||!1)}},{key:"fromBasicAgent",value:function(e){var t=(e.deliveryOptions||{}).sms||{},n=e.deliveryOptions||{};return new this(e.userId,e.username,"","","","","",e.extension,e.encryptVoicemail||!1,e.transcribeVoicemail||!1,t.enabled||!1,t.phoneNumber,n.email||!1)}},{key:"phoneTypeToDisplayString",value:function(e){switch(e){case"SOFT_PHONE":return"Soft Phone";case"DESK_PHONE":return"Desk Phone";default:return""}}}]),e}(),T=Object(u.a)((function e(t,n,a,r,o,i){Object(s.a)(this,e),this.extension=void 0,this.deliverSMSPhoneNumber=void 0,this.deliverSMS=void 0,this.deliverEmail=void 0,this.encryptVoicemail=void 0,this.transcribeVoicemail=void 0,this.extension=t||"",this.deliverSMSPhoneNumber=n||"",this.deliverSMS=a||!1,this.deliverEmail=r||!1,this.encryptVoicemail=o||!1,this.transcribeVoicemail=i||!1})),L=Object(u.a)((function e(t,n,a){Object(s.a)(this,e),this.data=t,this.next=n,this.current=a}));function M(){M=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new C(r||[]);return a(i,"_invoke",{value:O(e,n,c)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=s;var h={};function p(){}function d(){}function m(){}var f={};l(f,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(x([])));v&&v!==t&&n.call(v,o)&&(f=v);var b=m.prototype=p.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var r;a(this,"_invoke",{value:function(a,o){function i(){return new t((function(r,i){!function a(r,o,i,c){var l=u(e[r],e,o);if("throw"!==l.type){var s=l.arg,h=s.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(h).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}})}function O(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return A()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var l=u(e,t,n);if("normal"===l.type){if(a=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a="completed",n.method="throw",n.arg=l.arg)}}}function w(e,t){var n=t.method,a=e.iterator[n];if(void 0===a)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var r=u(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=m,a(b,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new E(s(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(b),l(b,c,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=x,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;j(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function I(){I=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new C(r||[]);return a(i,"_invoke",{value:O(e,n,c)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=s;var h={};function p(){}function d(){}function m(){}var f={};l(f,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(x([])));v&&v!==t&&n.call(v,o)&&(f=v);var b=m.prototype=p.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var r;a(this,"_invoke",{value:function(a,o){function i(){return new t((function(r,i){!function a(r,o,i,c){var l=u(e[r],e,o);if("throw"!==l.type){var s=l.arg,h=s.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(h).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}})}function O(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return A()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var l=u(e,t,n);if("normal"===l.type){if(a=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a="completed",n.method="throw",n.arg=l.arg)}}}function w(e,t){var n=t.method,a=e.iterator[n];if(void 0===a)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var r=u(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=m,a(b,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:d,configurable:!0}),d.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new E(s(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(b),l(b,c,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=x,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;j(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}var F=new(function(){function e(t){Object(s.a)(this,e),this.apiService=void 0,this.apiService=t}return Object(u.a)(e,[{key:"getAgents",value:function(e){return this.apiService.getAgents(e).then((function(t){return new L(t.data.map((function(e){return k.fromBasicAgent(e)})),t.next,e)}))}},{key:"updateAgent",value:function(e,t,n,a,r,o,i){var c=new T(t,n,a,r,o,i);return this.apiService.updateAgentSettings(e,c).then((function(e){return k.fromAgent(e)}))}},{key:"getAgent",value:function(e){return this.apiService.getAgent(e).then((function(e){return k.fromAgent(e)}))}},{key:"syncAgent",value:function(){var e=Object(_.a)(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.apiService.syncAgent());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}())(new b),P="LOADING",V="GET_AGENTS",D="SORT_AGENTS",G="FILTER_AGENTS",R="SHOW_AGENT",B="UPDATE_IN_PROGRESS",U="UPDATE_AGENT",K="UPDATE_AGENT_ERROR",W="firstName",z="lastName",q="email",H="extension",J="asc",Y="desc",Q=function(e){return{type:P,value:e}},X=function(e){return{type:V,value:e}},$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:R,value:{showAgentSettings:e,agent:t}}},Z=function(e){return{type:B,value:e}},ee=function(e){return{type:K,value:e}},te=function(){var e=Object(_.a)(I().mark((function e(t,n){var a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Q(!0)),e.prev=1,e.next=4,F.getAgents(n);case 4:a=e.sent,t(X(a)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:return e.prev=10,t(Q(!1)),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,8,10,13]])})));return function(t,n){return e.apply(this,arguments)}}(),ne=function(){var e=Object(_.a)(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.syncAgent();case 2:return e.abrupt("return",te(t,null));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){return function(){var e=Object(_.a)(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ne(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},re=function(e){return function(t){return te(t,e)}},oe=function(e,t,n,a,r,o,i){return function(c){c(Z(!0)),c(ee(null)),F.updateAgent(e,t,n,a,r,o,i).then((function(e){c(function(e){return{type:U,value:{agent:e}}}(e)),c($(!1))})).catch((function(e){c(ee(e))})).finally((function(){c(Z(!1))}))}},ie=function(e,t){return function(n){return n(function(e,t){return{type:D,value:{sortKey:e,sortOrder:t}}}(e,t))}},ce=function(e){return function(t){return t(function(e){return{type:G,value:e}}(e))}},le=function(e,t){return function(){var n=Object(_.a)(I().mark((function n(a){var r;return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=t){n.next=5;break}a($(e,t)),a(ee(null)),n.next=15;break;case 5:return n.prev=5,n.next=8,F.getAgent(t.userId);case 8:r=n.sent,a($(e,r)),a(ee(null)),n.next=15;break;case 13:n.prev=13,n.t0=n.catch(5);case 15:case"end":return n.stop()}}),n,null,[[5,13]])})));return function(e){return n.apply(this,arguments)}}()},se={loading:!1,agentList:[],sortKey:W,sortOrder:J,filter:"",agents:[],showAgentSettings:!1,agent:null,updateInProgress:!1,updateError:null,page:{next:[],prev:[],current:null}};function ue(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return e.filter((function(e){return(e.firstName||"").toLowerCase().includes(a.toLowerCase())||(e.lastName||"").toLowerCase().includes(a.toLowerCase())||(e.username||"").toLowerCase().includes(a.toLowerCase())||(e.email||"").toLowerCase().includes(a.toLowerCase())||(e.extension||"").includes(a.toLowerCase())})).sort((function(e,a){switch(t){case W:return n===J?e.firstName>a.firstName?1:-1:e.firstName<a.firstName?1:-1;case z:return n===J?e.lastName>a.lastName?1:-1:e.lastName<a.lastName?1:-1;case q:return n===J?e.email>a.email?1:-1:e.email<a.email?1:-1;case H:return n===J?e.extension>a.extension?1:-1:e.extension<a.extension?1:-1;default:return n===J?e.firstName>a.firstName?1:-1:e.firstName<a.firstName?1:-1}}))}var he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:var n=ue(t.value.data,e.sortKey,e.sortOrder),a={next:Object(N.a)(e.page.next),current:t.value.current,prev:Object(N.a)(e.page.prev)};return a.next.length&&a.next[0]===t.value.current?(a.next.shift(),a.prev.push(e.page.current)):e.page.prev.length&&e.page.prev[e.page.prev.length-1]===t.value.current&&(a.next.unshift(e.page.current),a.prev.pop()),t.value.next&&!a.next.length&&a.next.push(t.value.next),Object(l.a)(Object(l.a)({},e),{},{agentList:n,agents:n,page:a});case D:return Object(l.a)(Object(l.a)({},e),{},{sortKey:t.value.sortKey,sortOrder:t.value.sortOrder,agents:ue(Object(N.a)(e.agentList),t.value.sortKey,t.value.sortOrder,e.filter)});case G:return Object(l.a)(Object(l.a)({},e),{},{filter:t.value,agents:ue(Object(N.a)(e.agentList),e.sortKey,e.sortOrder,t.value)});case P:return Object(l.a)(Object(l.a)({},e),{},{loading:t.value});case R:return Object(l.a)(Object(l.a)({},e),{},{agent:t.value.agent||Object.assign({},e.agent),showAgentSettings:t.value.showAgentSettings});case U:var r=Object(N.a)(e.agents),o=r.findIndex((function(e){return e.userId===t.value.agent.userId}));return void 0!==o&&(r[o]=t.value.agent),Object(l.a)(Object(l.a)({},e),{},{agentList:r,agents:ue(r,e.sortKey,e.sortOrder,e.filter)});case B:return Object(l.a)(Object(l.a)({},e),{},{updateInProgress:t.value});case K:var i=null;return t.value&&(i=t.value.error._error.message),Object(l.a)(Object(l.a)({},e),{},{updateError:i});default:return e}},pe=new(function(){function e(t){Object(s.a)(this,e),this.apiService=void 0,this.apiService=t}return Object(u.a)(e,[{key:"getSettings",value:function(){return this.apiService.getGlobalSettings()}},{key:"saveSettings",value:function(e){return this.apiService.saveGlobalSettings(e)}}]),e}())(new b),de="SHOW_MODAL",me="LOADING",fe="SAVE_IN_PROGRESS",ge="SAVE_SETTINGS",ve="FETCH_SETTINGS",be=function(e){return{type:me,value:e}},ye=function(e){return console.log("Saving",e),{type:fe,value:e}},Ee=function(e){return function(t){t(function(e){return{type:de,value:e}}(e))}},Oe=function(){return function(e){e(be(!0)),pe.getSettings().then((function(t){e(function(e){return{type:ve,value:Object(l.a)({},e)}}(t))})).catch((function(e){console.log(e)})).finally((function(){e(be(!1))}))}},we=function(e){return function(t){t(ye(!0)),pe.saveSettings(e).then((function(e){t(function(e){return{type:ge,value:Object(l.a)({},e)}}(e))})).catch((function(e){console.log(e)})).finally((function(){t(ye(!1))}))}},Se={showModal:!1,transcribeVoicemail:!1,encryptVoicemail:!1,deliveryEmail:"",loading:!1,saving:!1,availableSMSCountries:["us"]},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return Object(l.a)(Object(l.a)({},e),{},{showModal:t.value});case ve:return Object(l.a)(Object(l.a)({},e),t.value);case me:return Object(l.a)(Object(l.a)({},e),{},{loading:t.value});case ge:return Object(l.a)(Object(l.a)({},e),t.value);case fe:return Object(l.a)(Object(l.a)({},e),{},{saving:t.value});default:return e}},Ce="application/json",xe=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,[{key:"save",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8",n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,r=document.createElement("a");return r.href="data:".concat(e,";charset=").concat(t,",").concat(n),r.download=a,r.click(),r}}]),e}(),Ae=function(){function e(t,n){Object(s.a)(this,e),this.apiService=void 0,this.fileSaver=void 0,this.apiService=t,this.fileSaver=n}return Object(u.a)(e,[{key:"downloadContactFlow",value:function(e){var t=this;return this.apiService.getContactFlow(e).then((function(e){return t.handleMultipleFlows(e)}))}},{key:"handleMultipleFlows",value:function(e){this.saveAsJson(e[0].metadata.name,e[0]),this.saveAsJson(e[1].metadata.name,e[1])}},{key:"saveAsJson",value:function(e,t){return this.fileSaver.save(Ce,"utf-8",encodeURI(JSON.stringify(t)),e)}}]),e}(),Ne=new xe,_e=new Ae(new b,Ne),ke="SHOW_CONTACT_FLOW_MODAL",Te="DOWNLOADING",Le="DOWNLOAD",Me="DOWNLOAD_ERROR",Ie=function(e){return{type:Me,value:e}},Fe=function(e){return{type:Te,value:e}},Pe=function(e){return function(t){t(Ie(null)),t(Fe(!0)),_e.downloadContactFlow(e).then((function(e){t(function(e){return{type:Le,value:{contactFlow:e}}}(e))})).catch((function(e){t(Ie(e))})).finally((function(){t(Fe(!1))}))}},Ve=function(e){return function(t){t(function(e){return{type:ke,value:e}}(e))}},De={showModal:!1,downloading:!1,downloadError:null},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:return Object(l.a)(Object(l.a)({},e),{},{downloading:t.value});case Me:var n=null;return t.value&&t.value.error&&(n=t.value.error._error.message),Object(l.a)(Object(l.a)({},e),{},{downloadError:n});case ke:return Object(l.a)(Object(l.a)({},e),{},{showModal:t.value});default:return e}},Re=Object(c.b)({auth:A,agents:he,globalSettings:je,contactFlow:Ge}),Be=n(41),Ue=n(430),Ke=n(1251),We=n(431),ze={mediumGray:"#757679",primary:"#3D4E62",turquoise:"#00ABBA",error:"#C22402",navBar:"#222A33"},qe=new We.a({spacing:2,typography:{fontFamily:["Roboto","Helvetica","Arial","sans-serif"].join(",")},colors:{mediumGray:ze.mediumGray,error:ze.error},palette:{primary:{main:ze.primary},secondary:{main:ze.turquoise},error:{main:ze.error}},boxShadow:{high:"3px 8px 20px -6px rgba(0,0,0,0.35)",medium:"2px 6px 10px -4px rgba(0,0,0,0.35)",low:"1px 4px 8px -3px rgba(0,0,0,0.35)"},overrides:{MuiTableCell:{stickyHeader:{backgroundColor:ze.primary},head:{color:"#FFFFFF"}},MuiTableSortLabel:{active:{color:"#FFFFFF !important"},icon:{color:"#FFFFFF !important"}}},infoCaption:{color:"#757575",fontSize:12},modal:{root:{padding:5},title:{fontSize:25,padding:0,margin:0},paper:{padding:20,width:300},inputsContainer:{marginTop:20},padTop:{marginTop:20},error:{fontSize:12,color:ze.error}}}),He=n(29),Je=n(28),Ye=n(1275),Qe=n(7),Xe=n(79),$e=Object(Xe.a)(),Ze=function(e){Object(He.a)(n,e);var t=Object(Je.a)(n);function n(e){var a;return Object(s.a)(this,n),a=t.call(this,e),d.b.listen("auth",(function(e){switch(e.payload.event){case"signIn":$e.push("/agents"),a.setState({authState:"signedIn",authData:e.payload.data})}})),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.location&&this.props.location.search.startsWith("?code=")||d.a.currentAuthenticatedUser().then((function(e){$e.push("/agents")})).catch((function(e){d.a.federatedSignIn()}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"})}}]),n}(a.Component),et=n(1252),tt=n(1253),nt=n(1254),at=n(263),rt=n(1248),ot=n(1255),it=n(1250),ct=function(e){Object(He.a)(n,e);var t=Object(Je.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleButtonClick=function(){!1===e.props.showGlobalSettingsModal?e.props.showSettingsModal(!0):e.props.showSettingsModal(!1)},e}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(rt.a,{color:"inherit",onClick:this.handleButtonClick},r.a.createElement(it.a,null))}}]),n}(a.Component),lt=Object(Be.b)((function(e){return{showGlobalSettingsModal:e.globalSettings.showModal}}),(function(e){return{showSettingsModal:function(t){return e(Ee(t))}}}))(ct),st={ADMIN:"Admin",MANAGER:"Manager"},ut=new We.a({palette:{primary:{main:ze.navBar}}}),ht=function(e){Object(He.a)(n,e);var t=Object(Je.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleOnLogout=function(){e.props.logout()},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(Ke.a,{theme:ut},r.a.createElement("div",{className:e.root},r.a.createElement(et.a,{position:"static"},r.a.createElement(tt.a,null,r.a.createElement(nt.a,{container:!0,direction:"row",justify:"space-between",alignContent:"center",alignItems:"center"},r.a.createElement(nt.a,{item:!0},r.a.createElement(nt.a,{container:!0,direction:"row",alignItems:"center",alignContent:"center"},r.a.createElement(nt.a,{item:!0},r.a.createElement("img",{alt:"Amazon Connect Logo",className:e.logo,src:"/images/logo80_2x.png"})),r.a.createElement(nt.a,{item:!0},r.a.createElement(at.a,{variant:"h5"},"Amazon Connect Voicemail Management Portal")))),r.a.createElement(nt.a,{item:!0},r.a.createElement(nt.a,{container:!0,direction:"row"},r.a.createElement(nt.a,{item:!0,className:e.userInfo},r.a.createElement(nt.a,{container:!0,direction:"column",alignContent:"center",alignItems:"flex-end"},r.a.createElement(nt.a,{item:!0},r.a.createElement("p",{className:e.role},this.props.userRole)),r.a.createElement(nt.a,{item:!0},r.a.createElement("p",{className:e.email},this.props.userEmail)))),r.a.createElement(nt.a,{item:!0},r.a.createElement(nt.a,{container:!0,direction:"row",alignItems:"center"},r.a.createElement(nt.a,{item:!0},r.a.createElement(lt,null)),r.a.createElement(nt.a,{item:!0},r.a.createElement(rt.a,{color:"inherit",onClick:this.handleOnLogout},r.a.createElement(ot.a,null))))))))))))}}]),n}(a.Component),pt=Object(Be.b)((function(e){var t="";if(!e.auth.user)return{userEmail:null,userRole:null};var n=e.auth.user.roles;return n&&n.includes(st.MANAGER)&&(t="Manager"),n&&n.includes(st.ADMIN)&&(t="Administrator"),{userEmail:e.auth.user.email,userRole:t}}),(function(e){return{logout:function(){return e(C())}}}))(Object(Qe.a)((function(e){return{root:{flexGrow:1},logo:{margin:"5px 10px 0 0",height:43},grow:{flexGrow:1},userInfo:{marginRight:10},role:{fontSize:12,textAlign:"right",fontWeight:"bold",margin:"4px 0 -2px 0",paddingTop:3},email:{fontSize:12,fontWeight:"light",textAlign:"right",margin:"-2px 0 0 0",padding:0}}}))(ht)),dt=n(411),mt=n(433),ft=n(1265),gt=n(1266),vt=n(1267),bt=n(1268),yt=n(1278),Et=n(1270),Ot=n(1269),wt=n(1271),St=n(1272),jt=n(1273),Ct=n(1256),xt=function(e){Object(He.a)(n,e);var t=Object(Je.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.classes,t=this.props,n=t.color,a=t.onClick,o=t.className,i=t.disabled,c=t.type;return r.a.createElement(dt.a,{type:c||"button",color:n,onClick:a,disabled:i||this.props.loading,className:o,variant:"contained"},r.a.createElement("span",{className:e.span},this.props.children," ",this.props.loading?r.a.createElement(Ct.a,{className:e.progress,color:"secondary",size:"1rem"}):null," "))}}]),n}(a.Component),At=Object(Qe.a)((function(e){return{progress:{marginLeft:5,verticalAlign:"sub"}}}))(xt),Nt=n(1257),_t=n(1259),kt=n(417),Tt=function(e){Object(He.a)(n,e);var t=Object(Je.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleSearchChange=function(e){a.updateSearch(e.target.value)},a.state={searchValue:""},a}return Object(u.a)(n,[{key:"updateSearch",value:function(e){var t=this;this.setState(Object(l.a)(Object(l.a)({},this.state),{},{searchValue:e}),(function(){t.props.searchChangeFunc&&t.props.searchChangeFunc(t.state.searchValue)}))}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(nt.a,{container:!0,direction:"row",alignItems:"flex-end",alignContent:"center"},r.a.createElement(Nt.a,{className:t.search}),r.a.createElement(nt.a,{item:!0},r.a.createElement(kt.a,{className:t.textField,placeholder:"Search",name:"search",value:this.state.searchValue,onChange:this.handleSearchChange})),this.props.showClearButton?r.a.createElement(_t.a,{className:t.clearSearch,onClick:function(){e.updateSearch("")}}):null)}}]),n}(a.Component),Lt=Object(Qe.a)((function(e){return{textField:{width:220},search:{marginRight:5},clearSearch:{width:18,marginBottom:3,marginLeft:-15,color:"rgba(0,0,0,0.25)","&:hover":{cursor:"pointer"},zIndex:1}}}))(Tt),Mt=n(1260),It=n(1264),Ft=n(1262),Pt=n(1263),Vt=n(1261),Dt=[{id:"username",numeric:!1,disablePadding:!1,label:"Username",sortable:!0},{id:"extension",numeric:!1,disablePadding:!1,label:"Extension",sortable:!0},{id:"encrypt",numeric:!1,disablePadding:!1,label:"Encrypt",sortable:!1},{id:"transcribe",numeric:!1,disablePadding:!1,label:"Transcribe",sortable:!1},{id:"deliveryOptions",numeric:!1,disablePadding:!1,label:"Delivery Options",sortable:!1}],Gt=function(e){Object(He.a)(n,e);var t=Object(Je.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).sortBy=function(e){console.log("Should Sort",e),Dt.filter((function(t){return t.id===e}))[0].sortable&&a.props.sortAgents(e,a.props.sortOrder===J?Y:J)},a.handleSearchChange=function(e){a.props.filterAgents(e)},a.showAgent=function(e){a.props.showAgentModal(!0,e)},a.handleSync=function(){a.setState({syncOpen:!1}),a.props.syncAgents()},a.sortKey="firstName",a.sortOrder="desc",a.searchTextField=null,a.state={syncOpen:!1},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.getAgents(),this.props.fetchGlobalSettings()}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",{className:this.props.className},r.a.createElement(mt.a,{className:t.root},r.a.createElement("div",{className:t.topBar},r.a.createElement(nt.a,{container:!0,justify:"space-between",alignItems:"flex-end",direction:"row"},r.a.createElement(nt.a,{item:!0,className:t.searchBox},r.a.createElement(Lt,{ref:function(t){return e.searchTextField=t},showClearButton:""!==this.props.searchFilter,searchChangeFunc:this.handleSearchChange})),r.a.createElement(nt.a,{item:!0},r.a.createElement(dt.a,{color:"secondary",className:t.syncButton,onClick:function(){return e.setState({syncOpen:!0})}},"Sync Agents"),r.a.createElement(At,{loading:this.props.loading,color:"primary",onClick:function(){e.props.getAgents(),e.searchTextField&&e.searchTextField.updateSearch("")}},"Refresh")))),r.a.createElement(Mt.a,{open:this.state.syncOpen,onClose:function(){return e.setState({syncOpen:!1})},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Vt.a,{id:"alert-dialog-title"},"Sync Amazon Connect Agents?"),r.a.createElement(Ft.a,null,r.a.createElement(Pt.a,{id:"alert-dialog-description"},"This process will sync all users in Amazon Connect to the VM portal.")),r.a.createElement(It.a,null,r.a.createElement(dt.a,{onClick:function(){return e.setState({syncOpen:!1})},color:"primary"},"Cancel"),r.a.createElement(dt.a,{onClick:this.handleSync,color:"primary",autoFocus:!0},"Sync"))),r.a.createElement(ft.a,{className:t.table,stickyHeader:!0,"aria-label":"sticky table",size:"small"},r.a.createElement(gt.a,null,r.a.createElement(vt.a,null,Dt.map((function(n){return r.a.createElement(bt.a,{className:t.tableCell,key:n.id,align:n.numeric?"right":"left",padding:n.disablePadding?"none":"default"},r.a.createElement(yt.a,{onClick:function(){return e.sortBy(n.id)},key:n.id,hideSortIcon:!n.sortable,active:e.props.sortKey===n.id,direction:e.props.sortOrder,IconComponent:Ot.a},n.label))})))),r.a.createElement(Et.a,null,this.props.agents.map((function(n){return r.a.createElement(vt.a,{key:n.userId,hover:!0,onClick:function(){e.showAgent(n)}},r.a.createElement(bt.a,{align:"left"},n.username),r.a.createElement(bt.a,{align:"left"},n.extension),r.a.createElement(bt.a,{align:"left"},e.props.encryptVoicemail||n.encryptVoicemail?r.a.createElement(wt.a,{fontSize:"inherit"}):null),r.a.createElement(bt.a,{align:"left"},n.transcribeVoicemail?r.a.createElement(wt.a,{className:e.props.transcribeVoicemail?null:t.checkDisable,fontSize:"inherit"}):null),r.a.createElement(bt.a,{align:"left"},r.a.createElement("span",{className:t.delivery},n.deliverEmail?"Email":""),r.a.createElement("span",{className:t.delivery},n.deliverSMS?"SMS: ".concat(n.deliverSMSPhoneNumber):"")))})))),r.a.createElement("div",{className:t.navigationBar},r.a.createElement(dt.a,{disabled:0===this.props.page.prev.length,onClick:function(){e.props.getAgents(e.props.page.prev[e.props.page.prev.length-1])}},r.a.createElement(St.a,{className:t.navButton})),r.a.createElement(dt.a,{disabled:0===this.props.page.next.length,onClick:function(){e.props.getAgents(e.props.page.next[0])}},r.a.createElement(jt.a,{className:t.navButton})))))}}]),n}(a.Component),Rt=Object(Be.b)((function(e){return{agents:e.agents.agents,loading:e.agents.loading,sortKey:e.agents.sortKey,sortOrder:e.agents.sortOrder,searchFilter:e.agents.filter,transcribeVoicemail:e.globalSettings.transcribeVoicemail,encryptVoicemail:e.globalSettings.encryptVoicemail,page:e.agents.page}}),(function(e){return{getAgents:function(t){return e(re(t))},sortAgents:function(t,n){return e(ie(t,n))},filterAgents:function(t){return e(ce(t))},showAgentModal:function(t,n){return e(le(t,n))},fetchGlobalSettings:function(){return e(Oe())},syncAgents:function(){return e(ae())}}}))(Object(Qe.a)((function(e){return{"@global":{".MuiTableSortLabel-root":{"&:hover":{color:"#FFFFFF"},"&:focus":{color:"#FFFFFF"}},".MuiTableCell-head":{fontWeight:150}},topBar:{margin:15},search:{marginRight:5},root:{width:"100%",overflowX:"auto"},table:{minWidth:650},delivery:{marginRight:10},tableCell:{borderRight:"1px solid white"},clearSearch:{width:15,marginBottom:3,marginLeft:-15,color:"rgba(0,0,0,0.25)","&:hover":{cursor:"pointer"},zIndex:1},checkDisable:{color:"#e2e2e2"},navigationBar:{float:"right"},navButton:{},syncButton:{margin:"0 10px 0 0"}}}))(Gt)),Bt=n(1219),Ut=n(434),Kt=n(74),Wt=n(1274),zt=n(1276),qt=n(1258),Ht=n(1277),Jt=n(1218),Yt=function(e){Object(He.a)(n,e);var t=Object(Je.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleDownload=function(){var e={welcomeMessage:a.state.welcomeMessage,defaultErrorMessage:a.state.defaultErrorMessage,maxVoicemailDuration:a.state.maxVoicemailDuration,durationType:"SECOND",fallbackQueueName:a.state.fallbackQueueName,errorLoopCount:a.state.errorLoopCount};a.props.download(e)},a.handleInputChange=function(e){e.preventDefault(),a.setState(Object(l.a)(Object(l.a)({},a.state),{},Object(Kt.a)({},e.target.name,e.target.value)))},a.state={welcomeMessage:"Welcome",defaultErrorMessage:"Thank you and have a wonderful day",maxVoicemailDuration:60,durationType:"SECOND",fallbackQueueName:"BasicQueue",errorLoopCount:3},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement("h6",{className:e.title},"Generate Contact Flow"),r.a.createElement(nt.a,{className:e.inputsContainer,container:!0,direction:"column"},r.a.createElement(qt.a,null,r.a.createElement(Ht.a,{type:"text",htmlFor:"welcome-message"},"Welcome Message"),r.a.createElement(Jt.a,{id:"welcome-message",disableUnderline:!0,readOnly:!1,name:"welcomeMessage",value:this.state.welcomeMessage,onChange:this.handleInputChange})),r.a.createElement(qt.a,null,r.a.createElement(Ht.a,{htmlFor:"fallback-queue-name"},"Fallback Queue"),r.a.createElement(Jt.a,{id:"fallback-queue-name",disableUnderline:!0,readOnly:!1,name:"fallbackQueueName",value:this.state.fallbackQueueName,onChange:this.handleInputChange})),r.a.createElement(qt.a,null,r.a.createElement(Ht.a,{type:"text",htmlFor:"default-error-message"},"Default Error Message"),r.a.createElement(Jt.a,{id:"default-error-message",disableUnderline:!0,readOnly:!1,name:"defaultErrorMessage",value:this.state.defaultErrorMessage,onChange:this.handleInputChange})),r.a.createElement(qt.a,null,r.a.createElement(Ht.a,{htmlFor:"max-vm-duration"},"Max Voicemail Duration (sec.)"),r.a.createElement(Jt.a,{type:"number",inputProps:{min:"1",max:"120",step:"1"},id:"max-vm-duration",disableUnderline:!0,readOnly:!1,name:"maxVoicemailDuration",value:this.state.maxVoicemailDuration,onChange:this.handleInputChange})),r.a.createElement(qt.a,null,r.a.createElement(Ht.a,{htmlFor:"loop-count"},"Incorrect Extension Loop Count"),r.a.createElement(Jt.a,{type:"number",inputProps:{min:"0",max:"10",step:"1"},id:"loop-count",disableUnderline:!0,readOnly:!1,name:"errorLoopCount",value:this.state.errorLoopCount,onChange:this.handleInputChange}))),this.props.downloadError?r.a.createElement("p",{className:e.error},this.props.downloadError):null,r.a.createElement(nt.a,{className:e.padTop,container:!0,spacing:5,direction:"row"},r.a.createElement(nt.a,{item:!0},r.a.createElement(At,{loading:this.props.downloading,color:"primary",variant:"contained",onClick:this.handleDownload,disabled:"Administrator"!=this.props.userRole},"Download"))))}}]),n}(a.Component),Qt=Object(Be.b)((function(e){var t="";if(!e.auth.user)return{userEmail:null,userRole:null};var n=e.auth.user.roles;return n.includes(st.MANAGER)&&(t="Manager"),n.includes(st.ADMIN)&&(t="Administrator"),{downloading:e.contactFlow.downloading,downloadError:e.contactFlow.downloadError,userRole:t}}),(function(e){return{showModal:function(t){return e(Ve(t))},download:function(t){return e(Pe(t))}}}))(Object(Qe.a)((function(e){return Object(l.a)(Object(l.a)({},e.modal),{},{root:{padding:0}})}))(Yt)),Xt=function(e){Object(He.a)(n,e);var t=Object(Je.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleEventInputChange=function(e){"deliveryEmail"===e.target.name?a.setState(Object(l.a)(Object(l.a)({},a.state),{},Object(Kt.a)({},e.target.name,e.target.value))):a.setState(Object(l.a)(Object(l.a)({},a.state),{},Object(Kt.a)({},e.target.name,e.target.checked)))},a.handleSave=function(){var e={transcribeVoicemail:null!==a.state.transcribeEnabled?a.state.transcribeEnabled:a.props.transcribeVoicemail,encryptVoicemail:null!==a.state.encryptionEnabled?a.state.encryptionEnabled:a.props.encryptVoicemail,deliveryEmail:""===a.state.deliveryEmail?a.props.deliveryEmail:a.state.deliveryEmail,availableSMSCountries:a.props.availableSMSCountries};a.props.save(e),a.props.showModal(!1)},a.state={deliveryEmail:"",transcribeEnabled:null,encryptionEnabled:null},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.fetch()}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state.transcribeEnabled;null===this.state.transcribeEnabled&&(n=this.props.transcribeVoicemail);var a=this.state.encryptionEnabled;return null===this.state.encryptionEnabled&&(a=this.props.encryptVoicemail),r.a.createElement("div",{className:t.root},r.a.createElement("h6",{className:t.title},"Global Configurations"),r.a.createElement("div",{className:t.checkBox},r.a.createElement(Wt.a,{control:r.a.createElement(zt.a,{name:"transcribeEnabled",id:"transcribe",disabled:this.props.loading||this.props.saving,onChange:this.handleEventInputChange,checked:n,color:"primary"}),label:"Allow Voicemail Transcriptions"}),r.a.createElement(Wt.a,{control:r.a.createElement(zt.a,{name:"encryptionEnabled",id:"encrypt",disabled:this.props.loading||this.props.saving,onChange:this.handleEventInputChange,checked:a,color:"primary"}),label:"Enforce Voicemail Encryption"}),r.a.createElement(kt.a,{name:"deliveryEmail",disabled:this.props.loading||this.props.saving,className:t.deliveryEmail,fullWidth:!0,placeholder:this.props.deliveryEmail,onChange:this.handleEventInputChange,value:this.state.deliveryEmail||this.props.deliveryEmail,label:"Delivery Email"}),r.a.createElement("p",{className:t.infoCaption},"Important: Delivery Email must be verified via Amazon Simple Email Service before emails can be delivered")),r.a.createElement(nt.a,{container:!0,spacing:5,direction:"row"},r.a.createElement(nt.a,{item:!0},r.a.createElement(dt.a,{color:"secondary",onClick:function(){e.props.showModal(!1)}},"Cancel")),r.a.createElement(nt.a,{item:!0},r.a.createElement(At,{loading:this.props.saving,color:"primary",variant:"contained",disabled:"Administrator"!=this.props.userRole,onClick:this.handleSave},"Save"))),r.a.createElement("div",{className:t.spacer}),r.a.createElement(Qt,null))}}]),n}(a.Component),$t=Object(Be.b)((function(e){var t="";if(!e.auth.user)return{userEmail:null,userRole:null};var n=e.auth.user.roles;return n.includes(st.MANAGER)&&(t="Manager"),n.includes(st.ADMIN)&&(t="Administrator"),{loading:e.globalSettings.loading,deliveryEmail:e.globalSettings.deliveryEmail||"",transcribeVoicemail:e.globalSettings.transcribeVoicemail,encryptVoicemail:e.globalSettings.encryptVoicemail,availableSMSCountries:e.globalSettings.availableSMSCountries,saving:e.globalSettings.saving,userRole:t}}),(function(e){return{fetch:function(){return e(Oe())},showModal:function(t){return e(Ee(t))},save:function(t){return e(we(t))}}}))(Object(Qe.a)((function(e){return{root:{padding:0},title:{fontSize:25,padding:0,margin:0},paper:{padding:20,width:450},checkBox:{marginTop:15,marginBottom:15},deliveryEmail:{marginTop:15},infoCaption:e.infoCaption,spacer:{marginTop:"20px",marginBottom:"10px",borderBottom:"1px solid rgb(220, 220, 220, 0.5)"}}}))(Xt)),Zt=n(428),en=n.n(Zt),tn=n(429),nn=n.n(tn),an=function(e){var t=e.label,n=e.checked,a=e.onChange,o=e.name,i=e.id;e.color;return r.a.createElement(Wt.a,{control:r.a.createElement(zt.a,{name:o,id:i,onChange:a,checked:n,color:"primary"}),label:t})},rn=function(e){Object(He.a)(n,e);var t=Object(Je.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleCheckBoxChange=function(e){a.setState(Object(l.a)(Object(l.a)({},a.state),{},Object(Kt.a)({},e.target.name,e.target.checked)))},a.handleExtensionNumberChange=function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&a.setState(Object(l.a)(Object(l.a)({},a.state),{},Object(Kt.a)({},e.target.name,e.target.value)))},a.phoneNumberInputChange=function(e,t){a.setState(Object(l.a)(Object(l.a)({},a.state),{},{countryData:t,deliverSMSPhoneNumber:e}))},a.handleSave=function(){var e=a.state,t=e.transcribeVoicemail,n=e.encryptVoicemail,r=e.deliverSMS,o=e.deliverEmail,i=e.extensionNumber,c=e.deliverSMSPhoneNumber;if(r=null!==r?r:a.props.agent.deliverSMS,c=null!==c?c:a.props.agent.deliverSMSPhoneNumber,i=null!==i?i:a.props.agent.extension,o=null!==o?o:a.props.agent.deliverEmail,n=null!=n?n:a.props.agent.encryptVoicemail,t=null!=t?t:a.props.agent.transcribeVoicemail,r){var s=new nn.a(c);if(!s.isValid())return void a.setState(Object(l.a)(Object(l.a)({},a.state),{},{validationError:"Please provide a valid phone number."}));c=s.getNumber()}else c="";a.props.updateAgent(a.props.agent.userId,i,c,r,o,n,t)},a.state={transcribeVoicemail:null,encryptVoicemail:null,deliverSMS:null,deliverEmail:null,extensionNumber:null,deliverSMSPhoneNumber:null,validationError:null},a}return Object(u.a)(n,[{key:"formValueForKey",value:function(e,t){var n=this.state[e];return null===n&&(n=t),n}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.formValueForKey("transcribeVoicemail",this.props.agent.transcribeVoicemail),a=this.formValueForKey("encryptVoicemail",this.props.agent.encryptVoicemail),o=this.formValueForKey("deliverEmail",this.props.agent.deliverEmail),i=this.formValueForKey("deliverSMS",this.props.agent.deliverSMS),c=this.formValueForKey("extensionNumber",this.props.agent.extension),l=this.formValueForKey("deliverSMSPhoneNumber",this.props.agent.deliverSMSPhoneNumber);return r.a.createElement("div",null,r.a.createElement("h6",{className:t.title},"Agent Voicemail Settings"),r.a.createElement(nt.a,{className:t.userInfo,container:!0,direction:"column"},r.a.createElement(qt.a,null,r.a.createElement(Ht.a,{htmlFor:"agent-name"},"Name"),r.a.createElement(Jt.a,{id:"agent-name",disableUnderline:!0,readOnly:!0,value:this.props.agent.firstName+" "+this.props.agent.lastName})),r.a.createElement(qt.a,null,r.a.createElement(Ht.a,{htmlFor:"phone-type"},"Email"),r.a.createElement(Jt.a,{id:"agent-email",disableUnderline:!0,readOnly:!0,value:this.props.agent.email?this.props.agent.email:this.props.agent.username})),r.a.createElement(qt.a,null,r.a.createElement(Ht.a,{htmlFor:"phone-type"},"Phone Type"),r.a.createElement(Jt.a,{id:"phone-type",disableUnderline:!0,readOnly:!0,value:this.props.agent.phoneType})),"Desk Phone"===this.props.agent.phoneType?r.a.createElement(qt.a,null,r.a.createElement(Ht.a,{htmlFor:"phone-number"},"Phone Number"),r.a.createElement(Jt.a,{id:"phone-number",disableUnderline:!0,readOnly:!0,value:this.props.agent.phoneNumber})):null),r.a.createElement("div",null,r.a.createElement(nt.a,{className:t.padTop,container:!0,direction:"row",justify:"flex-start"},r.a.createElement(nt.a,{item:!0},r.a.createElement(an,{label:"Transcribe",name:"transcribeVoicemail",id:"transcribe",onChange:this.handleCheckBoxChange,checked:n})),r.a.createElement(nt.a,{item:!0},r.a.createElement(an,{label:"Encrypt",name:"encryptVoicemail",id:"encrypt",onChange:this.handleCheckBoxChange,checked:a}))),r.a.createElement(kt.a,{name:"extensionNumber",inputProps:{maxlength:"5"},disabled:this.props.loading||this.props.saving,className:t.textField,fullWidth:!0,onChange:this.handleExtensionNumberChange,value:c||"",label:"Extension"}),r.a.createElement("p",null,"Delivery Options"),r.a.createElement(nt.a,{container:!0,direction:"column",justify:"flex-start"},r.a.createElement(nt.a,{item:!0},r.a.createElement(an,{label:"Email",name:"deliverEmail",id:"deliverEmail",onChange:this.handleCheckBoxChange,checked:o})),r.a.createElement(nt.a,{item:!0},r.a.createElement(an,{label:"SMS",name:"deliverSMS",id:"deliverSMS",onChange:this.handleCheckBoxChange,checked:i}))),i?r.a.createElement(en.a,{placeholder:"Phone Number for SMS",onChange:this.phoneNumberInputChange,defaultCountry:"us",disableAreaCodes:!0,onlyCountries:this.props.availableSMSCountries,countryCodeEditable:!1,autoFormat:!0,value:l||""}):null),r.a.createElement("p",null),this.props.agentUpdateError||this.state.validationError?r.a.createElement("p",{className:t.error},this.props.agentUpdateError||this.state.validationError):null,r.a.createElement(nt.a,{container:!0,spacing:5,direction:"row"},r.a.createElement(nt.a,{item:!0},r.a.createElement(dt.a,{color:"secondary",onClick:function(){e.props.showAgent(!1)}},"Cancel")),r.a.createElement(nt.a,{item:!0},r.a.createElement(At,{loading:this.props.agentUpdateInProgress,color:"primary",variant:"contained",onClick:this.handleSave},"Save"))))}}]),n}(a.Component),on=Object(Be.b)((function(e){return{agent:e.agents.agent,availableSMSCountries:e.globalSettings.availableSMSCountries,agentUpdateError:e.agents.updateError,agentUpdateInProgress:e.agents.updateInProgress}}),(function(e){return{showAgent:function(t,n){return e(le(t,n))},updateAgent:function(t,n,a,r,o,i,c){return e(oe(t,n,a,r,o,i,c))}}}))(Object(Qe.a)((function(e){return Object(l.a)(Object(l.a)({},e.modal),{},{userInfo:{marginTop:20},paper:{padding:20,width:350}})}))(rn)),cn=function(e){Object(He.a)(n,e);var t=Object(Je.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={},a}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(pt,null),r.a.createElement("p",null," The user you logged in with is not valid. Log in again and contact your administrator if you continue to see an issue."))}}]),n}(a.Component),ln=function(e){Object(He.a)(n,e);var t=Object(Je.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props.classes;return""===this.props.role?r.a.createElement("div",null,r.a.createElement(pt,null),r.a.createElement("p",null,' The user you logged in with is not in the "Manager" Cognito User Pool group. You must be a member of this group to view this page.')):r.a.createElement("div",null,r.a.createElement(pt,null),r.a.createElement(Rt,{className:t.agentsTable}),r.a.createElement(Mt.a,{scroll:"paper",disableAutoFocus:!0,open:this.props.showGlobalSettingsModal,closeAfterTransition:!0,BackdropComponent:Bt.a,onClose:function(){e.props.showSettings(!1)}},r.a.createElement(Ut.a,{in:this.props.showGlobalSettingsModal},r.a.createElement(Ft.a,null,r.a.createElement($t,null)))),r.a.createElement(Mt.a,{scroll:"paper",disableAutoFocus:!0,open:this.props.showAgentSettings,closeAfterTransition:!0,BackdropComponent:Bt.a,onClose:function(){e.props.showAgentModal(!1)}},r.a.createElement(Ut.a,{in:this.props.showAgentSettings},r.a.createElement(Ft.a,null,r.a.createElement(on,null)))),r.a.createElement(Mt.a,{scroll:"paper",disableAutoFocus:!0,open:this.props.showContactFlowModal,closeAfterTransition:!0,BackdropComponent:Bt.a,onClose:function(){e.props.showContactFlow(!1)}},r.a.createElement(Ut.a,{in:this.props.showContactFlowModal},r.a.createElement(Ft.a,null,r.a.createElement(Qt,null)))))}}]),n}(a.Component),sn=Object(Be.b)((function(e){var t="";if(e.auth.user){var n=e.auth.user.roles;n&&n.includes(st.MANAGER)&&(t="Manager"),n&&n.includes(st.ADMIN)&&(t="Administrator")}return{showGlobalSettingsModal:e.globalSettings.showModal,agents:e.agents.agents,agentsSortKey:e.agents.sortKey,agentsSortOrder:e.agents.sortOrder,showAgentSettings:e.agents.showAgentSettings,agent:e.agents.agent,showContactFlowModal:e.contactFlow.showModal,contactFlowDownloading:e.contactFlow.downloading,role:t}}),(function(e){return{logout:function(){return e(C())},getAgents:function(){return e(re())},sortAgents:function(t,n){return e(ie(t,n))},showSettings:function(t){return e(Ee(t))},showAgentModal:function(t,n){return e(le(t,n))},showContactFlow:function(t){return e(Ve(t))},downloadContactFlow:function(t){return e(Pe(t))}}}))(Object(Qe.a)((function(e){return{agentsTable:{margin:25},modal:{display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid black"},noFocus:{padding:e.spacing(2,4,3),"&:focus":{outlineWidth:"0 !important",outlineStyle:"none"}}}}))(function(e,t){var n=function(n){Object(He.a)(o,n);var a=Object(Je.a)(o);function o(e){var t;return Object(s.a)(this,o),(t=a.call(this,e)).state={authState:"loading"},t}return Object(u.a)(o,[{key:"componentDidMount",value:function(){this._checkAndRedirect()}},{key:"componentDidUpdate",value:function(){this._checkAndRedirect()}},{key:"_checkAndRedirect",value:function(){var e=this;"loading"===this.state.authState&&d.a.currentAuthenticatedUser().then((function(t){e.props.auth(t),e.setState({authState:"valid"})})).catch((function(t){e.setState({authState:"invalid"}),e.props.redirect()}))}},{key:"render",value:function(){return"valid"===this.state.authState?r.a.createElement(e,this.props):r.a.createElement(t,this.props)}}]),o}(r.a.Component);return Object(Be.b)((function(e){return{auth:e.auth}}),(function(e){return{redirect:function(){return e((function(){$e.push("/login")}))},auth:function(t){return e(j(t))}}}))(n)}(ln,cn))),un=function(e){return{"@global":{body:Object(l.a)(Object(l.a)({},e.typography.body1),{},{margin:0}),h6:{color:e.palette.primary.main,fontWeight:"normal"}}}};d.c.configure({Auth:{region:Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_COGNITO_DOMAIN:"__C_DOMAIN__",REACT_APP_COGNITO_USER_POOL_ID:"__C_POOL__",REACT_APP_API_KEY:"__API_KEY__",REACT_APP_BASE_API:"__BASE_API__",REACT_APP_COGNITO_REDIRECT:"__C_REDIR__",REACT_APP_COGNITO_CLIENT_ID:"__C_CLIENT_ID__"}).REACT_APP_REGION,userPoolId:"__C_POOL__",userPoolWebClientId:"__C_CLIENT_ID__",oauth:{domain:"__C_DOMAIN__",scope:["profile","openid"],redirectSignIn:"__C_REDIR__",redirectSignOut:"__C_REDIR__",responseType:"code"}}});var hn=function(e){Object(He.a)(n,e);var t=Object(Je.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(Ye.c,{history:$e},r.a.createElement(Ye.d,null,r.a.createElement(Ye.b,{exact:!0,path:"/login",component:Ze}),r.a.createElement(Ye.b,{path:"/agents",component:sn}),r.a.createElement(Ye.b,{exact:!0,path:"/",component:Ze}),r.a.createElement(Ye.a,{from:"/*",exact:!0,to:"/agents"})))}}]),n}(a.Component),pn=Object(Qe.a)(un)(hn);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var dn="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.c,mn=Object(c.d)(Re,dn(Object(c.a)(Ue.a)));i.a.render(r.a.createElement(Be.a,{store:mn},r.a.createElement(Ke.a,{theme:qe},r.a.createElement(pn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},241:function(e,t){},248:function(e,t){},446:function(e,t,n){e.exports=n(1208)},479:function(e,t){},481:function(e,t){},490:function(e,t){},492:function(e,t){},517:function(e,t){},519:function(e,t){},520:function(e,t){},525:function(e,t){},527:function(e,t){},533:function(e,t){},535:function(e,t){},554:function(e,t){},566:function(e,t){},569:function(e,t){},595:function(e,t){}},[[446,1,2]]]);
//# sourceMappingURL=main.8c35a8e2.chunk.js.map